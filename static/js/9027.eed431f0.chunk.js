"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[9027,3163],{9027:function(n,e,i){i.r(e),i.d(e,{default:function(){return z}});var t,r,o,s,a,c=i(4165),d=i(5861),u=i(885),l=i(2982),D=i(7313),p=i(3222),b=i(2668),f=i(790),h=i(6173),P=i(4641),_=i(168),x=i(3115),E=i(1237),y=x.ZP.div(t||(t=(0,_.Z)(["\n  padding: 33px 0 120px;\n  display: ",";\n"])),(function(n){return n.isDisplay?"block":"none"})),S=x.ZP.div(r||(r=(0,_.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 7;\n  width: 100%;\n  display: flex;\n  position: fixed;\n  padding: 10px 10px;\n  margin: 0 0 10px 0;\n  align-items: center;\n  background-color: #fff;\n  justify-content: space-between;\n  & h5 {\n    font-size: 13px;\n    font-weight: 700;\n  }\n  @media (min-width: 1200px) {\n    left: 25%;\n    width: 50%;\n  }\n"]))),O=x.ZP.div(o||(o=(0,_.Z)(["\n  margin: 15px 0 0;\n  padding: 0 0 15px;\n"]))),U=x.ZP.div(s||(s=(0,_.Z)(["\n  margin: 0;\n  z-index: 7;\n  width: 100%;\n  display: flex;\n  position: fixed;\n  margin: -9px 0px 0px;\n  background-color: ",";\n  border-top: 1px solid rgba(0, 0, 0, 0.12);\n  border-bottom: 1px solid ",";\n  @media (min-width: 1200px) {\n    width: 50%;\n  }\n"])),E.Z.ivoryEgg,E.Z.secondary),g=x.ZP.div(a||(a=(0,_.Z)(["\n  padding: 5px;\n  cursor: pointer;\n  font-size: 11px;\n  font-weight: 500;\n  text-align: center;\n  position: relative;\n  text-transform: uppercase;\n  width: ",";\n  color: ",";\n  border-bottom: 2px solid ",";\n"])),(function(n){return"".concat(100/n.itemQty,"%")}),(function(n){return n.activeColor.textColor}),(function(n){return n.activeColor.borderColor})),m=i(2153),C=i(5164),A=i(3454),Z=i(3163),T=i(7119),j=i(7123),R=i(6417),k=(0,D.lazy)((function(){return i.e(6853).then(i.bind(i,6853))})),B=(0,D.lazy)((function(){return i.e(2785).then(i.bind(i,2785))})),v=(0,D.lazy)((function(){return Promise.all([i.e(677),i.e(1625)]).then(i.bind(i,1625))})),N=(0,D.lazy)((function(){return i.e(4157).then(i.bind(i,4157))})),w=(0,D.lazy)((function(){return i.e(7946).then(i.bind(i,7946))})),F=(0,D.lazy)((function(){return Promise.all([i.e(677),i.e(5547)]).then(i.bind(i,5547))})),I=(0,D.lazy)((function(){return i.e(653).then(i.bind(i,653))})),z=function(n){var e=n.isDisplay,i=((0,p.v9)((function(n){return n.authReducer})).viewerQuery||{}).permissions,t=void 0===i?[]:i,r=T.gz.DESTROY_PRODUCT,o=T.gz.IMPORT_RETURN_PRODUCT,s=T.gz.APPROVE_DESTROY_PRODUCT,a=T.gz.CAN_EXCUTE_WAREHOUSE_BALANCE,_=T.gz.CAN_VIEW_WAREHOUSE_BALANCE_DIARIES,x=T.gz.CAN_APPROVE_WAREHOUSE_BALANCE,z=t.includes(s),W=t.includes(_),M=t.includes(x),L=[{label:"T\u1ed3n kho",code:"inventory"},{label:"\u0110\xe3 nh\u1eadp",code:"imported_products"}].concat((0,l.Z)(z?[{label:"\u0110\xe3 b\u1ecf",code:"destroy_damaged"}]:[]),(0,l.Z)(W||M?[{label:"Nh\u1eadt k\xfd",code:"warehouse_balance_diary"}]:[])),Y=(0,p.I0)(),H=(0,D.useState)(L[0]),Q=(0,u.Z)(H,2),V=Q[0],G=Q[1],K="destroy_damaged"===V.code,X="warehouse_balance_diary"===V.code,$=t.includes(o),q=t.includes(r),J=t.includes(a),nn=(0,b.a)(j.bV,{fetchPolicy:"cache-and-network"}),en=nn.data,tn=nn.subscribeToMore,rn=en&&en.global||{},on=rn.isStockChecking,sn=rn.isWarehouseBalancing,an=(0,f.D)(A.eQ),cn=(0,u.Z)(an,1)[0],dn=function(n){return n.code===V.code?{textColor:E.Z.primary,borderColor:E.Z.primary}:{borderColor:"transparent"}},un=function(){switch(V.code){case"inventory":return(0,R.jsx)(D.Suspense,{fallback:(0,R.jsx)(h.default,{}),children:(0,R.jsx)(k,{isDisplay:e,tabCode:"inventory"})});case"imported_products":return(0,R.jsx)(D.Suspense,{fallback:(0,R.jsx)(h.default,{}),children:(0,R.jsx)(B,{})});case"destroy_damaged":return(0,R.jsx)(D.Suspense,{fallback:(0,R.jsx)(h.default,{}),children:(0,R.jsx)(N,{})});case"warehouse_balance_diary":return(0,R.jsx)(D.Suspense,{fallback:(0,R.jsx)(h.default,{}),children:(0,R.jsx)(w,{isStockChecking:on,isWarehouseBalancing:sn})});default:return null}}(),ln=function(){var n={title:"Nh\u1eadp h\xe0ng v\xe0o kho",children:(0,R.jsx)(D.Suspense,{fallback:(0,R.jsx)(h.default,{}),children:(0,R.jsx)(v,{})})};Y((0,m.dn)(n))},Dn=function(){var n={title:"Hu\u1ef7 h\xe0ng h\u1ecfng",children:(0,R.jsx)(D.Suspense,{fallback:(0,R.jsx)(h.default,{}),children:(0,R.jsx)(F,{})})};Y((0,m.dn)(n))},pn=function(){var n=(0,d.Z)((0,c.Z)().mark((function n(){var e;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Y((0,C.S$)()),n.next=3,cn({variables:{data:{isStartStockChecking:!0}}});case 3:setTimeout((function(){Y((0,C.S4)())}),500),e={title:"Ki\u1ec3m kho",customCloseAction:function(){cn({variables:{data:{isStartStockChecking:!1}}})},children:(0,R.jsx)(D.Suspense,{fallback:(0,R.jsx)(h.default,{}),children:(0,R.jsx)(I,{})})},Y((0,m.dn)(e));case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),bn=K?(0,R.jsx)(R.Fragment,{children:q&&(0,R.jsx)(P.Z,{label:"+ Hu\u1ef7 h\xe0ng h\u1ecfng",onClick:Dn})}):X?(0,R.jsx)(R.Fragment,{children:J&&!on&&(0,R.jsx)(P.Z,{label:"+ Ki\u1ec3m kho",onClick:pn})}):(0,R.jsx)(R.Fragment,{children:$&&(0,R.jsx)(P.Z,{label:"+ Nh\u1eadp h\xe0ng v\xe0o kho",onClick:ln})});return(0,D.useEffect)((function(){var n=tn({document:Z.Po,updateQuery:function(n,e){var i=e.subscriptionData;if(i)return{global:i.data.updatedGlobalData}}});return function(){return n()}}),[tn]),(0,R.jsxs)(y,{isDisplay:e,children:[(0,R.jsxs)(S,{children:[(0,R.jsx)("h5",{children:"QU\u1ea2N L\xdd KHO"}),bn]}),(0,R.jsxs)(O,{children:[(0,R.jsx)(U,{children:L.map((function(n,e){return(0,R.jsx)(g,{itemQty:L.length,activeColor:dn(n),onClick:function(){return G(n)},children:n.label},e)}))}),un]})]})}},3163:function(n,e,i){i.d(e,{Fb:function(){return Z},I4:function(){return U},PP:function(){return T},Po:function(){return O},VL:function(){return A},hv:function(){return g},uB:function(){return m},uF:function(){return C}});var t,r,o,s,a,c,d,u,l,D,p,b,f,h,P,_,x,E=i(168),y=i(9237),S=i(9384),O=(0,y.Ps)(t||(t=(0,E.Z)(["\n  subscription SUB_UPDATED_GLOBAL_DATA {\n    updatedGlobalData {\n      ...basicGlobalData\n    }\n  }\n  ","\n"])),S.Ts),U=(0,y.Ps)(r||(r=(0,E.Z)(["\n  subscription SUB_ADDED_NOTIFICATION {\n    addedNewNotification {\n      ...basicNotificationFields\n    }\n  }\n  ","\n"])),S.Y4),g=(0,y.Ps)(o||(o=(0,E.Z)(["\n  subscription SUB_ADDED_ORDER {\n    addedNewOrder {\n      ...basicOrderFields\n    }\n  }\n  ","\n"])),S.dL),m=(0,y.Ps)(s||(s=(0,E.Z)(["\n  subscription SUB_UPDATED_ORDER {\n    updatedAnOrder {\n      ...basicOrderFields\n    }\n  }\n  ","\n"])),S.dL),C=(0,y.Ps)(a||(a=(0,E.Z)(["\n  subscription SUB_ADDED_DISCOUNT_PROMOTION {\n    addedNewDiscountPromotion {\n      ...basicDiscountPromotionFields\n      customerDiaryInfo {\n        diaryCount\n        diaryInfo {\n          ...basicDiscountPromotionDiaryFields\n        }\n        totalBePaidMoneyValue\n      }\n    }\n  }\n  ","\n  ","\n"])),S.MM,S.xC),A=((0,y.Ps)(c||(c=(0,E.Z)(["\n  subscription SUB_UPDATED_DISCOUNT_PROMOTION {\n    updatedDiscountPromotion {\n      ...basicDiscountPromotionFields\n    }\n  }\n  ","\n"])),S.MM),(0,y.Ps)(d||(d=(0,E.Z)(["\n  subscription SUB_ADDED_DISCOUNT_PROMOTION_DIARY {\n    addedNewDiscountPromotionDiary {\n      ...basicDiscountPromotionDiaryFields\n    }\n  }\n  ","\n"])),S.xC)),Z=((0,y.Ps)(u||(u=(0,E.Z)(["\n  subscription SUB_UPDATED_DISCOUNT_PROMOTION_DIARY {\n    updatedDiscountPromotionDiary {\n      ...basicDiscountPromotionDiaryFields\n    }\n  }\n  ","\n"])),S.xC),(0,y.Ps)(l||(l=(0,E.Z)(["\n  subscription SUB_ADDED_DEBT {\n    addedNewDebt {\n      ...basicDebtFields\n    }\n  }\n  ","\n"])),S.l3)),T=((0,y.Ps)(D||(D=(0,E.Z)(["\n  subscription SUB_UPDATED_DEBT {\n    updatedDebt {\n      ...basicDebtFields\n    }\n  }\n  ","\n"])),S.l3),(0,y.Ps)(p||(p=(0,E.Z)(["\n  subscription SUB_ADDED_PRODUCT {\n    addedNewProduct {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),S.UW));(0,y.Ps)(b||(b=(0,E.Z)(["\n  subscription SUB_UPDATED_PRODUCT {\n    updatedProduct {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),S.UW),(0,y.Ps)(f||(f=(0,E.Z)(["\n  subscription SUB_IMPORTED_PRODUCTS {\n    importedProducts {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),S.UW),(0,y.Ps)(h||(h=(0,E.Z)(["\n  subscription SUB_DESTROYED_PRODUCT {\n    destroyedProduct {\n      ...basicDestroyedProductFields\n    }\n  }\n  ","\n"])),S.zY),(0,y.Ps)(P||(P=(0,E.Z)(["\n  subscription SUB_UPDATED_DESTROYED_PRODUCT {\n    updatedDestroyedProduct {\n      ...basicDestroyedProductFields\n    }\n  }\n  ","\n"])),S.zY),(0,y.Ps)(_||(_=(0,E.Z)(["\n  subscription SUB_ADDED_WAREHOUSE_BALANCE {\n    addedWarehouseBalance {\n      ...basicWarehouseBalanceFields\n    }\n  }\n  ","\n"])),S.ms),(0,y.Ps)(x||(x=(0,E.Z)(["\n  subscription SUB_ADDED_WAREHOUSE_BALANCE_DIARY {\n    addedWarehouseBalanceDiary {\n      ...basicWarehouseBalanceDiaryFields\n    }\n  }\n  ","\n"])),S.lH)}}]);