"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[6047],{6047:function(n,e,t){t.r(e),t.d(e,{default:function(){return rn}});var i,r,o,l,c,a,d,s,u,h,f,x,p,g,m=t(1413),v=t(4165),j=t(5861),Z=t(885),w=t(7313),C=t(3306),b=t(2668),y=t(3222),k=t(341),P=t(4641),S=t(6881),I=t(5222),T=t(4408),z=t(6069),A=t(7123),N=t(2153),B=t(1237),D=t(3070),G=t(168),O=t(3115),W=O.ZP.div(i||(i=(0,G.Z)(["\n  font-size: 14px;\n  padding: 10px 0 120px;\n"]))),M=O.ZP.div(r||(r=(0,G.Z)(["\n  display: flex;\n  width: fit-content;\n  margin: 0 auto 30px;\n  justify-content: center;\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n"]))),_=O.ZP.div(o||(o=(0,G.Z)(["\n  cursor: pointer;\n  text-align: center;\n  padding: 8px 18px 7px;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),L=O.ZP.div(l||(l=(0,G.Z)(["\n  display: flex;\n  align-items: center;\n  width: ",";\n  margin: ",";\n  justify-content: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin}),(function(n){return n.justifyContent})),R=(O.ZP.div(c||(c=(0,G.Z)(["\n  display: flex;\n  align-items: center;\n  width: ",";\n  margin: ",";\n  @media (max-width: 468px) {\n    display: block;\n  }\n"])),(function(n){return n.width}),(function(n){return n.margin})),O.ZP.div(a||(a=(0,G.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: ",";\n"])),(function(n){return n.margin}))),H=O.ZP.p(d||(d=(0,G.Z)(["\n  width: ",";\n  margin: ",";\n  font-size: ",";\n  text-align: ",";\n  font-weight: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin}),(function(n){return n.fontSize}),(function(n){return n.textAlign}),(function(n){return n.fontWeight})),U=O.ZP.p(s||(s=(0,G.Z)(["\n  font-weight: 600;\n  color: ",";\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.color}),(function(n){return n.width}),(function(n){return n.margin})),E=O.ZP.span(u||(u=(0,G.Z)(["\n  color: ",";\n  width: ",";\n  margin: ",";\n  font-size: ",";\n  font-style: ",";\n  font-weight: ",";\n"])),(function(n){return n.color}),(function(n){return n.width}),(function(n){return n.margin}),(function(n){return n.fontSize}),(function(n){return n.fontStyle}),(function(n){return n.fontWeight})),F=(O.ZP.p(h||(h=(0,G.Z)(["\n  font-style: italic;\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin})),O.ZP.span(f||(f=(0,G.Z)(["\n  font-style: italic;\n  display: inline-block;\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin}))),K=O.ZP.p(x||(x=(0,G.Z)(["\n  font-weight: 600;\n  font-size: 11px;\n  color: ",";\n"])),B.Z.lightGray),q=O.ZP.div(p||(p=(0,G.Z)(["\n  padding: 0 5px;\n"]))),J=O.ZP.div(g||(g=(0,G.Z)(["\n  padding: 0 5px;\n"]))),Q=t(6417),V=(0,w.lazy)((function(){return Promise.resolve().then(t.bind(t,3514))})),X=(0,w.lazy)((function(){return Promise.all([t.e(5627),t.e(2731)]).then(t.bind(t,7062))})),Y=(0,w.lazy)((function(){return Promise.all([t.e(5627),t.e(6335),t.e(8371)]).then(t.bind(t,8371))})),$=(0,w.lazy)((function(){return Promise.all([t.e(5627),t.e(5675),t.e(5882)]).then(t.bind(t,5675))})),nn=function(n){var e=n.leadItem,t=e||{},i=t.note,r=t.roles,o=t.idCode,l=t.address,c=t.fullName,a=t.location,d=t.avatarImage,s=t.addressNote,u=t.dateOfBirth,h=t.phoneNumber,f=t.leadGroupInfo,x=(0,y.I0)(),p=a||{},g=p.province,m=p.district,b=p.commune,T="".concat((0,S.Z)(null===b||void 0===b?void 0:b.label)," - ").concat((0,S.Z)(null===m||void 0===m?void 0:m.label)," - ").concat((0,S.Z)(null===g||void 0===g?void 0:g.label)),B=null!==g&&void 0!==g&&g.label?T:l||s,G=f||{},O=G.label,W=G.colorCode,M=r.includes(D.If.CUSTOMER),_=(0,C.t)(A.hz,{variables:{where:{provinceCode:null===g||void 0===g?void 0:g.code}}}),R=(0,Z.Z)(_,1)[0],K=(0,C.t)(A.j5,{variables:{where:{districtCode:null===m||void 0===m?void 0:m.code}}}),q=(0,Z.Z)(K,1)[0],V=function(){var n=(0,j.Z)((0,v.Z)().mark((function n(){var t;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:M?(t={title:"C\u1eadp nh\u1eadt kh\xe1ch h\xe0ng",children:(0,Q.jsx)(w.Suspense,{fallback:null,children:(0,Q.jsx)($,{customerAccount:e})})},x((0,N.Cg)(t))):R({onCompleted:function(n){q({onCompleted:function(t){var i,r=(null===t||void 0===t?void 0:t.vnCommunesByDistrict)||[],o=(null===n||void 0===n||null===(i=n.vnProvinceByCode)||void 0===i?void 0:i.districts)||[],l={title:"C\u1eadp nh\u1eadt lead",children:(0,Q.jsx)(w.Suspense,{fallback:null,children:(0,Q.jsx)(Y,{leadItem:e,initCommunes:r,initDistricts:o})})};x((0,N.Cg)(l))}})}});case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Q.jsxs)(J,{children:[(0,Q.jsxs)(I.Z,{children:[(0,Q.jsxs)(L,{justifyContent:"space-between",children:[(0,Q.jsxs)(L,{children:[(0,Q.jsx)(k.Z,{fullName:c,avatarUri:d}),(0,Q.jsx)(U,{margin:"0 5px",color:W,children:c})]}),(0,Q.jsx)(P.Z,{label:"C\u1eadp nh\u1eadt",onClick:V})]}),(0,Q.jsxs)(H,{margin:"10px 0 0 0",children:[(0,Q.jsx)(F,{width:"65px",children:"M\xe3"}),":\u2002",o]}),(0,Q.jsxs)(H,{children:[(0,Q.jsx)(F,{width:"65px",children:"\u0110\u1ecba ch\u1ec9"}),":\u2002",B]}),(0,Q.jsxs)(H,{children:[(0,Q.jsx)(F,{width:"65px",children:"Ng\xe0y sinh"}),":\u2002",(0,z.dh)(u)]}),(0,Q.jsxs)(H,{children:[(0,Q.jsx)(F,{width:"65px",children:"\u0110i\u1ec7n tho\u1ea1i"}),":\u2002",h]})]}),(0,Q.jsx)(I.Z,{children:(0,Q.jsxs)(H,{children:[(0,Q.jsx)(F,{width:"65px",children:"Nh\xf3m lead"}),":\u2002",(0,Q.jsx)(E,{color:W,children:O})]})}),(0,Q.jsx)(I.Z,{children:(0,Q.jsxs)(H,{children:[(0,Q.jsx)(F,{width:"65px",children:"Ghi ch\xfa"}),":\u2002",i]})})]})},en=function(n){var e,t=n.leadItem,i=(0,y.I0)(),r=(0,w.useState)(void 0),o=(0,Z.Z)(r,2),l=o[0],c=o[1],a=(0,w.useState)(void 0),d=(0,Z.Z)(a,2),s=d[0],u=d[1],h=t||{},f=h.saleStaffInfo,x=h._id,p=(h.fullName,h.leadGroupInfo),g=((f||{}).fullName,(p||{}).colorCode,(0,z.SB)()),v=(0,b.a)(A.Cc,{variables:{filter:(0,m.Z)((0,m.Z)({customerAccountId:x},l&&{endTime:new Date(l)}),s&&{startTime:new Date(s)})},fetchPolicy:"cache-and-network"}),j=v.data,C=v.refetch,k=(null===j||void 0===j||null===(e=j.conversations)||void 0===e?void 0:e.edges)||[],S=(0,b.a)(A.yS,{fetchPolicy:"network-only",variables:{filter:(0,m.Z)((0,m.Z)({customerAccountId:x},l&&{endTime:new Date(l)}),s&&{startTime:new Date(s)})}}).data,D=(null===S||void 0===S?void 0:S.conversationSummary)||{}||{},G=D.totalCount,O=D.totalThisMonthCount;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(R,{margin:"15px 5px",children:[(0,Q.jsx)(K,{children:"NH\u1eacT K\xdd TRAO \u0110\u1ed4I"}),g&&(0,Q.jsx)(P.Z,{label:"+ Th\xeam m\u1edbi",onClick:function(){var n={};n=-1!==navigator.userAgent.indexOf("Safari")&&-1!==navigator.userAgent.indexOf("Mac")&&-1===navigator.userAgent.indexOf("Chrome")?{bodyHeight:"100%",showTopCloseButton:!1,children:(0,Q.jsx)("iframe",{width:"100%",height:"100%",title:"T\u1ea1o cu\u1ed9c g\u1eb7p m\u1edbi",src:"".concat("https://ai.g5-app.com","/?action=create-conversation")}),customBodyStyle:{padding:"0",width:"100%",backgroundColor:B.Z.black}}:{title:"Th\xeam trao \u0111\u1ed5i m\u1edbi",children:(0,Q.jsx)(X,{refetchConversations:C})},i((0,N.Cg)(n))}})]}),(0,Q.jsxs)(I.Z,{borderRadius:"0",children:[(0,Q.jsxs)(L,{margin:"15px 0 20px",children:[(0,Q.jsx)(H,{fontWeight:"600",children:"Th\u1eddi gian"}),":",(0,Q.jsx)(T.Z,{type:"date",value:s,onChange:function(n){return u(n.target.value)}})," ","-"," ",(0,Q.jsx)(T.Z,{type:"date",value:l,onChange:function(n){return c(n.target.value)}})]}),(0,Q.jsxs)(L,{margin:"10px 0 0 0",justifyContent:"space-around",children:[(0,Q.jsxs)("div",{children:[(0,Q.jsx)(H,{fontSize:"14px",textAlign:"center",children:"T\u1ed5ng cu\u1ed9c trao \u0111\u1ed5i"}),(0,Q.jsxs)(H,{textAlign:"center",children:[(0,Q.jsx)(E,{fontSize:"16px",fontWeight:"600",color:B.Z.primary,children:G}),(0,Q.jsx)(E,{margin:"0 3px",fontStyle:"italic",color:B.Z.rgbaGray,children:"cu\u1ed9c"})]})]}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)(H,{fontSize:"14px",children:"Th\xe1ng n\xe0y"}),(0,Q.jsxs)(H,{textAlign:"center",children:[(0,Q.jsx)(E,{fontSize:"16px",fontWeight:"600",color:B.Z.primary,children:O}),(0,Q.jsx)(E,{margin:"0 0 0 3px",fontStyle:"italic",color:B.Z.rgbaGray,children:"cu\u1ed9c"})]})]})]})]}),(0,Q.jsx)(q,{children:(0,Q.jsx)(w.Suspense,{fallback:null,children:k.map((function(n,e){return(0,Q.jsx)(V,{conversationItem:null===n||void 0===n?void 0:n.node},e)}))})})]})},tn=function(n){var e=n.leadItem,t=[{code:"general_info",label:"Th\xf4ng tin"},{code:"conversations",label:"Trao \u0111\u1ed5i"}],i=(0,w.useState)(t[1]),r=(0,Z.Z)(i,2),o=r[0],l=r[1],c=function(n){return n.code===o.code?{backgroundColor:B.Z.primary,textColor:B.Z.white}:{backgroundColor:B.Z.white,textColor:""}},a=function(){switch(o.code){case t[0].code:return(0,Q.jsx)(nn,{leadItem:e});case t[1].code:return(0,Q.jsx)(en,{leadItem:e});default:return null}}();return(0,Q.jsxs)(W,{children:[(0,Q.jsx)(M,{children:t.map((function(n,e){return(0,Q.jsx)(_,{activeColor:c(n),onClick:function(){return l(n)},borderLeftColor:e>0?B.Z.tabsBorderLeft:"transparent",children:n.label},e)}))}),a]})};tn.defaultProps={};var rn=tn}}]);