"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[746],{2447:function(n,e,t){t.d(e,{Z:function(){return Y}});var r,o,i,c,a,d,l,s,u,p,h,_,x,f=t(885),g=t(7313),m=t(3222),E=t(2669),v=t(6618),b=t(6881),C=t(6069),R=t(168),Z=t(3115),T=t(1237),P=(Z.ZP.div(r||(r=(0,R.Z)(["\n  padding: 0;\n  font-size: 12px;\n"]))),Z.ZP.div(o||(o=(0,R.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),Z.ZP.div(i||(i=(0,R.Z)([""]))),Z.ZP.div(c||(c=(0,R.Z)(["\n  display: flex;\n  margin: 15px auto;\n  width: fit-content;\n  justify-content: center;\n  border: solid 1px ",";\n"])),T.Z.primary),Z.ZP.div(a||(a=(0,R.Z)(["\n  padding: 5px 10px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),Z.ZP.div(d||(d=(0,R.Z)(["\n  cursor: pointer;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  margin: ",";\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"])),(function(n){return n.customerMargin}))),A=Z.ZP.div(l||(l=(0,R.Z)([""]))),O=(Z.ZP.div(s||(s=(0,R.Z)(["\n  display: flex;\n  margin: 10px 0 5px;\n  align-items: center;\n  justify-content: space-between;\n"]))),Z.ZP.span(u||(u=(0,R.Z)(["\n  font-size: 12px;\n  font-style: italic;\n  color: ",";\n"])),T.Z.secondary)),j=Z.ZP.p(p||(p=(0,R.Z)(["\n  font-size: 12px;\n  width: fit-content;\n  font-style: italic;\n  color: ",";\n"])),T.Z.secondary),N=Z.ZP.div(h||(h=(0,R.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),y=Z.ZP.div(_||(_=(0,R.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),I=Z.ZP.div(x||(x=(0,R.Z)(["\n  padding: 3px 5px;\n  font-size: 12px;\n  &:hover {\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  }\n"]))),D=t(2153),w=t(3070),k=t(6524),S=t(6417),M=w.fH.MONEY_FIXED_VALUE,F=w.fH.MONEY_PERCENT_OF_ORDER_VALUE,V=w.fH.MONEY_PERCENT_OF_DIFFERENCE_ORDER_VALUE,H=w.fH.MONEY_ORDER_QUANTITY,U=w.fH.MONEY_DIFFERENCE_ORDER_QUANTITY,L=w.fH.MONEY_ORDER_WEIGHT,z=w.fH.MONEY_DIFFERENCE_ORDER_WEIGHT,K=(0,g.lazy)((function(){return t.e(5364).then(t.bind(t,7471))})),X=function(n){var e,t=n.customerMargin,r=n.discountPromotionItem,o=(0,m.I0)(),i=(0,g.useRef)(null),c=(0,g.useState)(!1),a=(0,f.Z)(c,2),d=a[0],l=a[1],s=d?"block":"none",u=r||{},p=u._id,h=(u.code,u.typeCode),_=u.startTime,x=u.endTime,R=u.title,Z=u.conditions,T=u.detail,X=u.payWhenCreateOrder,Y=T.moneyMethodCode,W=T.products,B=T.value,Q=T.giftDescription,G=T.paymentTypeCode,q=h===w.t_.OTHER,J=(0,C.dh)(_),$=(0,C.dh)(x),nn=R&&(null===(e=R[0])||void 0===e?void 0:e.showText),en=X?"Tr\u1ea3 ngay khi \u0111\u1eb7t h\xe0ng":"Tr\u1ea3 sau",tn=function(n,e){var t=1===n.length,r=function(){switch(e){case w.rh.MONEY_ACHIEVE_TYPE:return"\u0111";case w.rh.QUANTITY_ACHIEVE_TYPE:return"bao";case w.rh.WEIGHT_ACHIEVE_TYPE:return"".concat(n[0].netUnitValue).concat(n[0].unitString)}}(),o=function(n,e){var o=n.minRequireValue,i=(n.productInfo||{}).name;t||"".concat(e+1,". ");return(0,S.jsxs)("p",{children:[(0,S.jsx)(O,{children:"- Khi mua"})," ",(0,b.Z)(i)," - S\u1ed1 l\u01b0\u1ee3ng: \u2265 ",o," (",r,")"," "]})};return n.map((function(n,e){return(0,S.jsx)(g.Fragment,{children:o(n,e)},e)}))},rn=(0,S.jsx)(S.Fragment,{children:Z.map((function(n,e){var t=n.products,r=n.productConditionType,o=n.minTotalRequireValue,i=(0,C.RX)(r,t[0].netUnitValue,t[0].unitString);return(0,S.jsxs)(g.Fragment,{children:[tn(t,r),(0,S.jsxs)("p",{children:["T\u1ed5ng ",i.type," c\u1ea7n \u0111\u1ea1t: ",o," ",i.unit]}),(0,S.jsx)("hr",{})]},e)}))}),on=(0,S.jsx)(S.Fragment,{children:function(){var n=[M,F,V,H,U,L,z];switch(G){case w.ad.MONEY_TYPE:var e=n.find((function(n){return n.value===Y}));return"T\u1eb7ng/CKKM: ".concat(function(n){if(n.value===M.value)return"Ti\u1ec1n m\u1eb7t ".concat(B.toLocaleString()," \u0111");var e=n.value.includes("percent_of")?"%":"\u0111";return"Ti\u1ec1n = ".concat(B.toLocaleString()).concat(e)+n.label.slice(12)}(e));case w.ad.GIFT_TYPE:return"T\u1eb7ng/CKKM: ".concat(Q," tr\u1ecb gi\xe1 ").concat(B.toLocaleString()," \u0111");case w.ad.TAX_OFFSET:return"C\u1ea5n tr\u1eeb: ".concat(Q," ").concat(B.toLocaleString()," \u0111");case w.ad.PRODUCT_TYPE:return function(n){var e=1===n.length,t=function(n,t){var r,o=n.quantity,i=(n.productInfo||{}).name,c=e?"T\u1eb7ng/CKKM:":"".concat(t+1,". ");return(0,S.jsxs)("p",{children:[c,"T\u1eb7ng ",o," ",i&&(null===(r=i[0])||void 0===r?void 0:r.showText)]})};return(0,S.jsxs)(S.Fragment,{children:[!e&&(0,S.jsx)("p",{children:"T\u1eb7ng/CKKM:"}),n.map((function(n,e){return(0,S.jsx)(g.Fragment,{children:t(n,e)},e)}))]})}(W);default:return null}}()}),cn=(0,S.jsx)(y,{display:s,ref:i,children:(0,S.jsx)(I,{onClick:function(){var n={title:"Tr\u1ea3 CK/KM cho ch\u01b0\u01a1ng tr\xecnh d\u1ea1ng kh\xe1c",children:(0,S.jsx)(g.Suspense,{fallback:(0,S.jsx)(S.Fragment,{children:"..."}),children:(0,S.jsx)(k.default,{discountPromotionId:p})})};o((0,D.dn)(n))},children:"Tr\u1ea3 CK/KM"})}),an=(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(N,{onClick:function(){return l(!d)},children:(0,S.jsx)(v.Z,{})}),cn]});return(0,g.useEffect)((function(){var n=function(n){i.current&&!i.current.contains(n.target)&&l(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[i]),(0,S.jsxs)(P,{customerMargin:t,children:[q&&an,(0,S.jsxs)(A,{onClick:function(){var n={title:"Chi ti\u1ebft chi\u1ebft kh\u1ea5u/khuy\u1ebfn m\u1ea1i",children:(0,S.jsx)(g.Suspense,{fallback:(0,S.jsx)(S.Fragment,{children:"..."}),children:(0,S.jsx)(K,{discountPromotionItem:r})})};o((0,D.FV)(n))},children:[(0,S.jsxs)(E.Z,{fontSize:12,fontWeight:700,children:[J," - ",$,": ",nn]}),rn,on,(0,S.jsx)(j,{children:en})]})]})};X.defaultProps={customerMargin:"15px 10px"};var Y=X},746:function(n,e,t){t.r(e),t.d(e,{default:function(){return fn}});var r,o,i,c,a,d,l,s,u,p,h,_,x,f,g,m,E,v,b,C,R,Z,T=t(4165),P=t(5861),A=t(885),O=t(7313),j=t(3222),N=t(2668),y=t(790),I=t(324),D=t(5222),w=t(4641),k=t(2397),S=t(1677),M=t(1300),F=t(2447),V=t(3354),H=t(9146),U=t(168),L=t(3115),z=t(1237),K=L.ZP.div(r||(r=(0,U.Z)(["\n  font-size: 12px;\n  padding: 10px 0 150px;\n"]))),X=L.ZP.div(o||(o=(0,U.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),Y=L.ZP.span(i||(i=(0,U.Z)(["\n  padding: 1px 5px;\n  border-radius: 3px;\n  background-color: ",";\n"])),z.Z.secondary),W=L.ZP.div(c||(c=(0,U.Z)(["\n  display: flex;\n  margin: 10px 0;\n  padding: 0 0 5px;\n  align-items: center;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n  // justify-content: space-between;\n"]))),B=L.ZP.div(a||(a=(0,U.Z)(["\n  width: 35px;\n  height: 35px;\n  display: flex;\n  align-items: center;\n  & > img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),Q=L.ZP.div(d||(d=(0,U.Z)(["\n  width: 70%;\n  margin: 0 0 0 10px;\n"]))),G=L.ZP.div(l||(l=(0,U.Z)(["\n  width: 30%;\n  text-align: right;\n  margin: 0 0 0 10px;\n"]))),q=L.ZP.p(s||(s=(0,U.Z)(["\n  font-style: italic;\n  color: ",";\n"])),z.Z.secondary),J=L.ZP.p(u||(u=(0,U.Z)(["\n  font-size: 15px;\n  font-weight: 700;\n  color: ",";\n"])),z.Z.primary),$=L.ZP.span(p||(p=(0,U.Z)(["\n  font-size: 12px;\n  font-weight: 500;\n  color: ",";\n"])),(function(n){return n.textColor})),nn=(L.ZP.div(h||(h=(0,U.Z)(["\n  text-align: center;\n  margin: 0 0 0 25px;\n"]))),L.ZP.h3(_||(_=(0,U.Z)(["\n  font-weight: 700;\n  margin: 25px 10px 0;\n  color: ",";\n"])),z.Z.secondary)),en=L.ZP.span(x||(x=(0,U.Z)(["\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  margin: 0 5px 0 0;\n  text-decoration: line-through;\n"]))),tn=(L.ZP.div(f||(f=(0,U.Z)(["\n  padding: 10px;\n  cursor: pointer;\n  margin: 0 0 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),L.ZP.h5(g||(g=(0,U.Z)(["\n  font-weight: 700;\n"]))),L.ZP.div(m||(m=(0,U.Z)(["\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  padding: 10px;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ",";\n"])),z.Z.rgbaBlack)),rn=L.ZP.div(E||(E=(0,U.Z)(["\n  width: 50%;\n  display: flex;\n  position: relative;\n  justify-content: center;\n"]))),on=L.ZP.div(v||(v=(0,U.Z)(["\n  left: 0;\n  bottom: 25px;\n  width: 150px;\n  padding: 5px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),cn=L.ZP.p(b||(b=(0,U.Z)(["\n  margin: 5px;\n  font-size: 12px;\n  cursor: pointer;\n  padding: 5px;\n  &:hover {\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  }\n"]))),an=L.ZP.p(C||(C=(0,U.Z)(["\n  color: #fff;\n  font-size: 13px;\n  font-weight: 600;\n  text-transform: uppercase;\n"]))),dn=(L.ZP.span(R||(R=(0,U.Z)(["\n  color: #fff;\n  padding: 2px 5px;\n  font-weight: 700;\n  border-radius: 5px;\n  background-color: ",";\n"])),z.Z.primary),L.ZP.div(Z||(Z=(0,U.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),t(2153)),ln=t(3454),sn=t(7123),un=t(3070),pn=t(7119),hn=t(6417),_n=function(n){var e=n.productItem,t=n.viewerQuery||{},r=(t.applyingDiscount,t.permissions),o=(t.roles,e||{}),i=o.orderQty,c=o.code,a=o.name,d=o.imgUri,l=o.price,s=o.stockQty,u=o.netUnitValue,p=o.unitString,h=r.includes(pn.gz.VIEW_WAREHOUSE_INVENTORY),_=s>=i?z.Z.secondary:z.Z.lightRed,x=h?(0,hn.jsxs)($,{textColor:_,children:["\u2002(",s,")"]}):null;return(0,hn.jsxs)(W,{children:[(0,hn.jsx)(B,{children:(0,hn.jsx)("img",{src:d,alt:"product-img"})}),(0,hn.jsxs)(Q,{children:[(0,hn.jsxs)("p",{children:[c," - ",a[0].showText]}),(0,hn.jsxs)(q,{children:[u,p]})]}),(0,hn.jsxs)(G,{children:[(0,hn.jsxs)(J,{children:[i,x]}),(0,hn.jsxs)("p",{children:[l.toLocaleString(),"\u0111"]})]})]})},xn=function(n){var e=n.customerAccountId,t=n.orderProducts,r=n.orderItem,o=r||{},i=o.products,c=o.customerInfo||{},a=c.currentDebtBalance,d=c.fullName,l=c.address,s=c.phoneNumber,u=(0,j.I0)(),p=(0,O.useState)(t||i),h=(0,A.Z)(p,2),_=h[0],x=(h[1],(0,j.v9)((function(n){return n.authReducer})).viewerQuery),f=(0,O.useState)(!1),g=(0,A.Z)(f,2),m=g[0],E=g[1],v=(0,N.a)(sn.fB).refetch,b=(0,y.D)(ln.d4),C=(0,A.Z)(b,1)[0],R=(0,y.D)(ln.rF),Z=(0,A.Z)(R,1)[0],U=(0,y.D)(ln.xi),L=(0,A.Z)(U,1)[0],z=(0,y.D)(ln.e9),W=(0,A.Z)(z,1)[0],B=x.fullName,Q=x.address,G=x.phoneNumber,q=x.applyingDiscount,J=x.staffAccountId,$=x.managerAccountId,xn=x.directorAccountId,fn=x.saleStaffInfo,gn=x.roles,mn=x.permissions,En=x.currentDebtBalance,vn=e||x._id,bn=r?a.toLocaleString():En.toLocaleString(),Cn=r?d:B,Rn=r?l:Q,Zn=r?s:G,Tn=gn.includes(un.If.CUSTOMER),Pn=t?_.map((function(n){return{code:n.code}})):[],An={discountValue:q,orderedProducts:Pn,customerAccountId:vn},On=(0,N.a)(sn.UZ,{variables:{where:An},skip:!t}).data,jn={orderedProducts:Pn,customerAccountId:vn},Nn=(0,N.a)(sn.fb,{variables:{where:jn},skip:!t}).data,yn=On&&On.orderReachedPayImmediatelyDiscountPromotions||[],In=Nn&&Nn.orderRelatePayLaterDiscountPromotions||[],Dn=0,wn=(_.forEach((function(n){var e=n.orderQty,t=n.price;Dn+=e*t})),(Dn*(1-q/100)).toLocaleString()),kn=(0,O.useRef)(null),Sn=m?"block":"none",Mn="",Fn=null;if(t){Mn="Ch\u1edd x\xe1c nh\u1eadn \u0111\u1eb7t h\xe0ng";var Vn=function(){var n=(0,P.Z)((0,T.Z)().mark((function n(){var e,t,r,o,i,c,a,d,l,s,p,h,x,f;return(0,T.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=[],t=0;t<_.length;t++)r=_[t],o=r.code,i=r.name,c=r.orderQty,a=r.price,d=r.netUnitValue,l=r.unitString,s=i.map((function(n){return{showText:n.showText,locale:n.locale}})),p={code:o,name:s,orderQty:c,price:a,netUnitValue:d,unitString:l},e.push(p);return h=yn.map((function(n){return n.code})),x=In.map((function(n){return n.code})),f={products:e,customerAccountId:vn,staffAccountId:J,managerAccountId:$,directorAccountId:xn,reachedPayImmediatelyCodes:h,relatePayLaterPromotionCodes:x},n.next=7,C({variables:{data:f}});case 7:n.sent.data&&(localStorage.removeItem(un.B),v(),u((0,dn.mm)()));case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Hn=(0,hn.jsxs)(rn,{children:[(0,hn.jsx)(k.Z,{label:"G\u1ecdi",onClick:function(){return E(!0)}}),(0,hn.jsxs)(on,{display:Sn,ref:kn,children:[(0,hn.jsx)(cn,{onClick:function(){return window.open("tel:0912345678","_self")},children:"Hotline"}),(0,hn.jsx)(cn,{onClick:function(){return window.open("tel:0989 842 132","_self")},children:"Nh\xe2n vi\xean ph\u1ee5 tr\xe1ch"})]})]}),Un=(0,hn.jsx)(M.Z,{label:"X\xe1c nh\u1eadn \u0111\u1eb7t h\xe0ng",onClick:Vn});Fn=(0,hn.jsxs)(tn,{children:[Hn,Un]})}if(r){var Ln=r._id,zn=r.isApprovedDebt,Kn=r.isApproved,Xn=r.isShippedOut,Yn=r.isHandedOver,Wn=r.saleStaffInfo,Bn=r.isSpecialOrder,Qn=(Wn||{}).phoneNumber,Gn=(0,hn.jsxs)(rn,{children:[(0,hn.jsx)(S.Z,{label:"G\u1ecdi",onClick:function(){return E(!0)}}),(0,hn.jsxs)(on,{display:Sn,ref:kn,children:[(0,hn.jsx)(cn,{onClick:function(){return window.open("tel:0912345678","_self")},children:"Hotline"}),(0,hn.jsx)(cn,{onClick:function(){return window.open("tel:".concat(Qn),"_self")},children:"Nh\xe2n vi\xean ph\u1ee5 tr\xe1ch"})]})]}),qn=(0,hn.jsx)(S.Z,{label:"S\u1eeda"}),Jn=(0,hn.jsxs)(tn,{children:[Gn,qn]}),$n=function(){var n=(0,P.Z)((0,T.Z)().mark((function n(e){var t;return(0,T.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t={orderId:Ln},!e){n.next=8;break}return n.next=4,Z({variables:{data:e,where:t}});case 4:n.sent.data&&(v(),u((0,dn.mm)())),n.next=12;break;case 8:return n.next=10,L({variables:{where:t}});case 10:n.sent.data&&(v(),u((0,dn.mm)()));case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ne=function(){var n=(0,P.Z)((0,T.Z)().mark((function n(){var e;return(0,T.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={orderId:Ln},n.next=3,W({variables:{where:e}});case 3:n.sent.data&&(v(),u((0,dn.mm)()));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();if(!zn)Mn="Ch\u1edd duy\u1ec7t c\xf4ng n\u1ee3",Tn&&(Fn=Jn),mn.includes(pn.gz.CAN_APPROVE_DEBT_FOR_ORDER)&&(Fn=(0,hn.jsxs)(tn,{children:[(0,hn.jsxs)(an,{children:["C\xf4ng n\u1ee3: ",bn," \u0111"]}),(0,hn.jsx)(M.Z,{label:"Duy\u1ec7t",onClick:function(){return $n({isApprovedDebt:!0})}})]}));if(zn&&!Kn){Mn="Ch\u1edd x\xe1c nh\u1eadn";var ee=mn.includes(pn.gz.CAN_APPROVE_ORDER),te=mn.includes(pn.gz.CAN_APPROVE_SPECIAL_ORDER);Tn&&!Bn&&(Fn=Jn),ee&&!Bn&&(Fn=(0,hn.jsx)(H.Z,{label:"X\xe1c nh\u1eadn",onClick:function(){return $n({isApproved:!0})}})),te&&Bn&&(Fn=(0,hn.jsx)(tn,{children:(0,hn.jsx)(M.Z,{label:"Duy\u1ec7t",onClick:ne})}))}if(Kn&&!Xn)Mn="\u0110\xe3 x\xe1c nh\u1eadn, ch\u1edd xu\u1ea5t kho",mn.includes(pn.gz.CAN_CONFIRM_SHIPPED_OUT_ORDER)&&(Fn=(0,hn.jsx)(H.Z,{label:"Xu\u1ea5t kho",onClick:function(){return $n()}}));if(Xn&&!Yn)Mn="\u0110\xe3 xu\u1ea5t kho, ch\u1edd giao",mn.includes(pn.gz.CAN_CONFIRM_HANDED_OVER_ORDER)&&(Fn=(0,hn.jsx)(H.Z,{label:"\u0110\xe3 giao",onClick:function(){return $n({isHandedOver:!0})}}));if(Yn)Mn="\u0110\xe3 nh\u1eadn h\xe0ng",mn.includes(pn.gz.CAN_CONFIRM_HANDED_OVER_ORDER)&&(Fn=(0,hn.jsxs)(tn,{children:[(0,hn.jsx)(k.Z,{label:"\u0110\xf3ng l\u1ea1i"}),(0,hn.jsx)(M.Z,{label:"Hu\u1ef7/Xo\xe1",onClick:function(){}})]}))}return(0,O.useEffect)((function(){var n=function(n){kn.current&&!kn.current.contains(n.target)&&E(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[kn]),(0,hn.jsxs)(K,{children:[(0,hn.jsx)("div",{style:{textAlign:"right",margin:"0 15px 10px"},children:(0,hn.jsx)(w.Z,{label:(0,hn.jsxs)(hn.Fragment,{children:["IN ",(0,hn.jsx)(I.Z,{style:{fontSize:18}})]})})}),(0,hn.jsxs)(V.Z,{children:[!!r&&(0,hn.jsxs)("p",{children:["Ng\xe0y t\u1ea1o: 30/11/2022 - M\xe3 \u0111\u01a1n: ",r.code]}),(0,hn.jsxs)("p",{children:["Kh\xe1ch h\xe0ng: ",Cn," - S\u0110T: ",Zn]}),(0,hn.jsxs)("p",{children:["\u0110\u1ecba ch\u1ec9: ",Rn]}),(0,hn.jsxs)("p",{children:["Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch: ",null===fn||void 0===fn?void 0:fn.fullName]})]}),(0,hn.jsx)(D.Z,{style:{margin:"20px 10px 0"},children:(0,hn.jsxs)("p",{children:["Tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng: ",(0,hn.jsx)(Y,{children:Mn})]})}),(0,hn.jsxs)(X,{children:[(0,hn.jsx)(nn,{children:"\u0110\u01a0N H\xc0NG G\u1ed2M:"}),(0,hn.jsxs)(nn,{style:{fontSize:15,marginRight:20},children:[(0,hn.jsxs)(en,{children:[Dn,"\u0111"]})," ",wn,"\u0111"]})]}),(0,hn.jsx)(D.Z,{style:{margin:"0 10px"},children:_.map((function(n,e){return(0,hn.jsx)(_n,{productItem:n,viewerQuery:x},e)}))}),(0,hn.jsx)(w.Z,{style:{marginLeft:10},label:"+ Th\xeam s\u1ea3n ph\u1ea9m"}),function(){if(t)return(0,hn.jsxs)(hn.Fragment,{children:[!!yn.length&&(0,hn.jsx)(nn,{children:"CKKM \u0111\xe3 \u0111\u1ea1t c\u1ee7a \u0111\u01a1n h\xe0ng:"}),yn.map((function(n,e){return(0,hn.jsx)(F.Z,{discountPromotionItem:n},e)})),!!In.length&&(0,hn.jsx)(nn,{children:"CKKM tr\u1ea3 sau li\xean quan \u0111\u1ebfn \u0111\u01a1n h\xe0ng:"}),In.map((function(n,e){return(0,hn.jsx)(F.Z,{discountPromotionItem:n},e)}))]});if(r){var n=r.relatePayLaterPromotions,e=r.reachedPayImmediatelyDiscountPromotions;return(0,hn.jsxs)(hn.Fragment,{children:[!!e.length&&(0,hn.jsx)(nn,{children:"CKKM \u0111\xe3 \u0111\u1ea1t c\u1ee7a \u0111\u01a1n:"}),e.map((function(n,e){return(0,hn.jsx)(F.Z,{discountPromotionItem:n},e)})),!!n.length&&(0,hn.jsx)(nn,{children:"CKKM tr\u1ea3 sau li\xean quan \u0111\u1ebfn \u0111\u01a1n h\xe0ng:"}),n.map((function(n,e){return(0,hn.jsx)(F.Z,{discountPromotionItem:n},e)}))]})}}(),Fn]})};xn.defaultProps={};var fn=xn},7119:function(n,e,t){t.d(e,{Sr:function(){return X},gz:function(){return V}});var r="create:notification",o="crud:product",i="view:warehouse_inventory",c="update:import_return_product",a="update:destroy_product",d="update:approve_destroy_product",l="update:can_switch_have_to_approve_debt_when_create_order_status",s="update:can_approve_debt_for_order",u="update:can_approve_order",p="update:can_confirm_shipped_out_order",h="update:can_confirm_handed_over_order",_="update:can_update_order_before_be_approved",x="update:can_update_order_after_be_approved",f="update:can_cancel_order_after_be_approved",g="update:can_delete_order",m="create:can_create_order",E="create:can_create_special_order",v="update:can_approve_special_order",b="read:can_view_orders",C="read:can_view_debts",R="update:can_switch_have_to_approve_receipt_status",Z="update:can_approve_receipt",T="update:can_confirm_paid_discount_promotion",P="create:can_create_discount_promotion_update_vat",A="update:can_approve_discount_promotion",O="create:can_create_customer",j="read:can_view_report",N="create:can_create_staff_of_customer",y="delete:can_delete_staff_of_customer",I="read:can_view_customer_list",D="create:can_create_staff",w="read:can_view_staff_list",k="delete:can_delete_customer",S="delete:can_delete_staff",M="delete:can_change_staff_work_area",F=[{label:"T\u1ea1o th\xf4ng b\xe1o",code:r},{label:"Th\xeam/xo\xe1/s\u1eeda s\u1ea3n ph\u1ea9m",code:o},{label:"Xem danh s\xe1ch s\u1ea3n ph\u1ea9m trong kho (t\u1ed3n kho)",code:i},{label:"Nh\u1eadp h\xe0ng/Th\xeam tr\u1ea3 h\xe0ng v\xe0o kho",code:c},{label:"Hu\u1ef7 h\xe0ng trong kho",code:a},{label:"X\xe1c nh\u1eadn hu\u1ef7 h\xe0ng trong kho",code:d},{label:"[on/off] duy\u1ec7t c\xf4ng n\u1ee3",code:l},{label:"\u0110\u01b0\u1ee3c ph\xe9p duy\u1ec7t c\xf4ng n\u1ee3",code:s},{label:"X\xe1c nh\u1eadn \u0111\u01a1n \u0111\u1ec3 -> \u0110\xf3ng h\xe0ng",code:u},{label:"X\xe1c nh\u1eadn xu\u1ea5t h\xe0ng kh\u1ecfi kho",code:p},{label:"X\xe1c nh\u1eadn \u0110\xe3 nh\u1eadn h\xe0ng (\u0110\xe3 giao)",code:h},{label:"S\u1eeda \u0111\u01a1n h\xe0ng khi ch\u01b0a x\xe1c nh\u1eadn \u0111\u01a1n",code:_},{label:"S\u1eeda \u0111\u01a1n h\xe0ng khi \u0111\xe3 x\xe1c nh\u1eadn \u0111\u01a1n",code:x},{label:"Hu\u1ef7 \u0111\u01a1n h\xe0ng khi \u0111\xe3 x\xe1c nh\u1eadn \u0111\u01a1n",code:f},{label:"Xo\xe1 \u0111\u01a1n h\xe0ng",code:g},{label:"Ngo\xe0i kh\xe1ch h\xe0ng, c\xf3 th\u1ec3 \u0111\u1eb7t \u0111\u01a1n h\xe0ng",code:m},{label:"T\u1ea1o \u0111\u01a1n \u0111\u1eb7c bi\u1ec7t",code:E},{label:"X\xe1c nh\u1eadn \u0111\u01a1n \u0111\u1eb7c bi\u1ec7t",code:v},{label:"Xem danh s\xe1ch \u0111\u01a1n h\xe0ng (ph\u1ea7n m\xecnh ph\u1ee5 tr\xe1ch)",code:b},{label:"Xem danh s\xe1ch c\xf4ng n\u1ee3 (ph\u1ea7n m\xecnh ph\u1ee5 tr\xe1ch)",code:C},{label:"[on/off] Duy\u1ec7t phi\u1ebfu thu ti\u1ec1n",code:R},{label:"\u0110\u01b0\u1ee3c ph\xe9p duy\u1ec7t phi\u1ebfu thu",code:Z},{label:"X\xe1c nh\u1eadn \u0111\xe3 tr\u1ea3 CKKM",code:T},{label:"T\u1ea1o chi\u1ebft kh\u1ea5u/khuy\u1ebfn m\u1ea1i, c\xe0i \u0111\u1eb7t VAT",code:P},{label:"Duy\u1ec7t chi\u1ebft kh\u1ea5u/khuy\u1ebfn m\u1ea1i",code:A},{label:"T\u1ea1o kh\xe1ch h\xe0ng m\u1edbi",code:O},{label:"Xem b\xe1o c\xe1o (ph\u1ea7n m\xecnh ph\u1ee5 tr\xe1ch)",code:j},{label:"T\u1ea1o nh\xe2n vi\xean c\u1ee7a kh\xe1ch h\xe0ng",code:N},{label:"Xo\xe1 nh\xe2n vi\xean c\u1ee7a kh\xe1ch h\xe0ng",code:y},{label:"Xem danh s\xe1ch kh\xe1ch h\xe0ng (v\xf9ng m\xecnh ph\u1ee5 tr\xe1ch)",code:I},{label:"T\u1ea1o nh\xe2n vi\xean m\u1edbi",code:D},{label:"Xem danh s\xe1ch nh\xe2n vi\xean (v\xf9ng m\xecnh ph\u1ee5 tr\xe1ch)",code:w},{label:"Xo\xe1 kh\xe1ch h\xe0ng",code:k},{label:"Xo\xe1 nh\xe2n vi\xean",code:S},{label:"Ph\xe2n v\xf9ng cho nh\xe2n vi\xean",code:M}],V={CREATE_NOTIFICATION:r,CRUD_PRODUCT:o,VIEW_WAREHOUSE_INVENTORY:i,IMPORT_RETURN_PRODUCT:c,DESTROY_PRODUCT:a,APPROVE_DESTROY_PRODUCT:d,CAN_SWITCH_HAVE_TO_APPROVE_DEBT_WHEN_CREATE_ORDER_STATUS:l,CAN_APPROVE_DEBT_FOR_ORDER:s,CAN_APPROVE_ORDER:u,CAN_CONFIRM_SHIPPED_OUT_ORDER:p,CAN_CONFIRM_HANDED_OVER_ORDER:h,CAN_UPDATE_ORDER_BEFORE_BE_APPROVED:_,CAN_UPDATE_ORDER_AFTER_BE_APPROVED:x,CAN_CANCEL_ORDER_AFTER_BE_APPROVED:f,CAN_DELETE_ORDER:g,CAN_CREATE_ORDER:m,CAN_CREATE_SPECIAL_ORDER:E,CAN_APPROVE_SPECIAL_ORDER:v,CAN_VIEW_ORDERS:b,CAN_VIEW_DEBTS:C,CAN_SWITCH_HAVE_TO_APPROVE_RECEIPT_STATUS:R,CAN_APPROVE_RECEIPT:Z,CAN_CONFIRM_PAID_DISCOUNT_PROMOTION:T,CAN_CREATE_DISCOUNT_PROMOTION_UPDATE_VAT:P,CAN_APPROVE_DISCOUNT_PROMOTION:A,CAN_CREATE_CUSTOMER:O,CAN_VIEW_REPORT:j,CAN_CREATE_STAFF_OF_CUSTOMER:N,CAN_DELETE_STAFF_OF_CUSTOMER:y,CAN_VIEW_CUSTOMER_LIST:I,CAN_CREATE_STAFF:D,CAN_VIEW_STAFF_LIST:w,CAN_DELETE_CUSTOMER:k,CAN_DELETE_STAFF:S,CAN_CHANGE_STAFF_WORK_AREA:M},H="receive_notifications",U="create_and_manage_orders",L="view_discount_promotions",z="view_debt",K="view_reports",X=[{label:"Nh\u1eadn Th\xf4ng b\xe1o",code:H},{label:"T\u1ea1o & Qu\u1ea3n l\xfd \u0111\u01a1n h\xe0ng",code:U},{label:"Xem CKKM",code:L},{label:"Xem C\xf4ng n\u1ee3",code:z},{label:"Xem B\xe1o c\xe1o",code:K}];e.ZP=F},6881:function(n,e,t){var r=t(2163);e.Z=function(n){if(Array.isArray(n)){var e,t=n||[],o=r.t.getState().commonReducer,i=o&&(null===(e=o.activeLanguage)||void 0===e?void 0:e.locale)||"vi";return(t.find((function(n){return n&&n.locale===i}))||{}).showText||""}return""}},324:function(n,e,t){var r=t(4836);e.Z=void 0;var o=r(t(5045)),i=t(6417),c=(0,o.default)((0,i.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");e.Z=c},790:function(n,e,t){t.d(e,{D:function(){return s}});var r=t(6797),o=t(7313),i=t(345),c=t(3301),a=t(8112),d=t(4624),l=t(1511);function s(n,e){var t=(0,l.x)(null===e||void 0===e?void 0:e.client);(0,a.Vp)(n,a.n_.Mutation);var s=(0,o.useState)({called:!1,loading:!1,client:t}),u=s[0],p=s[1],h=(0,o.useRef)({result:u,mutationId:0,isMounted:!0,client:t,mutation:n,options:e});Object.assign(h.current,{client:t,options:e,mutation:n});var _=(0,o.useCallback)((function(n){void 0===n&&(n={});var e=h.current,t=e.client,o=e.options,a=e.mutation,l=(0,r.pi)((0,r.pi)({},o),{mutation:a});h.current.result.loading||l.ignoreResults||!h.current.isMounted||p(h.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:t});var s=++h.current.mutationId,u=(0,i.J)(l,n);return t.mutate(u).then((function(e){var r,o,i,a=e.data,l=e.errors,_=l&&l.length>0?new d.c({graphQLErrors:l}):void 0;if(s===h.current.mutationId&&!u.ignoreResults){var x={called:!0,loading:!1,data:a,error:_,client:t};h.current.isMounted&&!(0,c.D)(h.current.result,x)&&p(h.current.result=x)}return null===(o=null===(r=h.current.options)||void 0===r?void 0:r.onCompleted)||void 0===o||o.call(r,e.data,u),null===(i=n.onCompleted)||void 0===i||i.call(n,e.data,u),e})).catch((function(e){var r,o,i,a;if(s===h.current.mutationId&&h.current.isMounted){var d={loading:!1,error:e,data:void 0,called:!0,client:t};(0,c.D)(h.current.result,d)||p(h.current.result=d)}if((null===(r=h.current.options)||void 0===r?void 0:r.onError)||u.onError)return null===(i=null===(o=h.current.options)||void 0===o?void 0:o.onError)||void 0===i||i.call(o,e,u),null===(a=n.onError)||void 0===a||a.call(n,e,u),{data:void 0,errors:e};throw e}))}),[]),x=(0,o.useCallback)((function(){h.current.isMounted&&p({called:!1,loading:!1,client:t})}),[]);return(0,o.useEffect)((function(){return h.current.isMounted=!0,function(){h.current.isMounted=!1}}),[]),[_,(0,r.pi)({reset:x},u)]}}}]);