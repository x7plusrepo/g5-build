"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[6047],{6047:function(n,e,t){t.r(e),t.d(e,{default:function(){return rn}});var i,r,o,l,c,a,d,s,u,h,f,x,p,m,g=t(1413),v=t(4165),j=t(5861),Z=t(885),w=t(7313),C=t(3306),b=t(2668),y=t(3222),P=t(341),k=t(4641),S=t(6881),I=t(5222),z=t(4408),T=t(6069),N=t(7123),A=t(2153),D=t(1237),G=t(3070),B=t(168),W=t(3115),_=W.ZP.div(i||(i=(0,B.Z)(["\n  font-size: 14px;\n  padding: 10px 0 120px;\n"]))),L=W.ZP.div(r||(r=(0,B.Z)(["\n  display: flex;\n  width: fit-content;\n  margin: 0 auto 30px;\n  justify-content: center;\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n"]))),M=W.ZP.div(o||(o=(0,B.Z)(["\n  cursor: pointer;\n  text-align: center;\n  padding: 8px 18px 7px;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),O=W.ZP.div(l||(l=(0,B.Z)(["\n  display: flex;\n  align-items: center;\n  width: ",";\n  margin: ",";\n  justify-content: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin}),(function(n){return n.justifyContent})),R=(W.ZP.div(c||(c=(0,B.Z)(["\n  display: flex;\n  align-items: center;\n  width: ",";\n  margin: ",";\n  @media (max-width: 468px) {\n    display: block;\n  }\n"])),(function(n){return n.width}),(function(n){return n.margin})),W.ZP.div(a||(a=(0,B.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: ",";\n"])),(function(n){return n.margin}))),U=W.ZP.p(d||(d=(0,B.Z)(["\n  width: ",";\n  margin: ",";\n  font-size: ",";\n  text-align: ",";\n  font-weight: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin}),(function(n){return n.fontSize}),(function(n){return n.textAlign}),(function(n){return n.fontWeight})),E=W.ZP.p(s||(s=(0,B.Z)(["\n  font-weight: 600;\n  color: ",";\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.color}),(function(n){return n.width}),(function(n){return n.margin})),F=W.ZP.span(u||(u=(0,B.Z)(["\n  color: ",";\n  width: ",";\n  margin: ",";\n  font-size: ",";\n  font-style: ",";\n  font-weight: ",";\n"])),(function(n){return n.color}),(function(n){return n.width}),(function(n){return n.margin}),(function(n){return n.fontSize}),(function(n){return n.fontStyle}),(function(n){return n.fontWeight})),H=(W.ZP.p(h||(h=(0,B.Z)(["\n  font-style: italic;\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin})),W.ZP.span(f||(f=(0,B.Z)(["\n  font-style: italic;\n  display: inline-block;\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin}))),K=W.ZP.p(x||(x=(0,B.Z)(["\n  font-weight: 600;\n  font-size: 11px;\n  color: ",";\n"])),D.Z.lightGray),q=W.ZP.div(p||(p=(0,B.Z)(["\n  padding: 0 5px;\n"]))),J=W.ZP.div(m||(m=(0,B.Z)(["\n  padding: 0 5px;\n"]))),Q=t(6417),V=(0,w.lazy)((function(){return Promise.resolve().then(t.bind(t,3514))})),X=(0,w.lazy)((function(){return Promise.all([t.e(5627),t.e(6084)]).then(t.bind(t,7062))})),Y=(0,w.lazy)((function(){return Promise.all([t.e(5627),t.e(6335),t.e(8371)]).then(t.bind(t,8371))})),$=(0,w.lazy)((function(){return Promise.all([t.e(5627),t.e(5675),t.e(5882)]).then(t.bind(t,5675))})),nn=function(n){var e=n.leadItem,t=e||{},i=t.note,r=t.roles,o=t.idCode,l=t.address,c=t.fullName,a=t.location,d=t.avatarImage,s=t.addressNote,u=t.dateOfBirth,h=t.phoneNumber,f=t.leadGroupInfo,x=(0,y.I0)(),p=a||{},m=p.province,g=p.district,b=p.commune,z="".concat((0,S.Z)(null===b||void 0===b?void 0:b.label)," - ").concat((0,S.Z)(null===g||void 0===g?void 0:g.label)," - ").concat((0,S.Z)(null===m||void 0===m?void 0:m.label)),D=null!==m&&void 0!==m&&m.label?z:l||s,B=f||{},W=B.label,_=B.colorCode,L=r.includes(G.If.CUSTOMER),M=(0,C.t)(N.hz,{variables:{where:{provinceCode:null===m||void 0===m?void 0:m.code}}}),R=(0,Z.Z)(M,1)[0],K=(0,C.t)(N.j5,{variables:{where:{districtCode:null===g||void 0===g?void 0:g.code}}}),q=(0,Z.Z)(K,1)[0],V=function(){var n=(0,j.Z)((0,v.Z)().mark((function n(){var t;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:L?(t={title:"C\u1eadp nh\u1eadt kh\xe1ch h\xe0ng",children:(0,Q.jsx)(w.Suspense,{fallback:null,children:(0,Q.jsx)($,{customerAccount:e})})},x((0,A.Cg)(t))):R({onCompleted:function(n){q({onCompleted:function(t){var i,r=(null===t||void 0===t?void 0:t.vnCommunesByDistrict)||[],o=(null===n||void 0===n||null===(i=n.vnProvinceByCode)||void 0===i?void 0:i.districts)||[],l={title:"C\u1eadp nh\u1eadt lead",children:(0,Q.jsx)(w.Suspense,{fallback:null,children:(0,Q.jsx)(Y,{leadItem:e,initCommunes:r,initDistricts:o})})};x((0,A.Cg)(l))}})}});case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Q.jsxs)(J,{children:[(0,Q.jsxs)(I.Z,{children:[(0,Q.jsxs)(O,{justifyContent:"space-between",children:[(0,Q.jsxs)(O,{children:[(0,Q.jsx)(P.Z,{fullName:c,avatarUri:d}),(0,Q.jsx)(E,{margin:"0 5px",color:_,children:c})]}),(0,Q.jsx)(k.Z,{label:"C\u1eadp nh\u1eadt",onClick:V})]}),(0,Q.jsxs)(U,{margin:"10px 0 0 0",children:[(0,Q.jsx)(H,{width:"65px",children:"M\xe3"}),":\u2002",o]}),(0,Q.jsxs)(U,{children:[(0,Q.jsx)(H,{width:"65px",children:"\u0110\u1ecba ch\u1ec9"}),":\u2002",D]}),(0,Q.jsxs)(U,{children:[(0,Q.jsx)(H,{width:"65px",children:"Ng\xe0y sinh"}),":\u2002",(0,T.dh)(u)]}),(0,Q.jsxs)(U,{children:[(0,Q.jsx)(H,{width:"65px",children:"\u0110i\u1ec7n tho\u1ea1i"}),":\u2002",h]})]}),(0,Q.jsx)(I.Z,{children:(0,Q.jsxs)(U,{children:[(0,Q.jsx)(H,{width:"65px",children:"Nh\xf3m lead"}),":\u2002",(0,Q.jsx)(F,{color:_,children:W})]})}),(0,Q.jsx)(I.Z,{children:(0,Q.jsxs)(U,{children:[(0,Q.jsx)(H,{width:"65px",children:"Ghi ch\xfa"}),":\u2002",i]})})]})},en=function(n){var e,t=n.leadItem,i=(0,y.I0)(),r=(0,w.useState)(void 0),o=(0,Z.Z)(r,2),l=o[0],c=o[1],a=(0,w.useState)(void 0),d=(0,Z.Z)(a,2),s=d[0],u=d[1],h=t||{},f=h.saleStaffInfo,x=h._id,p=(h.fullName,h.leadGroupInfo),m=((f||{}).fullName,(p||{}).colorCode,(0,T.SB)()),v=(0,b.a)(N.Cc,{variables:{filter:(0,g.Z)((0,g.Z)({customerAccountId:x},l&&{endTime:new Date(l)}),s&&{startTime:new Date(s)})},fetchPolicy:"cache-and-network"}),j=v.data,C=v.refetch,P=(null===j||void 0===j||null===(e=j.conversations)||void 0===e?void 0:e.edges)||[],S=(0,b.a)(N.yS,{fetchPolicy:"network-only",variables:{filter:(0,g.Z)((0,g.Z)({customerAccountId:x},l&&{endTime:new Date(l)}),s&&{startTime:new Date(s)})}}).data,G=(null===S||void 0===S?void 0:S.conversationSummary)||{}||{},B=G.totalCount,W=G.totalThisMonthCount;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(R,{margin:"15px 5px",children:[(0,Q.jsx)(K,{children:"NH\u1eacT K\xdd TRAO \u0110\u1ed4I"}),m&&(0,Q.jsx)(k.Z,{label:"+ Th\xeam m\u1edbi",onClick:function(){var n={title:"Th\xeam trao \u0111\u1ed5i m\u1edbi",children:(0,Q.jsx)(X,{refetchConversations:C})};i((0,A.Cg)(n))}})]}),(0,Q.jsxs)(I.Z,{borderRadius:"0",children:[(0,Q.jsxs)(O,{margin:"15px 0 20px",children:[(0,Q.jsx)(U,{fontWeight:"600",children:"Th\u1eddi gian"}),":",(0,Q.jsx)(z.Z,{type:"date",value:s,onChange:function(n){return u(n.target.value)}})," ","-"," ",(0,Q.jsx)(z.Z,{type:"date",value:l,onChange:function(n){return c(n.target.value)}})]}),(0,Q.jsxs)(O,{margin:"10px 0 0 0",justifyContent:"space-around",children:[(0,Q.jsxs)("div",{children:[(0,Q.jsx)(U,{fontSize:"14px",textAlign:"center",children:"T\u1ed5ng cu\u1ed9c trao \u0111\u1ed5i"}),(0,Q.jsxs)(U,{textAlign:"center",children:[(0,Q.jsx)(F,{fontSize:"16px",fontWeight:"600",color:D.Z.primary,children:B}),(0,Q.jsx)(F,{margin:"0 3px",fontStyle:"italic",color:D.Z.rgbaGray,children:"cu\u1ed9c"})]})]}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)(U,{fontSize:"14px",children:"Th\xe1ng n\xe0y"}),(0,Q.jsxs)(U,{textAlign:"center",children:[(0,Q.jsx)(F,{fontSize:"16px",fontWeight:"600",color:D.Z.primary,children:W}),(0,Q.jsx)(F,{margin:"0 0 0 3px",fontStyle:"italic",color:D.Z.rgbaGray,children:"cu\u1ed9c"})]})]})]})]}),(0,Q.jsx)(q,{children:(0,Q.jsx)(w.Suspense,{fallback:null,children:P.map((function(n,e){return(0,Q.jsx)(V,{conversationItem:null===n||void 0===n?void 0:n.node},e)}))})})]})},tn=function(n){var e=n.leadItem,t=[{code:"general_info",label:"Th\xf4ng tin"},{code:"conversations",label:"Trao \u0111\u1ed5i"}],i=(0,w.useState)(t[1]),r=(0,Z.Z)(i,2),o=r[0],l=r[1],c=function(n){return n.code===o.code?{backgroundColor:D.Z.primary,textColor:D.Z.white}:{backgroundColor:D.Z.white,textColor:""}},a=function(){switch(o.code){case t[0].code:return(0,Q.jsx)(nn,{leadItem:e});case t[1].code:return(0,Q.jsx)(en,{leadItem:e});default:return null}}();return(0,Q.jsxs)(_,{children:[(0,Q.jsx)(L,{children:t.map((function(n,e){return(0,Q.jsx)(M,{activeColor:c(n),onClick:function(){return l(n)},borderLeftColor:e>0?D.Z.tabsBorderLeft:"transparent",children:n.label},e)}))}),a]})};tn.defaultProps={};var rn=tn}}]);