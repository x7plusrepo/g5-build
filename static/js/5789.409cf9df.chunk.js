"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[5789,4641],{4641:function(n,e,t){t.d(e,{Z:function(){return x}});var r,i=t(1413),o=(t(7313),t(168)),s=t(3115),d=t(1237),c=s.ZP.button(r||(r=(0,o.Z)(["\n  padding: 0;\n  border: none;\n  margin: 5px 0;\n  font-size: 12px;\n  cursor: pointer;\n  color: ",";\n  background-color: transparent;\n"])),d.Z.primary),a=t(6417),l=function(n){var e=n.label;return(0,a.jsx)(c,(0,i.Z)((0,i.Z)({},n),{},{children:e}))};l.defaultProps={onClick:function(){}};var x=l},5789:function(n,e,t){t.r(e),t.d(e,{default:function(){return Le}});var r,i,o=t(885),s=t(7313),d=t(2668),c=t(3222),a=t(6173),l=t(1677),x=t(4641),p=(t(3354),t(9673),t(1413)),u=t(2180),h=t(6947),f=t(168),g=t(3115),Z=t(1237),b=g.ZP.div(r||(r=(0,f.Z)(["\n  margin: 0 5px;\n  display: inline-block;\n"]))),j=g.ZP.input(i||(i=(0,f.Z)(["\n  width: 100%;\n  border: none;\n  padding: 1px 5px;\n  font-size: 12px;\n  font-weight: 300;\n  border-bottom: 1px solid ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    box-shadow: none;\n  }\n  &:focus-visible {\n    outline: none;\n    box-shadow: none;\n  }\n"])),Z.Z.secondary),P=t(6417),m=function(n){var e=n.label,t=n.name,r=n.isError,i=n.errorMessage,o=n.register,s=n.validations;n.isInline;return(0,P.jsxs)(b,{children:[e&&(0,P.jsx)(u.Z,{label:e}),(0,P.jsx)(j,(0,p.Z)((0,p.Z)({},o(t,s)),n)),(0,P.jsx)(h.Z,{isError:r,errorMessage:i})]})};m.defaultProps={type:"date",validations:{},register:function(){}};var v,D,y,E,_,C,w,T,O,S,R,I,A,F,N,U,k,M,z,L,B,Y,H=t(9829),Q=t(4165),W=t(5861),G=t(790),K=t(6069),V=(g.ZP.div(v||(v=(0,f.Z)(["\n  font-size: 12px;\n  padding: 10px 10px 120px;\n"]))),g.ZP.p(D||(D=(0,f.Z)(["\n  font-weight: 700;\n"])))),X=g.ZP.p(y||(y=(0,f.Z)(["\n  font-weight: 700;\n  color: ",";\n"])),(function(n){return n.textColor})),q=g.ZP.p(E||(E=(0,f.Z)(["\n  color: ",";\n"])),(function(n){return n.textColor})),J=(g.ZP.p(_||(_=(0,f.Z)(["\n  margin: 5px 0;\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: 5px;\n  width: fit-content;\n  color: ",";\n"])),Z.Z.primary),g.ZP.div(C||(C=(0,f.Z)(["\n  margin: 20px 5px;\n  border-radius: 4px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"])))),$=(g.ZP.p(w||(w=(0,f.Z)(["\n  font-weight: 700;\n  margin: 30px 10px 0;\n  text-transform: uppercase;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(T||(T=(0,f.Z)([""])))),nn=g.ZP.div(O||(O=(0,f.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n"]))),en=g.ZP.div(S||(S=(0,f.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),tn=(g.ZP.p(R||(R=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(I||(I=(0,f.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"])))),rn=g.ZP.div(A||(A=(0,f.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),on=g.ZP.p(F||(F=(0,f.Z)(["\n  color: ",";\n"])),Z.Z.secondary),sn=g.ZP.span(N||(N=(0,f.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),dn=g.ZP.p(U||(U=(0,f.Z)(["\n  font-style: italic;\n"]))),cn=g.ZP.span(k||(k=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),an=(g.ZP.span(M||(M=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.green),g.ZP.span(z||(z=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.red),g.ZP.span(L||(L=(0,f.Z)(["\n  font-weight: 700;\n  font-style: italic;\n  color: ",";\n"])),Z.Z.green),g.ZP.span(B||(B=(0,f.Z)(["\n  width: 65px;\n  font-weight: 700;\n  display: inline-block;\n"])))),ln=g.ZP.span(Y||(Y=(0,f.Z)(["\n  font-weight: 700;\n  color: ",";\n"])),(function(n){return n.textColor})),xn=t(7123),pn=t(3454),un=t(3070),hn=t(7119),fn=un.fH.MONEY_FIXED_VALUE,gn=un.fH.MONEY_PERCENT_OF_ORDER_VALUE,Zn=un.fH.MONEY_PERCENT_OF_DIFFERENCE_ORDER_VALUE,bn=un.fH.MONEY_ORDER_QUANTITY,jn=un.fH.MONEY_DIFFERENCE_ORDER_QUANTITY,Pn=un.fH.MONEY_ORDER_WEIGHT,mn=un.fH.MONEY_DIFFERENCE_ORDER_WEIGHT,vn=function(n){var e=n.debtItem||{},t=e._id,r=e.isApproved,i=e.orderCode,d=e.moneyValue,a=e.detailTypeCode,x=e.discountOfOrderCodes,p=e.discountPromotionInfo,u=e.updatedAt,h=e.note,f=e.debtCustomerInfo,g=e.currentDebtBalance,b=f||{},j=b.idCode,m=b.address,v=b.fullName,D=(b.saleStaffInfo||{}).fullName,y=((0,c.v9)((function(n){return n.authReducer})).viewerQuery||{}).permissions,E=void 0===y?[]:y,_=hn.gz.CAN_APPROVE_RECEIPT,C=E.includes(_),w=(0,G.D)(pn.gF,{refetchQueries:[{query:xn.JH},"GET_DEBT_STATISTICAL",{query:xn.cX},"GET_DEBTS"]}),T=(0,o.Z)(w,1)[0],O=d>=0?Z.Z.linGreen:Z.Z.red,S=d>0?"+".concat(d.toLocaleString()):d.toLocaleString(),R=g>=0?Z.Z.linGreen:Z.Z.red,I=function(){var n=un.oQ.DETAIL_TYPE_CODES,e={type:un.n_[a],detail:null};if(a===n.DISCOUNT_OF_PAY_WHEN_CREATE_ORDER){var t=p||{},r=t.conditions,o=t.detail||{},d=o.moneyMethodCode,c=o.products,l=o.value,u=o.giftDescription,f=o.paymentTypeCode,g=function(n,e){var t,r=1===n.length;t=(0,K.RX)(e,n[0].netUnitValue,n[0].unitString);var i=function(n,e){var i,o,s=n.minRequireValue,d=(n.productInfo||{}).name,c=r?"":"- ",a=r?(0,P.jsxs)("p",{children:[(0,P.jsx)(an,{children:"\u0110i\u1ec1u ki\u1ec7n:"})," ",(0,P.jsx)(cn,{children:"Khi mua"})," ",d&&(null===(i=d[0])||void 0===i?void 0:i.showText)," - ",t.type,": \u2265"," ",s," ",t.unit]}):(0,P.jsxs)("p",{children:[(0,P.jsxs)(cn,{children:[c,"Khi mua"]})," ",d&&(null===(o=d[0])||void 0===o?void 0:o.showText)," - ",t.type,": \u2265"," ",s," ",t.unit]});return(0,P.jsx)(P.Fragment,{children:a})};return n.map((function(n,e){return(0,P.jsx)(s.Fragment,{children:i(n)},e)}))},Z=r.map((function(n,e){var t=n.products,r=n.productConditionType,i=t.length>1;return(0,P.jsxs)(s.Fragment,{children:[i&&(0,P.jsx)(an,{children:"\u0110i\u1ec1u ki\u1ec7n:"}),g(t,r)]},e)})),b=(0,P.jsxs)(P.Fragment,{children:[Z,function(){var n=[fn,gn,Zn,bn,jn,Pn,mn];switch(f){case un.ad.MONEY_TYPE:var e=n.find((function(n){return n.value===d}));return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(an,{children:"CK/KM:"}),function(n){if(n.value===fn.value)return"Ti\u1ec1n m\u1eb7t ".concat(l.toLocaleString()," \u0111");var e=n.value.includes("percent_of")?"%":"\u0111";return"Ti\u1ec1n = ".concat(l.toLocaleString()).concat(e)+n.label.slice(12)}(e)]});case un.ad.GIFT_TYPE:return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{children:[(0,P.jsx)(an,{children:"CK/KM:"}),u," tr\u1ecb gi\xe1"," ",l.toLocaleString()," \u0111"]})});case un.ad.TAX_OFFSET:return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{children:[(0,P.jsx)(an,{children:"C\u1ea5n tr\u1eeb:"}),u," ",l.toLocaleString()," \u0111"]})});case un.ad.PRODUCT_TYPE:return function(n){var e=1===n.length,t=function(n){var t,r=n.quantity,i=(n.productInfo||{}).name,o=e?"":"- ";return(0,P.jsxs)("p",{children:[e&&(0,P.jsx)(an,{children:"CK/KM:"}),(0,P.jsxs)(cn,{children:[o," T\u1eb7ng"]})," ",r," ",i&&(null===(t=i[0])||void 0===t?void 0:t.showText)]})};return(0,P.jsxs)(P.Fragment,{children:[!e&&(0,P.jsx)(an,{children:"CK/KM:"}),n.map((function(n,e){return(0,P.jsx)(s.Fragment,{children:t(n)},e)}))]})}(c);default:return null}}()]});return e.detail=b,e}if(a===n.DISCOUNT_FOR_EARLY_PAYMENT){var j=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(an,{children:"\u0110\u01a1n h\xe0ng:"}),x.map((function(n,e){return(0,P.jsxs)(dn,{children:["- ",n]},e)}))]});return e.detail=j,e}return a===n.OLD_DEBT?(e.detail="",e):a===n.ORDER_PRODUCTS?(e.detail=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(an,{children:"\u0110\u01a1n h\xe0ng:"}),(0,P.jsx)(dn,{children:i})]}),e):a===n.RECEIPT?(e.detail=h?(0,P.jsx)(cn,{children:h}):null,e):a===n.RETURN_PRODUCT?(e.detail=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{children:"Nh\u1eadp l\u1ea1i h\xe0ng"}),(0,P.jsxs)(cn,{children:["M\xe3 \u0111\u01a1n: ",i]})]}),e):void 0}(),A=(0,s.useRef)(null),F=(0,s.useState)(!1),N=(0,o.Z)(F,2),U=N[0],k=N[1],M=U?"block":"none",z=(0,P.jsxs)(rn,{display:M,ref:A,children:[(0,P.jsx)(sn,{children:"Xo\xe1"}),(0,P.jsx)(sn,{children:"Hu\u1ef7"}),(0,P.jsx)(sn,{children:"S\u1eeda"})]}),L=function(){var n=(0,W.Z)((0,Q.Z)().mark((function n(){return(0,Q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:T({variables:{where:{debtId:t}}});case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),B=(0,P.jsxs)(en,{children:[(0,P.jsxs)(on,{children:["Ph\u1ee5 tr\xe1ch: ",D||"n/a"]}),C&&(0,P.jsx)(l.Z,{margin:"0",label:"X\xe1c nh\u1eadn",onClick:L})]}),Y=r?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(en,{style:{alignItems:"flex-end"},children:[(0,P.jsx)("div",{children:I.detail}),(0,P.jsx)("p",{children:"S\u1ed1 d\u01b0 (Balance)"})]}),(0,P.jsxs)(en,{children:[(0,P.jsxs)(en,{children:[(0,P.jsx)("p",{children:"Gi\xe1 tr\u1ecb t\xednh:\u2002"}),(0,P.jsxs)(q,{textColor:O,children:[S," \u0111"]})]}),(0,P.jsxs)(X,{textColor:R,children:[g.toLocaleString()," \u0111"]})]})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(nn,{children:[(0,P.jsxs)(V,{children:[v,"\u2002"]}),(0,P.jsxs)("p",{children:[" - ",j]})]}),(0,P.jsx)(dn,{children:m})]}),H=(0,P.jsxs)(ln,{textColor:O,children:[S," \u0111"]});return(0,s.useEffect)((function(){var n=function(n){A.current&&!A.current.contains(n.target)&&k(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[A]),(0,P.jsxs)(J,{children:[(0,P.jsx)(tn,{onClick:function(){return k(!U)}}),z,(0,P.jsxs)($,{children:[(0,P.jsxs)(en,{children:[(0,P.jsx)("p",{children:(0,K.dh)(u,!0)}),(0,P.jsxs)("p",{children:[I.type,!r&&(0,P.jsxs)("span",{children:[": ",H]})]})]}),(0,P.jsx)("hr",{}),Y,!r&&B]})]})};vn.defaultProps={};var Dn,yn,En,_n,Cn,wn,Tn,On,Sn,Rn,In,An,Fn,Nn,Un,kn,Mn,zn,Ln,Bn,Yn,Hn,Qn,Wn,Gn,Kn,Vn,Xn,qn,Jn,$n,ne,ee,te,re,ie,oe,se,de,ce,ae,le,xe,pe,ue=vn,he=t(2206),fe=g.ZP.div(Dn||(Dn=(0,f.Z)(["\n  font-size: 12px;\n  padding: 0 0 120px;\n"]))),ge=(g.ZP.div(yn||(yn=(0,f.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 7;\n  width: 100%;\n  display: flex;\n  padding: 10px;\n  position: fixed;\n  font-size: 15px;\n  margin: 0 0 10px 0;\n  align-items: center;\n  background-color: #fff;\n  justify-content: space-between;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  @media (min-width: 1200px) {\n    left: 25%;\n    width: 50%;\n  }\n"]))),g.ZP.div(En||(En=(0,f.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.div(_n||(_n=(0,f.Z)(["\n  display: flex;\n  padding: 0 20px 0 0;\n  justify-content: flex-end;\n"]))),g.ZP.div(Cn||(Cn=(0,f.Z)(["\n  margin: 0 0 0 20px;\n"]))),g.ZP.div(wn||(wn=(0,f.Z)(["\n  font-size: 12px;\n  padding: 0 10px;\n"]))),g.ZP.div(Tn||(Tn=(0,f.Z)(["\n  margin: 20px 10px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.p(On||(On=(0,f.Z)(["\n  font-weight: 700;\n  margin: 30px 10px 0;\n  text-transform: uppercase;\n  color: ",";\n"])),Z.Z.secondary)),Ze=(g.ZP.div(Sn||(Sn=(0,f.Z)([""]))),g.ZP.div(Rn||(Rn=(0,f.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),g.ZP.p(In||(In=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(An||(An=(0,f.Z)(["\n  text-align: center;\n"])))),be=g.ZP.p(Fn||(Fn=(0,f.Z)(["\n  margin: 0 5px 5px 0;\n"]))),je=g.ZP.span(Nn||(Nn=(0,f.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),Z.Z.primary),Pe=g.ZP.span(Un||(Un=(0,f.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),(function(n){return n.textColor})),me=g.ZP.span(kn||(kn=(0,f.Z)(["\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  border-radius: 5px;\n  color: ",";\n"])),Z.Z.secondary),ve=g.ZP.div(Mn||(Mn=(0,f.Z)(["\n  display: flex;\n  margin: 20px 0 0;\n  justify-content: space-between;\n"]))),De=(g.ZP.p(zn||(zn=(0,f.Z)(["\n  margin: 5px 0;\n  padding: 0 5px;\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: 5px;\n  width: fit-content;\n  color: ",";\n"])),Z.Z.primary),g.ZP.div(Ln||(Ln=(0,f.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),g.ZP.div(Bn||(Bn=(0,f.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),g.ZP.span(Yn||(Yn=(0,f.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),t(3163)),ye=function(n){var e=n.initCustomerAccount,t=n.customerAccountId,r=((0,c.v9)((function(n){return n.authReducer})).viewerQuery||{})._id,i=e&&e.node||{},a=i._id,l=i.fullName,x=(0,s.useState)(a),p=(0,o.Z)(x,2),u=p[0],h=p[1],f=e?u:t,g=(0,d.a)(xn.JH,{variables:{where:{customerAccountId:f}},fetchPolicy:"cache-and-network"}).data,b=(0,d.a)(xn.cX,{variables:{filter:{customerAccountId:f}},fetchPolicy:"cache-and-network"}),j=b.data,m=b.subscribeToMore,v=b.fetchMore,D=j&&j.debts.pageInfo||{},y=D.hasNextPage,E=g&&g.debtStatistical||{},_=E.totalDebts||0,C=E.totalPayments||0,w=_+C,T=E.totalOver30DaysDebts||0,O=E.totalOver60DaysDebts||0,S=E.totalOver90DaysDebts||0,R=E.totalCustomerIndueDebt||0,I=0!==_?(-_).toLocaleString():0,A=w>=0?Z.Z.linGreen:Z.Z.lightRed,F=j&&j.debts.edges||[],N=(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(ve,{children:[(0,P.jsxs)(Ze,{children:[(0,P.jsx)(be,{children:"N\u1ee3 trong h\u1ea1n"}),(0,P.jsxs)(je,{backgroundColor:Z.Z.secondary,children:[R.toLocaleString()," ",(0,P.jsx)(me,{children:"\u0111"})]})]}),(0,P.jsxs)(Ze,{children:[(0,P.jsx)(be,{children:"Qu\xe1 \u2265 30 ng\xe0y"}),(0,P.jsxs)(je,{backgroundColor:Z.Z.secondary,children:[T.toLocaleString()," ",(0,P.jsx)(me,{children:"\u0111"})]})]}),(0,P.jsxs)(Ze,{children:[(0,P.jsx)(be,{children:"Qu\xe1 \u2265 60 ng\xe0y"}),(0,P.jsxs)(je,{backgroundColor:Z.Z.secondary,children:[O.toLocaleString()," ",(0,P.jsx)(me,{children:"\u0111"})]})]}),(0,P.jsxs)(Ze,{children:[(0,P.jsx)(be,{children:"Qu\xe1 \u2265 90 ng\xe0y"}),(0,P.jsxs)(je,{backgroundColor:Z.Z.secondary,children:[S.toLocaleString()," ",(0,P.jsx)(me,{children:"\u0111"})]})]})]})}),U=(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(ve,{children:[!!e&&(0,P.jsxs)(Ze,{children:[(0,P.jsx)(be,{children:"Mua h\xe0ng"}),(0,P.jsxs)(je,{children:[I," ",(0,P.jsx)(me,{children:"\u0111"})]})]}),(0,P.jsxs)(Ze,{children:[(0,P.jsx)(be,{children:"\u0110\xe3 tr\u1ea3"}),(0,P.jsxs)(je,{children:[C.toLocaleString()," ",(0,P.jsx)(me,{children:"\u0111"})]})]}),(0,P.jsxs)(Ze,{children:[(0,P.jsx)(be,{children:"C\xf2n l\u1ea1i"}),(0,P.jsxs)(Pe,{textColor:A,children:[w.toLocaleString()," ",(0,P.jsx)(me,{children:"\u0111"})]})]})]})});return(0,s.useEffect)((function(){var n=function(n){var e=n||{},t=e.customerAccountId,i=e.staffAccountId,o=e.managerAccountId,s=e.directorAccountId;return r===t||r===i||r===o||r===s},e=m({document:De.Fb,updateQuery:function(e,t){var r=t.subscriptionData;return(0,he.FM)("debts","addedNewDebt",r,e,n,!0)}});return function(){return e()}}),[m]),(0,s.useEffect)((function(){var n=document.getElementById("global-test");n.onscroll=function(e){var t=n.scrollHeight-window.innerHeight;n.scrollTop>=t&&y&&v({variables:{cursor:D.endCursor},updateQuery:function(n,e){var t=e.fetchMoreResult;return(0,he.d0)("debts",t,n)}})}}),[y]),(0,P.jsxs)(fe,{id:"abcdef",children:[!!e&&(0,P.jsx)(H.Z,{showDateTimeInputs:!1,showSelectAllButton:!1,children:(0,P.jsxs)(P.Fragment,{children:[U,N]}),searchPlaceholder:l,onClickSelectResultItem:function(n){var e=(n&&n.node||{})._id;h(e)},canSearchCustomer:!0}),(0,P.jsx)(ge,{children:"NH\u1eacT K\xdd"}),F.map((function(n,e){return(0,P.jsx)(ue,{debtItem:n.node},e)}))]})},Ee=t(6580),_e=g.ZP.div(Hn||(Hn=(0,f.Z)(["\n  font-size: 12px;\n  padding: 70px 0 120px;\n  display: ",";\n"])),(function(n){return n.isDisplay?"block":"none"})),Ce=g.ZP.div(Qn||(Qn=(0,f.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 7;\n  width: 100%;\n  display: flex;\n  padding: 10px;\n  position: fixed;\n  font-size: 15px;\n  margin: 0 0 10px 0;\n  align-items: center;\n  background-color: #fff;\n  justify-content: space-between;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  & h5 {\n    font-size: 13px;\n    font-weight: 700;\n  }\n  @media (min-width: 1200px) {\n    left: 25%;\n    width: 50%;\n  }\n"]))),we=g.ZP.div(Wn||(Wn=(0,f.Z)(["\n  display: flex;\n  margin: 30px auto 15px;\n  width: fit-content;\n  justify-content: center;\n"]))),Te=g.ZP.div(Gn||(Gn=(0,f.Z)(["\n  padding: 5px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),Oe=(g.ZP.div(Kn||(Kn=(0,f.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.div(Vn||(Vn=(0,f.Z)(["\n  display: flex;\n  justify-content: flex-end;\n"])))),Se=g.ZP.div(Xn||(Xn=(0,f.Z)(["\n  margin: 0 0 0 20px;\n"]))),Re=(g.ZP.div(qn||(qn=(0,f.Z)(["\n  font-size: 12px;\n  padding: 0 10px;\n"]))),g.ZP.div(Jn||(Jn=(0,f.Z)(["\n  margin: 20px 10px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.p($n||($n=(0,f.Z)(["\n  font-weight: 700;\n  margin: 30px 10px 0;\n  text-transform: uppercase;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(ne||(ne=(0,f.Z)([""]))),g.ZP.div(ee||(ee=(0,f.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),g.ZP.p(te||(te=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(re||(re=(0,f.Z)(["\n  text-align: center;\n"])))),Ie=g.ZP.p(ie||(ie=(0,f.Z)(["\n  margin: 0 5px 5px 0;\n"]))),Ae=g.ZP.span(oe||(oe=(0,f.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),Z.Z.primary),Fe=g.ZP.span(se||(se=(0,f.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),(function(n){return n.textColor})),Ne=g.ZP.span(de||(de=(0,f.Z)(["\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  border-radius: 5px;\n  color: ",";\n"])),Z.Z.secondary),Ue=g.ZP.div(ce||(ce=(0,f.Z)(["\n  display: flex;\n  margin: 20px 0 0;\n  justify-content: space-between;\n"]))),ke=(g.ZP.p(ae||(ae=(0,f.Z)(["\n  margin: 5px 0;\n  padding: 0 5px;\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: 5px;\n  width: fit-content;\n  color: ",";\n"])),Z.Z.primary),g.ZP.div(le||(le=(0,f.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),g.ZP.div(xe||(xe=(0,f.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),g.ZP.span(pe||(pe=(0,f.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),t(2153)),Me=(0,s.lazy)((function(){return Promise.all([t.e(5627),t.e(2481)]).then(t.bind(t,2481))})),ze=(0,s.lazy)((function(){return Promise.all([t.e(5627),t.e(2655)]).then(t.bind(t,2655))})),Le=function(n){var e=n.isDisplay,t=(0,c.I0)(),r=[{code:"all",label:"T\u1ea5t c\u1ea3"},{code:"waiting_for_approve",label:"Ch\u01b0a duy\u1ec7t"}],i=(0,s.useState)(r[0]),l=(0,o.Z)(i,2),p=l[0],u=l[1],h=function(n){return n.code===p.code?{backgroundColor:Z.Z.primary,textColor:Z.Z.white}:{backgroundColor:Z.Z.white,textColor:""}},f=(0,c.v9)((function(n){return n.authReducer})).viewerQuery||{},g=f._id,b=f.roles,j=f.permissions,m=void 0===j?[]:j,v=f.fatherChildrenAccountIds,D=b.includes(un.If.CUSTOMER)||b.includes(un.If.STAFF_OF_CUSTOMER),y=b.includes(un.If.STAFF_OF_CUSTOMER)?v[0]:D?g:void 0,E=(0,s.useState)(y),_=(0,o.Z)(E,2),C=_[0],w=_[1],T=m.some((function(n){return n===hn.gz.CAN_CREATE_RECEIPT_FOR_OWN_CUSTOMER||n===hn.gz.CAN_CREATE_RECEIPT_FOR_ANY_CUSTOMER})),O=m.includes(hn.gz.CAN_APPROVE_RECEIPT),S=(0,d.a)(xn.gG,{skip:D}).data,R=S&&S.viewerIndueDebts||0,I=(0,s.useState)(void 0),A=(0,o.Z)(I,2),F=A[0],N=A[1];(0,d.a)(xn.JH,{variables:{where:{customerAccountId:C}},fetchPolicy:"cache-and-network",onCompleted:function(n){N(n)}});var U=(0,d.a)(xn.cX,{variables:{filter:{isApproved:!1,customerAccountId:C}}}).data,k=U&&U.debts.edges||[],M=F&&F.debtStatistical||{},z=M.totalDebts||0,L=M.totalPayments||0,B=z+L,Y=M.totalOver30DaysDebts||0,Q=M.totalOver60DaysDebts||0,W=M.totalOver90DaysDebts||0,G=M.totalCustomerIndueDebt||0,K=0!==z?(-z).toLocaleString():0,V=C?G:R,X=B>=0?Z.Z.linGreen:Z.Z.lightRed,q=(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(Ue,{children:[(0,P.jsxs)(Re,{children:[(0,P.jsx)(Ie,{children:"N\u1ee3 trong h\u1ea1n"}),(0,P.jsxs)(Ae,{children:[V.toLocaleString()," ",(0,P.jsx)(Ne,{children:"\u0111"})]})]}),(0,P.jsxs)(Re,{children:[(0,P.jsx)(Ie,{children:"Qu\xe1 \u2265 30 ng\xe0y"}),(0,P.jsxs)(Ae,{children:[Y.toLocaleString()," ",(0,P.jsx)(Ne,{children:"\u0111"})]})]}),(0,P.jsxs)(Re,{children:[(0,P.jsx)(Ie,{children:"Qu\xe1 \u2265 60 ng\xe0y"}),(0,P.jsxs)(Ae,{children:[Q.toLocaleString()," ",(0,P.jsx)(Ne,{children:"\u0111"})]})]}),(0,P.jsxs)(Re,{children:[(0,P.jsx)(Ie,{children:"Qu\xe1 \u2265 90 ng\xe0y"}),(0,P.jsxs)(Ae,{children:[W.toLocaleString()," ",(0,P.jsx)(Ne,{children:"\u0111"})]})]})]})}),J=(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(Ue,{children:[(0,P.jsxs)(Re,{children:[(0,P.jsx)(Ie,{children:"Mua h\xe0ng"}),(0,P.jsxs)(Ae,{children:[K," ",(0,P.jsx)(Ne,{children:"\u0111"})]})]}),(0,P.jsxs)(Re,{children:[(0,P.jsx)(Ie,{children:"\u0110\xe3 tr\u1ea3"}),(0,P.jsxs)(Ae,{children:[L.toLocaleString()," ",(0,P.jsx)(Ne,{children:"\u0111"})]})]}),(0,P.jsxs)(Re,{children:[(0,P.jsx)(Ie,{children:"C\xf2n l\u1ea1i"}),(0,P.jsxs)(Fe,{textColor:X,children:[B.toLocaleString()," ",(0,P.jsx)(Ne,{children:"\u0111"})]})]})]})}),$=function(n){var e={title:"Chi ti\u1ebft c\xf4ng n\u1ee3",children:(0,P.jsx)(s.Suspense,{fallback:(0,P.jsx)(a.default,{}),children:(0,P.jsx)(ye,{initCustomerAccount:n})})};t((0,ke.dn)(e))},nn=C?(0,P.jsx)(ye,{customerAccountId:C}):(0,P.jsx)(Ee.Z,{isDebts:!0,onClickCustomerItem:$}),en=function(){switch(p.code){case r[0].code:return nn;case r[1].code:return(0,P.jsx)(P.Fragment,{children:k.map((function(n,e){return(0,P.jsx)(ue,{debtItem:n.node},e)}))});default:return null}}();return(0,P.jsxs)(_e,{isDisplay:e,children:[(0,P.jsxs)(Ce,{children:[(0,P.jsx)("h5",{children:"C\xd4NG N\u1ee2"}),(0,P.jsxs)(Oe,{children:[(0,P.jsx)(Se,{children:T&&(0,P.jsx)(x.Z,{label:"+ Thu ti\u1ec1n",onClick:function(){var n={title:"Thu ti\u1ec1n",children:(0,P.jsx)(s.Suspense,{fallback:(0,P.jsx)(a.default,{}),children:(0,P.jsx)(ze,{})})};t((0,ke.dn)(n))}})}),(0,P.jsx)(Se,{children:O&&(0,P.jsx)(x.Z,{label:"+ C\xf4ng n\u1ee3 c\u0169",onClick:function(){var n={title:"Nh\u1eadp c\xf4ng n\u1ee3 c\u0169",children:(0,P.jsx)(s.Suspense,{fallback:(0,P.jsx)(a.default,{}),children:(0,P.jsx)(Me,{})})};t((0,ke.dn)(n))}})})]})]}),(0,P.jsx)(H.Z,{showDateTimeInputs:!1,children:(0,P.jsxs)(P.Fragment,{children:[!!C&&J,q]}),onClickSelectResultItem:function(n){var e=(n&&n.node||{})._id;w(e)},searchPlaceholder:"T\u1ea5t c\u1ea3",canSearchCustomer:!0}),O&&(0,P.jsx)(we,{children:r.map((function(n,e){return(0,P.jsx)(Te,{activeColor:h(n),onClick:function(){return u(n)},borderLeftColor:e>0?Z.Z.primary:"transparent",children:n.label},e)}))}),en]})}},2180:function(n,e,t){t.d(e,{Z:function(){return d}});t(7313);var r,i=t(168),o=t(3115).ZP.p(r||(r=(0,i.Z)(["\n  font-size: 13px;\n  font-weight: 500;\n"]))),s=t(6417),d=function(n){var e=n.label;return(0,s.jsx)(o,{children:e})}},9673:function(n,e,t){t.d(e,{Z:function(){return f}});var r,i,o=t(1413),s=(t(7313),t(2180)),d=t(6947),c=t(168),a=t(3115),l=t(1237),x=a.ZP.div(r||(r=(0,c.Z)(["\n  height: 26px;\n  display: inline-block;\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width?n.width:"100%"}),(function(n){return n.margin?n.margin:"0 0 0 5px"})),p=a.ZP.input(i||(i=(0,c.Z)(["\n  width: 100%;\n  border: none;\n  font-size: 12px;\n  font-weight: 300;\n  padding: ",";\n  line-height: ",";\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  font-style: ",";\n  text-align: ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    box-shadow: none;\n  }\n  &:focus-visible {\n    outline: none;\n    box-shadow: none;\n  }\n"])),(function(n){return n.padding}),(function(n){return n.lineHeight}),l.Z.lightWhite,l.Z.secondary,(function(n){return n.fontStyle?n.fontStyle:""}),(function(n){return n.textAlign?n.textAlign:"left"})),u=t(6417),h=function(n){var e=n.label,t=n.name,r=n.isError,i=n.errorMessage,c=n.register,a=n.validations,l=n.isInline,h=n.width,f=n.margin,g=l?"auto":h;return(0,u.jsxs)(x,{width:g,margin:f,children:[e&&(0,u.jsx)(s.Z,{label:e}),(0,u.jsx)(p,(0,o.Z)((0,o.Z)({},c(t,a)),n)),(0,u.jsx)(d.Z,{isError:r,errorMessage:i})]})};h.defaultProps={type:"text",validations:{},padding:"2px 5px",register:function(){},lineHeight:"20px"};var f=h},3163:function(n,e,t){t.d(e,{Fb:function(){return C},I4:function(){return v},PP:function(){return w},VL:function(){return _},hv:function(){return D},uB:function(){return y},uF:function(){return E}});var r,i,o,s,d,c,a,l,x,p,u,h,f,g,Z,b,j=t(168),P=t(9237),m=t(9384),v=(0,P.Ps)(r||(r=(0,j.Z)(["\n  subscription SUB_ADDED_NOTIFICATION {\n    addedNewNotification {\n      ...basicNotificationFields\n    }\n  }\n  ","\n"])),m.Y4),D=(0,P.Ps)(i||(i=(0,j.Z)(["\n  subscription SUB_ADDED_ORDER {\n    addedNewOrder {\n      ...basicOrderFields\n    }\n  }\n  ","\n"])),m.dL),y=(0,P.Ps)(o||(o=(0,j.Z)(["\n  subscription SUB_UPDATED_ORDER {\n    updatedAnOrder {\n      ...basicOrderFields\n    }\n  }\n  ","\n"])),m.dL),E=(0,P.Ps)(s||(s=(0,j.Z)(["\n  subscription SUB_ADDED_DISCOUNT_PROMOTION {\n    addedNewDiscountPromotion {\n      ...basicDiscountPromotionFields\n      customerDiaryInfo {\n        diaryCount\n        diaryInfo {\n          ...basicDiscountPromotionDiaryFields\n        }\n        totalBePaidMoneyValue\n      }\n    }\n  }\n  ","\n  ","\n"])),m.MM,m.xC),_=((0,P.Ps)(d||(d=(0,j.Z)(["\n  subscription SUB_UPDATED_DISCOUNT_PROMOTION {\n    updatedDiscountPromotion {\n      ...basicDiscountPromotionFields\n    }\n  }\n  ","\n"])),m.MM),(0,P.Ps)(c||(c=(0,j.Z)(["\n  subscription SUB_ADDED_DISCOUNT_PROMOTION_DIARY {\n    addedNewDiscountPromotionDiary {\n      ...basicDiscountPromotionDiaryFields\n    }\n  }\n  ","\n"])),m.xC)),C=((0,P.Ps)(a||(a=(0,j.Z)(["\n  subscription SUB_UPDATED_DISCOUNT_PROMOTION_DIARY {\n    updatedDiscountPromotionDiary {\n      ...basicDiscountPromotionDiaryFields\n    }\n  }\n  ","\n"])),m.xC),(0,P.Ps)(l||(l=(0,j.Z)(["\n  subscription SUB_ADDED_DEBT {\n    addedNewDebt {\n      ...basicDebtFields\n    }\n  }\n  ","\n"])),m.l3)),w=((0,P.Ps)(x||(x=(0,j.Z)(["\n  subscription SUB_UPDATED_DEBT {\n    updatedDebt {\n      ...basicDebtFields\n    }\n  }\n  ","\n"])),m.l3),(0,P.Ps)(p||(p=(0,j.Z)(["\n  subscription SUB_ADDED_PRODUCT {\n    addedNewProduct {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),m.UW));(0,P.Ps)(u||(u=(0,j.Z)(["\n  subscription SUB_UPDATED_PRODUCT {\n    updatedProduct {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),m.UW),(0,P.Ps)(h||(h=(0,j.Z)(["\n  subscription SUB_IMPORTED_PRODUCTS {\n    importedProducts {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),m.UW),(0,P.Ps)(f||(f=(0,j.Z)(["\n  subscription SUB_DESTROYED_PRODUCT {\n    destroyedProduct {\n      ...basicDestroyedProductFields\n    }\n  }\n  ","\n"])),m.zY),(0,P.Ps)(g||(g=(0,j.Z)(["\n  subscription SUB_UPDATED_DESTROYED_PRODUCT {\n    updatedDestroyedProduct {\n      ...basicDestroyedProductFields\n    }\n  }\n  ","\n"])),m.zY),(0,P.Ps)(Z||(Z=(0,j.Z)(["\n  subscription SUB_ADDED_WAREHOUSE_BALANCE {\n    addedWarehouseBalance {\n      ...basicWarehouseBalanceFields\n    }\n  }\n  ","\n"])),m.ms),(0,P.Ps)(b||(b=(0,j.Z)(["\n  subscription SUB_ADDED_WAREHOUSE_BALANCE_DIARY {\n    addedWarehouseBalanceDiary {\n      ...basicWarehouseBalanceDiaryFields\n    }\n  }\n  ","\n"])),m.lH)}}]);