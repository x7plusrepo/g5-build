"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[6357],{9146:function(n,e,r){r.d(e,{Z:function(){return u}});var t,o=r(1413),i=(r(7313),r(168)),a=r(3115),p=r(1237),s=a.ZP.button(t||(t=(0,i.Z)(["\n  left: 0;\n  bottom: 0;\n  z-index: 1;\n  width: 100%;\n  color: #fff;\n  border: none;\n  display: flex;\n  padding: 10px;\n  position: fixed;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  padding: 10px 20px;\n  align-items: center;\n  text-transform: uppercase;\n  justify-content: space-around;\n  background-color: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),p.Z.rgbaBlack),d=r(6417),c=function(n){var e=n.label;return(0,d.jsx)(s,(0,o.Z)((0,o.Z)({},n),{},{children:e}))};c.defaultProps={label:"N\xfat b\u1ea5m"};var u=c},6357:function(n,e,r){r.r(e),r.d(e,{default:function(){return mn}});var t,o=r(4165),i=r(5987),a=r(5861),p=r(2982),s=r(1413),d=r(885),c=r(7313),u=r(3222),l=r(5627),x=r(790),g=r(2669),f=r(6618),h=r(6879),m=r(1677),Z=r(2262),b=(r(1300),r(9673)),v=r(1839),y=r(168),j=r(3115),w=j.ZP.div(t||(t=(0,y.Z)(["\n  width: 100%;\n"]))),P=r(7123),S=r(6417),k=function(n){var e=n.isSelectOne,r=n.fieldName,t=n.errors,o=n.register,i=n.setValue,a=n.clearErrors;return(0,S.jsx)(w,{children:(0,S.jsx)(v.Z,{isSelectOne:e,searchGuide:"Nh\u1eadp m\xe3/t\xean \u0111\u1ec3 t\xecm ki\u1ebfm...",searchPlaceholder:"Nh\u1eadp m\xe3/t\xean \u0111\u1ec3 t\xecm ki\u1ebfm...",checkIsDisabledAttribute:"node.code",searchQueryStatement:P.i8,searchQueryPathName:"searchNormalProducts",resultItemAttributes:["node.code","node.name[0].showText","node.netUnitValue","node.unitString"],selectedItemAttributes:["node.code","node.name[0].showText","node.netUnitValue","node.unitString"],fieldName:r,register:o,setFieldValue:i,clearFormErrors:a,validations:{required:!0},isError:!!t[r]})})};k.defaultProps={isSelectOne:!1,fieldName:"fieldName",errors:{},register:function(){},setValue:function(){},clearErrors:function(){}};var N,C,E,I,O,D,B,R,T,_,z,M,V,W,Q,q,A,U,G,L,F,H,X,J=r(9146),Y=r(1237),K=j.ZP.div(N||(N=(0,y.Z)(["\n  font-size: 12px;\n  padding: 10px 0 120px;\n  background-color: ",";\n"])),Y.Z.bgGray),$=j.ZP.div(C||(C=(0,y.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),nn=j.ZP.p(E||(E=(0,y.Z)(["\n  width: 120px;\n  font-size: 12px;\n  max-width: 200px;\n"]))),en=(j.ZP.input(I||(I=(0,y.Z)(["\n  width: 100%;\n"]))),j.ZP.div(O||(O=(0,y.Z)(["\n  display: flex;\n  margin: 15px auto;\n  width: fit-content;\n  justify-content: center;\n  border: solid 1px ",";\n"])),Y.Z.primary),j.ZP.div(D||(D=(0,y.Z)(["\n  padding: 5px 10px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),j.ZP.div(B||(B=(0,y.Z)(["\n  margin: 20px 10px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"])))),rn=j.ZP.img(R||(R=(0,y.Z)(["\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  margin: 0 10px 0 0;\n  border-radius: 5px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),tn=j.ZP.div(T||(T=(0,y.Z)([""]))),on=(j.ZP.div(_||(_=(0,y.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgb(0 0 0 / 12%);\n"]))),j.ZP.div(z||(z=(0,y.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"])))),an=j.ZP.div(M||(M=(0,y.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n"]))),pn=j.ZP.p(V||(V=(0,y.Z)(["\n  font-weight: 700;\n"]))),sn=(j.ZP.div(W||(W=(0,y.Z)(["\n  text-align: center;\n  width: ","%;\n"])),100/3),j.ZP.p(Q||(Q=(0,y.Z)(["\n  margin: 0 0 5px;\n"]))),j.ZP.span(q||(q=(0,y.Z)(["\n  color: #fff;\n  padding: 3px 5px;\n  font-size: 12px;\n  border-radius: 5px;\n  background-color: ",";\n"])),(function(n){return n.backgroundColor})),j.ZP.div(A||(A=(0,y.Z)(["\n  display: flex;\n  padding: 0 0 2px;\n  justify-content: space-between;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n"]))),j.ZP.p(U||(U=(0,y.Z)(["\n  margin: 5px 0;\n  padding: 0 5px;\n  font-size: 12px;\n  border-radius: 5px;\n  width: fit-content;\n  background-color: rgba(120, 120, 120, 0.5);\n"]))),j.ZP.div(G||(G=(0,y.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"])))),dn=j.ZP.div(L||(L=(0,y.Z)(["\n  top: 20px;\n  z-index: 7;\n  right: 10px;\n  cursor: pointer;\n  padding: 5px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),cn=j.ZP.p(F||(F=(0,y.Z)(["\n  padding: 5px;\n  font-size: 12px;\n  &:hover {\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  }\n  &:nth-child(3): {\n    color: red;\n  }\n"]))),un=j.ZP.input(H||(H=(0,y.Z)(["\n  width: 70px;\n  border: none;\n  margin: 0 5px;\n  text-align: right;\n  border-bottom: 1px solid #000;\n  color: ",";\n  &:focus-visible {\n    outline: none;\n  }\n"])),(function(n){return n.textColor})),ln=(j.ZP.div(X||(X=(0,y.Z)(["\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  display: flex;\n  position: fixed;\n  padding: 10px 35%;\n  align-items: center;\n  justify-content: space-around;\n  background-color: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),Y.Z.rgbaBlack),r(3454)),xn=r(2153),gn=r(1359),fn=["__typename","_id"],hn=function(n){var e,r,t=n.register,o=n.errors,i=n.productItem,a=n.selectedProducts,p=n.setSelectedProducts,u=i||{},l=u.code,x=u.imgUri,h=u.name,v=u.netUnitValue,y=u.unitString,j=(0,c.useRef)(null),w=(0,c.useState)(!1),P=(0,d.Z)(w,2),k=P[0],N=P[1],C=(0,c.useState)(0),E=(0,d.Z)(C,2),I=E[0],O=E[1],D=I>=0?Y.Z.primary:Y.Z.lightRed,B=k?"block":"none",R=(0,S.jsx)(dn,{display:B,ref:j,children:(0,S.jsx)(cn,{onClick:function(){},children:"\ud83d\uddd1 Xo\xe1"})});return(0,c.useEffect)((function(){var n=function(n){j.current&&!j.current.contains(n.target)&&N(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[j]),(0,S.jsxs)(en,{children:[(0,S.jsx)(sn,{onClick:function(){return N(!k)},children:(0,S.jsx)(f.Z,{})}),R,(0,S.jsxs)(tn,{children:[(0,S.jsxs)(on,{children:[(0,S.jsx)(rn,{src:x}),(0,S.jsxs)("div",{style:{width:"100%"},children:[(0,S.jsx)(on,{children:(0,S.jsxs)(g.Z,{fontSize:12,fontWeight:700,children:[l,h?" - ".concat(h[0].showText):""]})}),(0,S.jsx)(on,{children:(0,S.jsxs)(g.Z,{fontSize:12,fontStyle:"italic",children:[v,y]})})]})]}),(0,S.jsx)("hr",{}),(0,S.jsxs)(on,{children:[(0,S.jsx)(nn,{children:"S\u1ed1 l\u01b0\u1ee3ng nh\u1eadp:"}),(0,S.jsxs)("div",{children:[(0,S.jsx)(Z.Z,{label:"-",onClick:function(){var n=I-1;if(n>=0){O(n);var e=a.map((function(e){return e.code===l?(e.importedQuantity=n,e):e}));p(e)}}}),(0,S.jsx)(un,{min:0,type:"number",value:I,textColor:D,onChange:function(n){var e=parseInt(n.target.value,10),r=0===e||isNaN(e);if(e>0){O(e);var t=a.map((function(n){return n.code===l?(0,s.Z)((0,s.Z)({},n),{},{importedQuantity:e}):n}));p(t)}else if(r){O(0);var o=a.map((function(n){return n.code===l?(0,s.Z)((0,s.Z)({},n),{},{importedQuantity:0}):n}));p(o)}}}),(0,S.jsx)(m.Z,{label:"+",onClick:function(){var n=I+1;O(n);var e=a.map((function(e){return e.code===l?(0,s.Z)((0,s.Z)({},e),{},{importedQuantity:n}):e}));p(e)}})]})]}),(0,S.jsxs)(on,{children:[(0,S.jsx)(nn,{children:"H\u1ea1n s\u1eed d\u1ee5ng:"}),(0,S.jsx)(b.Z,{type:"date",name:"".concat(l,".expirationDate"),register:t,isError:!(null===(e=o[l])||void 0===e||!e.expirationDate),validations:{required:!0}})]}),(0,S.jsxs)(on,{children:[(0,S.jsx)(nn,{children:"Ng\xe0y s\u1ea3n xu\u1ea5t:"}),(0,S.jsx)(b.Z,{type:"date",name:"".concat(l,".dateOfManufacture"),register:t,isError:!(null===(r=o[l])||void 0===r||!r.dateOfManufacture),validations:{required:!0}})]})]})]})},mn=function(n){var e=(0,l.cI)({defaultValues:{}}),r=(e.watch,e.register),t=e.setValue,s=(e.clearErrors,e.handleSubmit),g=e.formState.errors,f=(0,u.I0)(),Z=(0,u.v9)((function(n){return n.authReducer})).viewerQuery,v=(0,c.useState)([]),y=(0,d.Z)(v,2),j=y[0],w=y[1],k=(0,c.useState)({node:Z}),N=(0,d.Z)(k,2),C=N[0],E=N[1];r("implementer",{required:!C});var I=(0,x.D)(ln.qe,{refetchQueries:[{query:P.ze},"GET_WAREHOUSE_INVENTORY",{query:P.BQ},"GET_IMPORTED_PRODUCTS"]}),O=(0,d.Z)(I,1)[0],D=C?(0,S.jsxs)(on,{children:[(0,S.jsxs)(pn,{children:[C.node.fullName," -"," ",C.node.phoneNumber]}),(0,S.jsx)(m.Z,{label:"\u0110\u1ed5i",onClick:function(){E(void 0),t("implementer",void 0)}})]}):(0,S.jsx)(gn.Z,{isSelectOne:!0,isError:!!g.implementer,onClickSelectResultItem:function(n){t("implementer",n),E(n)}}),B=(0,S.jsxs)($,{children:[(0,S.jsxs)(an,{children:[(0,S.jsx)(nn,{children:"Ng\u01b0\u1eddi nh\u1eadp:"}),D]}),(0,S.jsxs)(on,{children:[(0,S.jsx)(nn,{children:"Ng\xe0y nh\u1eadp:"}),(0,S.jsx)(b.Z,{type:"date",name:"importedDate",register:r,isError:!!g.importedDate,validations:{required:!0}})]})]}),R=function(){var n=(0,a.Z)((0,o.Z)().mark((function n(e){var r,t,a,p,s,d,c,u,l,x,g,h,m,Z,b;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=e.importedDate,t=[],a=0;a<j.length;a++)p=j[a],s=p.importedQuantity,d=p.orderNumber,c=p.code,u=p.netUnitValue,l=p.unitString,x=p.name,s&&(g=new Date(e[c].expirationDate).toISOString(),h=new Date(e[c].dateOfManufacture).toISOString(),m=x.map((function(n){n.__typename,n._id;return(0,i.Z)(n,fn)})),Z={quantity:s,orderNumber:d,productCode:c,netUnitValue:u,unitString:l,productName:m,expirationDate:g,dateOfManufacture:h},t.push(Z));return b={beImportedProducts:t,implementerAccountId:C.node._id,importedDate:new Date(r).toISOString()},n.next=6,O({variables:{data:b}});case 6:n.sent.data&&f((0,xn.mm)());case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,S.jsxs)(K,{children:[B,j.map((function(n,e){return(0,S.jsx)(hn,{itemIndex:e,productItem:n,errors:g,register:r,selectedProducts:j,setSelectedProducts:w},e)})),(0,S.jsxs)(on,{style:{margin:10},children:[(0,S.jsx)(nn,{children:"Th\xeam s\u1ea3n ph\u1ea9m:"}),(0,S.jsx)(h.Z,{isSelectOne:!0,onClickSelectResultItem:function(n){-1===j.findIndex((function(e){return e.code===n.node.code}))&&w([].concat((0,p.Z)(j),[n.node]))}})]}),(0,S.jsx)(J.Z,{label:"X\xe1c nh\u1eadn",onClick:s(R)})]})}},2669:function(n,e,r){r.d(e,{Z:function(){return v}});var t=r(3366),o=r(7462),i=r(7313),a=r(3061),p=r(9028),s=r(1921),d=r(6749),c=r(3729),u=r(8170),l=r(7430),x=r(2298);function g(n){return(0,x.Z)("MuiTypography",n)}(0,l.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var f=r(6417),h=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],m=(0,d.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(n,e){var r=n.ownerState;return[e.root,r.variant&&e[r.variant],"inherit"!==r.align&&e["align".concat((0,u.Z)(r.align))],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})((function(n){var e=n.theme,r=n.ownerState;return(0,o.Z)({margin:0},r.variant&&e.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})})),Z={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},v=i.forwardRef((function(n,e){var r=(0,c.Z)({props:n,name:"MuiTypography"}),i=function(n){return b[n]||n}(r.color),d=(0,p.Z)((0,o.Z)({},r,{color:i})),l=d.align,x=void 0===l?"inherit":l,v=d.className,y=d.component,j=d.gutterBottom,w=void 0!==j&&j,P=d.noWrap,S=void 0!==P&&P,k=d.paragraph,N=void 0!==k&&k,C=d.variant,E=void 0===C?"body1":C,I=d.variantMapping,O=void 0===I?Z:I,D=(0,t.Z)(d,h),B=(0,o.Z)({},d,{align:x,color:i,className:v,component:y,gutterBottom:w,noWrap:S,paragraph:N,variant:E,variantMapping:O}),R=y||(N?"p":O[E]||Z[E])||"span",T=function(n){var e=n.align,r=n.gutterBottom,t=n.noWrap,o=n.paragraph,i=n.variant,a=n.classes,p={root:["root",i,"inherit"!==n.align&&"align".concat((0,u.Z)(e)),r&&"gutterBottom",t&&"noWrap",o&&"paragraph"]};return(0,s.Z)(p,g,a)}(B);return(0,f.jsx)(m,(0,o.Z)({as:R,ref:e,ownerState:B,className:(0,a.Z)(T.root,v)},D))}))},9028:function(n,e,r){r.d(e,{Z:function(){return d}});var t=r(2982),o=r(7462),i=r(3366),a=r(3019),p=r(3103),s=["sx"];function d(n){var e,r=n.sx,d=function(n){var e={systemProps:{},otherProps:{}};return Object.keys(n).forEach((function(r){p.Gc[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]})),e}((0,i.Z)(n,s)),c=d.systemProps,u=d.otherProps;return e=Array.isArray(r)?[c].concat((0,t.Z)(r)):"function"===typeof r?function(){var n=r.apply(void 0,arguments);return(0,a.P)(n)?(0,o.Z)({},c,n):c}:(0,o.Z)({},c,r),(0,o.Z)({},u,{sx:e})}}}]);