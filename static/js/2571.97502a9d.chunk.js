"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[2571,790,9436],{5531:function(n,e,t){t.r(e),t.d(e,{default:function(){return w}});var r,i,s=t(7313),a=t(3222),c=t(168),o=t(3115),u=t(1237),l=o.ZP.div(r||(r=(0,c.Z)(["\n  font-size: 12px;\n"]))),d=o.ZP.div(i||(i=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: ","px;\n  height: ","px;\n  background-color: ",";\n  border-radius: ","px;\n  & > p {\n    font-weight: 600;\n    color: ",";\n    font-size: ","px;\n  }\n"])),(function(n){return n.circleSize}),(function(n){return n.circleSize}),u.Z.lightOrange,(function(n){return n.circleSize}),u.Z.lightWhite,(function(n){return n.circleSize-15})),f=t(6417),h=function(n){n.customStyle;var e=n.circleRadius,t=(n.isAnonymously,n.fullName),r=n.avatarUri,i=(n.borderColor,(0,a.v9)((function(n){return n.authReducer})).viewerQuery||{}),s=i.fullName,c=i.avatarUrl,o=r||c,u=function(n){if("string"===typeof n){var e,t,r=n?n.split(" "):[],i=r.length-1;return(null===(e=r[0])||void 0===e?void 0:e.charAt(0).toUpperCase())+(i?null===(t=r[i])||void 0===t?void 0:t.charAt(0).toUpperCase():"")}return""}(t||s),h=o?(0,f.jsx)("img",{src:o,alt:"user-avatar"}):(0,f.jsx)(d,{circleSize:e,children:(0,f.jsx)("p",{children:u})});return(0,f.jsx)(l,{children:h})};h.defaultProps={circleRadius:25};var x,p,b,g,v,m=h,j=t(5222),Z=(o.ZP.div(x||(x=(0,c.Z)(["\n  padding: 10px;\n  font-size: 12px;\n"]))),o.ZP.div(p||(p=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n"])))),S=o.ZP.p(b||(b=(0,c.Z)(["\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin})),_=o.ZP.p(g||(g=(0,c.Z)(["\n  font-weight: 600;\n  margin: ",";\n"])),(function(n){return n.margin})),C=o.ZP.p(v||(v=(0,c.Z)(["\n  font-style: italic;\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin})),k=t(9436),y=function(n){return function(n){if(null==n)throw new TypeError("Cannot destructure "+n)}(n.conversationItem||{}),(0,f.jsxs)(j.Z,{children:[(0,f.jsxs)(Z,{children:[(0,f.jsx)(m,{}),(0,f.jsx)(_,{margin:"0 5px",children:"Nguy\u1ec5n V\u0103n A"}),(0,f.jsx)("p",{children:"l\xfac"}),(0,f.jsx)(C,{children:"10/10/2023 - 05:00"})]}),(0,f.jsxs)(Z,{children:[(0,f.jsx)(C,{width:"25px",children:"b\u1edfi"}),":",(0,f.jsx)(S,{margin:"0 5px",children:" Ph\u1ea1m V\u0103n B\xe1ch"})]}),(0,f.jsxs)(Z,{children:[(0,f.jsx)(C,{width:"25px",children:"t\u1ea1i:"}),":",(0,f.jsx)(S,{margin:"0 5px",children:"Gia L\xe2m - H\xe0 N\u1ed9i"})]}),(0,f.jsx)("p",{children:"N\u1ed9i dung (n\u1ebfu c\xf3)"}),(0,f.jsx)(s.Suspense,{fallback:null,children:(0,f.jsx)(k.default,{})})]})};y.defaultProps={};var w=y},9436:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var r,i,s,a,c,o,u,l,d,f,h=t(885),x=t(1413),p=t(7313),b=t(4021),g=t(168),v=t(3115),m=t(1237),j=v.ZP.div(r||(r=(0,g.Z)(["\n  font-size: 12px;\n"]))),Z=v.ZP.div(i||(i=(0,g.Z)(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n  justify-content: space-between;\n"]))),S=v.ZP.img(s||(s=(0,g.Z)(["\n  width: 49%;\n  margin: 5px 0;\n  display: block;\n  cursor: pointer;\n  object-fit: cover;\n  height: ",";\n"])),(function(n){return n.imageHeight})),_=v.ZP.div(a||(a=(0,g.Z)(["\n  right: 0;\n  top: 5px;\n  width: 49%;\n  display: flex;\n  cursor: pointer;\n  position: absolute;\n  align-items: center;\n  justify-content: center;\n  height: calc(100% - 10px);\n  background-color: ",";\n"])),m.Z.rgbaBlack),C=v.ZP.span(c||(c=(0,g.Z)(["\n  font-size: 20px;\n  margin: -3px 0 0 0;\n  color: ",";\n"])),m.Z.white),k=v.ZP.span(o||(o=(0,g.Z)(["\n  font-size: 24px;\n  color: ",";\n"])),m.Z.white),y=v.ZP.div(u||(u=(0,g.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 15;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  display: ",";\n  background-color: ",";\n"])),(function(n){return n.isDisplay}),m.Z.rgbaBlack),w=v.ZP.div(l||(l=(0,g.Z)(["\nwidth: 100%;\nheight: 50%;\n"]))),T=v.ZP.div(d||(d=(0,g.Z)(["\n  width: 100%;\n  height: 10%;\n  @media (max-width: 768px) {\n    height: 28%;\n  }\n"]))),E=v.ZP.img(f||(f=(0,g.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n"]))),P=t(6417),A=function(n){var e=n.className,t=n.style,r=n.onClick;return(0,P.jsx)("div",{onClick:r,className:e,style:(0,x.Z)((0,x.Z)({},t),{},{right:10})})},N=function(n){var e=n.className,t=n.style,r=n.onClick;return(0,P.jsx)("div",{onClick:r,className:e,style:(0,x.Z)((0,x.Z)({},t),{},{left:10,zIndex:20})})},z=function(n){var e=n.data,t=n.isDisplaySlider,r=n.setIsDisplaySlider,i=t?"block":"none",s={customPaging:function(n){return(0,P.jsx)("img",{src:e[n],alt:"slide-".concat(n)})},dots:!0,speed:500,infinite:!0,slidesToShow:1,slidesToScroll:1,nextArrow:(0,P.jsx)(A,{}),prevArrow:(0,P.jsx)(N,{}),dotsClass:"slick-dots slick-thumb"},a=(0,P.jsx)(T,{onClick:function(){return r(!1)}});return(0,P.jsxs)(y,{isDisplay:i,children:[a,(0,P.jsx)(w,{children:(0,P.jsx)(b.Z,(0,x.Z)((0,x.Z)({},s),{},{children:e.map((function(n,e){return(0,P.jsx)(E,{src:n},e)}))}))}),a]})},I=function(n){var e=n.data,t=n.plusNumber,r=n.setIsDisplaySlider,i=.49*window.screen.width*(9/16),s=t>0;return(0,P.jsxs)(Z,{children:[e.map((function(n,e){return(0,P.jsx)(S,{src:n,imageHeight:i,onClick:function(){return r(!0)}},e)})),s&&(0,P.jsxs)(_,{onClick:function(){return r(!0)},children:[(0,P.jsx)(C,{children:"+"}),(0,P.jsx)(k,{children:t})]})]})},R=function(n){var e=n.mediaData,t=n.maxShowImages,r=e.length-t,i=e.slice(0,t),s=(0,p.useState)(!1),a=(0,h.Z)(s,2),c=a[0],o=a[1];return null!==e&&void 0!==e&&e.length?(0,P.jsxs)(j,{children:[(0,P.jsx)(I,{data:i,plusNumber:r,maxShowImages:t,setIsDisplaySlider:o}),(0,P.jsx)(z,{data:e,isDisplaySlider:c,setIsDisplaySlider:o})]}):null};R.defaultProps={mediaData:[],maxShowImages:2};var O=R},2571:function(n,e,t){t.r(e),t.d(e,{default:function(){return qn}});var r,i,s,a,c,o,u,l,d,f,h,x,p,b,g,v=t(4165),m=t(1413),j=t(5861),Z=t(885),S=t(7313),_=t(3222),C=t(790),k=t(2668),y=t(4689),w=t(372),T=t(6173),E=t(6069),P=t(3454),A=t(7123),N=t(3163),z=t(2153),I=t(4695),R=t(3070),O=t(168),M=t(3115),D=t(1237),U=M.ZP.div(r||(r=(0,O.Z)(["\n  width: 100%;\n  font-size: 12px;\n  justify-content: space-between;\n"]))),L=M.ZP.div(i||(i=(0,O.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin: "," 0;\n"])),(function(n){return n.marginTopBottom})),V=M.ZP.div(s||(s=(0,O.Z)(["\n  width: 50%;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n"])),D.Z.primary),F=M.ZP.div(a||(a=(0,O.Z)(["\n  padding: 4px;\n  display: flex;\n  margin: 5px 7px;\n  align-items: center;\n  border-radius: 20px;\n  justify-content: center;\n  background-color: ",";\n"])),D.Z.white),B=t(7119),W=t(5222),H=M.ZP.div(c||(c=(0,O.Z)(["\n  font-size: 12px;\n  padding: 10px 0 120px;\n"]))),J=M.ZP.div(o||(o=(0,O.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),K=M.ZP.div(u||(u=(0,O.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: ",";\n"])),(function(n){return n.margin})),Q=M.ZP.p(l||(l=(0,O.Z)(["\n  font-weight: 600;\n  color: ",";\n"])),D.Z.lightGray),G=M.ZP.p(d||(d=(0,O.Z)(["\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin})),q=M.ZP.p(f||(f=(0,O.Z)(["\n  font-weight: 600;\n"]))),X=M.ZP.p(h||(h=(0,O.Z)(["\n  font-style: italic;\n  color: ",";\n"])),D.Z.lightGray),Y=M.ZP.div(x||(x=(0,O.Z)(["\n  display: flex;\n  width: fit-content;\n  margin: 0 auto 30px;\n  justify-content: center;\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n"]))),$=M.ZP.div(p||(p=(0,O.Z)(["\n  cursor: pointer;\n  text-align: center;\n  padding: 5px 10px 4px;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),nn=M.ZP.div(b||(b=(0,O.Z)(["\n  margin: 0 5px;\n"]))),en=(M.ZP.div(g||(g=(0,O.Z)([""]))),t(5531)),tn=t(1359),rn=t(4641),sn=t(7062),an=t(6417),cn=(0,S.lazy)((function(){return t.e(6047).then(t.bind(t,6047))})),on=function(){var n=(0,_.I0)();return(0,an.jsxs)(an.Fragment,{children:[(0,an.jsxs)(K,{margin:"0 5px",children:[(0,an.jsx)(Q,{children:"TRAO \u0110\u1ed4I"}),(0,an.jsx)(rn.Z,{label:"+ Th\xeam m\u1edbi",onClick:function(){var e={title:"Th\xeam trao \u0111\u1ed5i m\u1edbi",children:(0,an.jsx)(sn.Z,{})};n((0,z.Cg)(e))}})]}),(0,an.jsxs)(W.Z,{borderRadius:"0",children:[(0,an.jsxs)(J,{children:[(0,an.jsx)(G,{width:"80px",children:"Nh\xe2n vi\xean"}),":",(0,an.jsx)(tn.Z,{searchPlaceholder:"T\xecm nh\xe2n vi\xean"})]}),(0,an.jsxs)(J,{children:[(0,an.jsx)(G,{width:"63px",children:"Th\u1eddi gian"}),":"]}),(0,an.jsxs)(J,{children:[(0,an.jsx)(G,{width:"80px",children:"v\u1edbi"}),":",(0,an.jsx)(tn.Z,{searchPlaceholder:"Kh\xe1ch h\xe0ng"})]}),(0,an.jsx)("p",{children:"T\u1ed5ng c\xf3: 30 cu\u1ed9c trao \u0111\u1ed5i - Th\xe1ng n\xe0y: 30 cu\u1ed9c"})]}),(0,an.jsx)(nn,{children:(0,an.jsx)(S.Suspense,{fallback:null,children:[{},{},{},{},{}].map((function(n,e){return(0,an.jsx)(en.default,{conversationItem:n},e)}))})})]})},un=function(n){var e=n.leadItem,t=(0,_.I0)(),r=e||{};r.fullName,r.saleStaffInfo;return(0,an.jsxs)(W.Z,{customCursor:"pointer",onClick:function(){var n={title:"Nh\u1eadt k\xfd trao \u0111\u1ed5i",children:(0,an.jsx)(S.Suspense,{children:(0,an.jsx)(cn,{leadItem:e})})};t((0,z.FV)(n))},children:[(0,an.jsx)(q,{children:"T\xean kh\xe1ch h\xe0ng"}),(0,an.jsxs)(J,{children:[(0,an.jsx)("p",{children:"Gia L\xe2m - H\xe0 N\u1ed9i"}),(0,an.jsx)(X,{children:"Ph\u1ee5 tr\xe1ch: Nguy\u1ec5n V\u0103n B"})]})]})},ln=function(){var n=(0,_.I0)();return(0,an.jsxs)(an.Fragment,{children:[(0,an.jsxs)(K,{margin:"0 5px",children:[(0,an.jsx)(Q,{children:"DANH S\xc1CH"}),(0,an.jsx)(rn.Z,{label:"+ Th\xeam m\u1edbi",onClick:function(){n((0,z.FV)({title:"Th\xeam lead m\u1edbi",children:"Th\xeam lead m\u1edbi"}))}})]}),(0,an.jsx)(G,{margin:"0 5px",children:"S\u1ed1 l\u01b0\u1ee3ng m\u1edbi trong th\xe1ng: 5 ng\u01b0\u1eddi"}),(0,an.jsx)(nn,{children:[1,2,3,4].map((function(n,e){return(0,an.jsx)(un,{leadItem:n},e)}))})]})},dn=function(n){var e=[{code:"leads_list",label:"Danh s\xe1ch"},{code:"conversations",label:"Trao \u0111\u1ed5i"}],t=(0,S.useState)(e[0]),r=(0,Z.Z)(t,2),i=r[0],s=r[1],a=function(n){return n.code===i.code?{backgroundColor:D.Z.primary,textColor:D.Z.white}:{backgroundColor:D.Z.white,textColor:""}},c=function(){switch(i.code){case e[0].code:return(0,an.jsx)(ln,{});case e[1].code:return(0,an.jsx)(on,{});default:return null}}();return(0,an.jsxs)(H,{children:[(0,an.jsx)(Y,{children:e.map((function(n,e){return(0,an.jsx)($,{activeColor:a(n),onClick:function(){return s(n)},borderLeftColor:e>0?D.Z.primary:"transparent",children:n.label},e)}))}),c]})};dn.defaultProps={};var fn=dn,hn=(0,S.lazy)((function(){return Promise.all([t.e(7155),t.e(6066)]).then(t.bind(t,6066))})),xn=(0,S.lazy)((function(){return t.e(487).then(t.bind(t,487))})),pn=(0,S.lazy)((function(){return t.e(5236).then(t.bind(t,5236))})),bn=(0,S.lazy)((function(){return Promise.all([t.e(3788),t.e(4938)]).then(t.bind(t,3788))})),gn=(0,S.lazy)((function(){return Promise.all([t.e(677),t.e(1625)]).then(t.bind(t,1625))})),vn=(0,S.lazy)((function(){return Promise.all([t.e(677),t.e(5547)]).then(t.bind(t,5547))})),mn=(0,S.lazy)((function(){return Promise.all([t.e(7155),t.e(9724)]).then(t.bind(t,9724))})),jn=(0,S.lazy)((function(){return t.e(653).then(t.bind(t,653))})),Zn=(0,S.lazy)((function(){return t.e(2655).then(t.bind(t,2655))})),Sn=(0,S.lazy)((function(){return Promise.all([t.e(1791),t.e(5789)]).then(t.bind(t,5789))})),_n=(0,S.lazy)((function(){return t.e(9808).then(t.bind(t,9808))})),Cn=(0,S.lazy)((function(){return t.e(8206).then(t.bind(t,8206))})),kn=(0,S.lazy)((function(){return t.e(4816).then(t.bind(t,4816))})),yn=(0,S.lazy)((function(){return t.e(9860).then(t.bind(t,9860))})),wn=(0,S.lazy)((function(){return t.e(2986).then(t.bind(t,2986))})),Tn=(0,S.lazy)((function(){return Promise.all([t.e(3222),t.e(468),t.e(5632),t.e(2341)]).then(t.bind(t,7715))})),En=(0,S.lazy)((function(){return t.e(3938).then(t.bind(t,3938))})),Pn="create_notification",An="staff_list",Nn="create_internal_staff",zn="create_customer",In="create_purchase_order",Rn="create_special_order",On="return_products",Mn="import_product",Dn="destroy_damaged_product",Un="create_product",Ln="create_receipt",Vn="view_debt",Fn="create_discount_promotion",Bn="change_password",Wn="change_staff_work_area",Hn="inventory_balance",Jn="customer_list",Kn="leads_list",Qn="logout",Gn=function(n){var e=n.isCustomer,t=n.toolItems,r=n.mainBottomTabs,i=n.setActiveMainBottomTab,s=n.setIsOpenedBottomMenu,a=t.filter((function(n){return!!n})).length?"10px":0,c=(0,_.I0)(),o=(0,C.D)(P.Nv),u=(0,Z.Z)(o,1)[0],l=(0,C.D)(P.eQ),d=(0,Z.Z)(l,1)[0],f=function(n){var t=e?(0,an.jsx)(En,{}):(0,an.jsx)(Tn,{orderProducts:[]});switch(n){case Pn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(hn,{})});case An:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(wn,{})});case Nn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(pn,{})});case zn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(xn,{})});case In:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:t});case Rn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(Tn,{isSpecialOrder:!0,orderProducts:[]})});case On:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(bn,{})});case Mn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(gn,{})});case Dn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(vn,{})});case Un:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(mn,{})});case Hn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(jn,{})});case Ln:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(Zn,{})});case Vn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(Sn,{})});case Fn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(_n,{})});case Bn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(Cn,{})});case Wn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(kn,{})});case Jn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(yn,{})});case Kn:return(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:(0,an.jsx)(fn,{})});default:return null}},h=function(){var n=(0,j.Z)((0,v.Z)().mark((function n(e){var t,a,o,l,h,x,p,b;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.label,a=e.code,s(!1),o=a===Vn,l=a===Hn,!(a===Qn)){n.next=14;break}return n.next=8,u();case 8:localStorage.removeItem(R.B),h={viewerQuery:{},isAuthenticated:!1},c((0,I.CD)(h)),window.location.reload(),n.next=25;break;case 14:if(!o){n.next=19;break}x=r.findIndex((function(n){return"debts"===n.code})),i(r[x]),n.next=25;break;case 19:if(!l){n.next=23;break}return p=function(){d({variables:{data:{isStockChecking:!1}}})},n.next=23,d({variables:{data:{isStartStockChecking:!0}}});case 23:b=(0,m.Z)((0,m.Z)({title:t},!!p&&{customCloseAction:p}),{},{children:(0,an.jsx)(S.Suspense,{fallback:(0,an.jsx)(T.default,{}),children:f(a)})}),c((0,z.dn)(b));case 25:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,an.jsx)(L,{marginTopBottom:a,children:t.map((function(n,e){return n?(0,an.jsx)(V,{onClick:function(){return h(n)},children:(0,an.jsx)(F,{children:n&&n.label})},e):null}))})},qn=function(n){var e=n.mainBottomTabs,t=n.setActiveMainBottomTab,r=n.setIsOpenedBottomMenu,i=B.gz.CRUD_PRODUCT,s=B.gz.CAN_CREATE_NORMAL_SPECIAL_ORDER_FOR_ANYONE,a=B.gz.CAN_CREATE_ORDER_FOR_OWN_CUSTOMERS,c=B.gz.CAN_CREATE_SPECIAL_ORDER_FOR_OWN_AREA,o=B.gz.IMPORT_RETURN_PRODUCT,u=B.gz.CAN_EXCUTE_WAREHOUSE_BALANCE,l=B.gz.DESTROY_PRODUCT,d=B.gz.CREATE_NOTIFICATION,f=B.gz.CAN_CREATE_CUSTOMER,h=B.gz.CAN_CREATE_STAFF,x=B.gz.CAN_CHANGE_STAFF_WORK_AREA,p=B.gz.CAN_CREATE_DISCOUNT_PROMOTION,b=B.gz.CAN_VIEW_OWN_CUSTOMER_LIST,g=B.gz.CAN_VIEW_ALL_CUSTOMERS_LIST,T=B.gz.CAN_VIEW_ALL_STAFFS,z=B.gz.CAN_VIEW_OWN_STAFF_LIST,I=B.gz.CAN_VIEW_OWN_DEBTS,O=B.gz.CAN_VIEW_ALL_DEBTS,M=B.gz.CAN_CREATE_RECEIPT_FOR_ANY_CUSTOMER,D=B.gz.CAN_CREATE_RECEIPT_FOR_OWN_CUSTOMER,W=(0,_.v9)((function(n){return n.authReducer})).viewerQuery||{},H=W._id,J=W.roles,K=void 0===J?[]:J,Q=W.permissions,G=void 0===Q?[]:Q,q=W.customerStaffPermissions,X=void 0===q?[]:q,Y=W.subscribedNewsPush,$=W.subscribedSystemPush,nn=(0,k.a)(A.bV,{fetchPolicy:"cache-and-network"}),en=nn.data,tn=nn.subscribeToMore,rn=(en&&en.global||{}).isStockChecking,sn=K.includes(R.If.CUSTOMER)||K.includes(R.If.STAFF_OF_CUSTOMER),cn=K.includes(R.If.SYSTEM),on=X.length?X.includes(B.Fl.CREATE_AND_MANAGE_ORDERS):G.some((function(n){return n===a||n===s})),un=G.some((function(n){return n===s||n===c})),ln=G.some((function(n){return n===D||n===M})),dn=G.includes(o),fn=G.includes(o),hn=G.includes(i),xn=G.includes(l),pn=G.includes(u),bn=G.includes(d),gn=G.some((function(n){return n===b||n===g})),vn=G.includes(f),mn=G.some((function(n){return n===z||n===T})),jn=G.includes(h),Zn=G.includes(x),Sn=G.includes(p),_n=G.some((function(n){return n===I||n===O})),Cn=[[on?{code:In,label:"+ \u0110\u1eb7t h\xe0ng"}:void 0,un?{code:Rn,label:"+ \u0110\u01a1n \u0111\u1eb7c bi\u1ec7t"}:void 0,ln?{code:Ln,label:"+ Thu ti\u1ec1n"}:void 0],[dn?{code:Mn,label:"+ Nh\u1eadp h\xe0ng"}:void 0,fn?{code:On,label:"+ Nh\u1eadp l\u1ea1i h\xe0ng"}:void 0,hn?{code:Un,label:"+ S\u1ea3n ph\u1ea9m m\u1edbi"}:void 0,xn?{code:Dn,label:"+ Hu\u1ef7 h\xe0ng h\u1ecfng"}:void 0,pn&&!rn?{code:Hn,label:"+ Ki\u1ec3m kho"}:void 0],[bn?{code:Pn,label:"+ Th\xf4ng b\xe1o m\u1edbi"}:void 0],[gn?{code:Jn,label:"Danh s\xe1ch kh\xe1ch h\xe0ng"}:void 0,vn?{code:zn,label:"+ Th\xeam Kh\xe1ch h\xe0ng"}:void 0,mn?{code:An,label:"Danh s\xe1ch nh\xe2n vi\xean"}:void 0,jn?{code:Nn,label:"+ Th\xeam Nh\xe2n vi\xean"}:void 0,Zn?{code:Wn,label:"Chuy\u1ec3n v\xf9ng"}:void 0,Zn?{code:Kn,label:"Danh s\xe1ch Leads"}:void 0],[Sn?{code:Fn,label:"+ T\u1ea1o CKKM"}:void 0,_n?{code:Vn,label:"C\xf4ng n\u1ee3"}:void 0],[{code:Bn,label:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"},{code:Qn,label:"\u0110\u0103ng xu\u1ea5t"}]],kn=(0,S.useState)(!1),yn=(0,Z.Z)(kn,2),wn=yn[0],Tn=yn[1],En=(0,S.useState)(!1),qn=(0,Z.Z)(En,2),Xn=qn[0],Yn=qn[1],$n=(0,S.useState)(!0),ne=(0,Z.Z)($n,2),ee=ne[0],te=ne[1],re=(0,C.D)(P.$E),ie=(0,Z.Z)(re,1)[0],se=function(){var n=(0,j.Z)((0,v.Z)().mark((function n(){var e,t,r,i;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Notification.requestPermission();case 2:if("denied"!==(e=n.sent)){n.next=6;break}return console.error("The user explicitly denied the permission request."),n.abrupt("return");case 6:return"granted"===e&&console.info("The user accepted the permission request."),n.next=9,navigator.serviceWorker.getRegistration();case 9:return t=n.sent,n.next=12,t.pushManager.getSubscription();case 12:if(!(r=n.sent)||!wn){n.next=16;break}return console.info("User is already subscribed."),n.abrupt("return");case 16:return n.next=18,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:(0,E.EJ)("BLw43wcbE_9PstDuQ2XoCKxLZuf4jO9QtV_UVrnMS2HV6XIgyPMU1hkkA86AF1NfEM6pEbIsUHaqGy1JXDeApV4")});case 18:return i=n.sent,n.next=21,ie({variables:{data:(0,m.Z)({subscribedNewsPush:!0},!r&&{subscribeJson:JSON.stringify(i)}),where:{accountId:H}}});case 21:n.sent.data&&Tn(!0);case 23:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ae=function(){var n=(0,j.Z)((0,v.Z)().mark((function n(){var e,t;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.serviceWorker.getRegistration();case 2:return e=n.sent,n.next=5,e.pushManager.getSubscription();case 5:return t=n.sent,n.next=8,ie({variables:{data:(0,m.Z)({subscribedNewsPush:!1},!Xn&&{unsubscribeJson:JSON.stringify(t)}),where:{accountId:H}}});case 8:if(!n.sent.data){n.next=16;break}if(Tn(!1),Xn){n.next=16;break}return n.next=14,t.unsubscribe();case 14:n.sent&&console.info("Successfully unsubscribed from push notifications.");case 16:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ce=wn?(0,an.jsxs)(F,{onClick:ae,children:[(0,an.jsx)(y.Z,{fontSize:"small"}),"\u2002Hu\u1ef7 th\xf4ng b\xe1o tin t\u1ee9c"]}):(0,an.jsxs)(F,{onClick:se,children:[(0,an.jsx)(w.Z,{fontSize:"small"}),"\u2002Th\xf4ng b\xe1o tin t\u1ee9c"]}),oe=function(){var n=(0,j.Z)((0,v.Z)().mark((function n(){var e,t,r,i;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Notification.requestPermission();case 2:if("denied"!==(e=n.sent)){n.next=6;break}return console.error("The user explicitly denied the permission request."),n.abrupt("return");case 6:return"granted"===e&&console.info("The user accepted the permission request."),n.next=9,navigator.serviceWorker.getRegistration();case 9:return t=n.sent,n.next=12,t.pushManager.getSubscription();case 12:if(!(r=n.sent)||!Xn){n.next=16;break}return console.info("User is already subscribed."),n.abrupt("return");case 16:return n.next=18,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:(0,E.EJ)("BLw43wcbE_9PstDuQ2XoCKxLZuf4jO9QtV_UVrnMS2HV6XIgyPMU1hkkA86AF1NfEM6pEbIsUHaqGy1JXDeApV4")});case 18:return i=n.sent,n.next=21,ie({variables:{data:(0,m.Z)({subscribedSystemPush:!0},!r&&{subscribeJson:JSON.stringify(i)}),where:{accountId:H}}});case 21:n.sent.data&&Yn(!0);case 23:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ue=function(){var n=(0,j.Z)((0,v.Z)().mark((function n(){var e,t;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.serviceWorker.getRegistration();case 2:return e=n.sent,n.next=5,e.pushManager.getSubscription();case 5:return t=n.sent,n.next=8,ie({variables:{data:(0,m.Z)({subscribedSystemPush:!1},!wn&&{unsubscribeJson:JSON.stringify(t)}),where:{accountId:H}}});case 8:if(!n.sent.data){n.next=16;break}if(Yn(!1),wn){n.next=16;break}return n.next=14,t.unsubscribe();case 14:n.sent&&console.info("Successfully unsubscribed from push notifications.");case 16:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),le=Xn?(0,an.jsxs)(F,{onClick:ue,children:[(0,an.jsx)(y.Z,{fontSize:"small"}),"\u2002Hu\u1ef7 t.b\xe1o h\u1ec7 th\u1ed1ng"]}):(0,an.jsxs)(F,{onClick:oe,children:[(0,an.jsx)(w.Z,{fontSize:"small"}),"\u2002Th\xf4ng b\xe1o h\u1ec7 th\u1ed1ng"]});return(0,S.useEffect)((function(){var n=function(){var n=(0,j.Z)((0,v.Z)().mark((function n(){var e,t,r;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=navigator.userAgent||window.opera,t=e.toLowerCase(),!/iPad|iPhone|iPod/.test(e)||window.MSStream){n.next=5;break}return te(!1),n.abrupt("return");case 5:if(-1===t.indexOf("safari")||-1!==t.indexOf("chrome")){n.next=8;break}return te(!1),n.abrupt("return");case 8:return n.next=10,navigator.serviceWorker.getRegistration();case 10:return r=n.sent,n.next=13,r.pushManager.getSubscription();case 13:n.sent&&(Y&&Tn(!0),$&&Yn(!0));case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),(0,S.useEffect)((function(){var n=tn({document:N.Po,updateQuery:function(n,e){var t=e.subscriptionData;if(t)return{global:t.data.updatedGlobalData}}});return function(){return n()}}),[tn]),(0,an.jsxs)(U,{children:[ee&&(0,an.jsxs)(L,{marginTopBottom:"5px",children:[!cn&&(0,an.jsx)(V,{children:ce}),!cn&&(0,an.jsx)(V,{children:le})]}),Cn.map((function(n,i){return(0,an.jsx)(Gn,{itemIndex:i,toolItems:n,isCustomer:sn,mainBottomTabs:e,setActiveMainBottomTab:t,setIsOpenedBottomMenu:r},i)}))]})}},372:function(n,e,t){var r=t(4836);e.Z=void 0;var i=r(t(5045)),s=t(6417),a=(0,i.default)((0,s.jsx)("path",{d:"M7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"}),"NotificationsActive");e.Z=a},4689:function(n,e,t){var r=t(4836);e.Z=void 0;var i=r(t(5045)),s=t(6417),a=(0,i.default)((0,s.jsx)("path",{d:"M20 18.69 7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"}),"NotificationsOff");e.Z=a},790:function(n,e,t){t.d(e,{D:function(){return l}});var r=t(6797),i=t(7313),s=t(345),a=t(3301),c=t(8112),o=t(4624),u=t(1511);function l(n,e){var t=(0,u.x)(null===e||void 0===e?void 0:e.client);(0,c.Vp)(n,c.n_.Mutation);var l=(0,i.useState)({called:!1,loading:!1,client:t}),d=l[0],f=l[1],h=(0,i.useRef)({result:d,mutationId:0,isMounted:!0,client:t,mutation:n,options:e});Object.assign(h.current,{client:t,options:e,mutation:n});var x=(0,i.useCallback)((function(n){void 0===n&&(n={});var e=h.current,t=e.client,i=e.options,c=e.mutation,u=(0,r.pi)((0,r.pi)({},i),{mutation:c});h.current.result.loading||u.ignoreResults||!h.current.isMounted||f(h.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:t});var l=++h.current.mutationId,d=(0,s.J)(u,n);return t.mutate(d).then((function(e){var r,i,s,c=e.data,u=e.errors,x=u&&u.length>0?new o.c({graphQLErrors:u}):void 0;if(l===h.current.mutationId&&!d.ignoreResults){var p={called:!0,loading:!1,data:c,error:x,client:t};h.current.isMounted&&!(0,a.D)(h.current.result,p)&&f(h.current.result=p)}return null===(i=null===(r=h.current.options)||void 0===r?void 0:r.onCompleted)||void 0===i||i.call(r,e.data,d),null===(s=n.onCompleted)||void 0===s||s.call(n,e.data,d),e})).catch((function(e){var r,i,s,c;if(l===h.current.mutationId&&h.current.isMounted){var o={loading:!1,error:e,data:void 0,called:!0,client:t};(0,a.D)(h.current.result,o)||f(h.current.result=o)}if((null===(r=h.current.options)||void 0===r?void 0:r.onError)||d.onError)return null===(s=null===(i=h.current.options)||void 0===i?void 0:i.onError)||void 0===s||s.call(i,e,d),null===(c=n.onError)||void 0===c||c.call(n,e,d),{data:void 0,errors:e};throw e}))}),[]),p=(0,i.useCallback)((function(){h.current.isMounted&&f({called:!1,loading:!1,client:t})}),[]);return(0,i.useEffect)((function(){return h.current.isMounted=!0,function(){h.current.isMounted=!1}}),[]),[x,(0,r.pi)({reset:p},d)]}}}]);