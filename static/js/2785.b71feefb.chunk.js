"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[2785,4938],{7851:function(n,r,t){t.d(r,{Z:function(){return f}});var e,i,o=t(1413),a=t(5987),c=(t(7313),t(168)),p=t(3115),s=t(1237),u=p.ZP.div(e||(e=(0,c.Z)(["\n  font-size: 12px;\n  margin: ",";\n"])),(function(n){return n.margin})),d=p.ZP.input(i||(i=(0,c.Z)(["\n  width: 100%;\n  padding: 10px 20px;\n  border-radius: 20px;\n  border: 1px solid ",";\n  &:focus {\n    outline: none;\n  }\n"])),s.Z.secondary),l=t(6417),x=["margin"],h=function(n){var r=n.margin,t=(0,a.Z)(n,x);return(0,l.jsx)(u,{margin:r,children:(0,l.jsx)(d,(0,o.Z)({},t))})};h.defaultProps={margin:"10px 0 20px",placeholder:"Nh\u1eadp d\u1eef li\u1ec7u \u0111\u1ec3 t\xecm ki\u1ebfm..."};var f=h},2785:function(n,r,t){t.r(r),t.d(r,{default:function(){return ln}});var e,i,o,a,c,p,s,u,d,l,x,h,f,g,m,v,Z,b,y,j,P=t(1413),w=t(4165),C=t(5861),E=t(885),k=t(7313),R=t(3222),S=t(790),z=t(2668),I=t(5414),T=t(6618),_=t(4641),A=t(6173),D=t(2206),B=t(7851),N=t(6069),O=t(6881),M=t(168),W=t(3115),U=t(1237),L=W.ZP.div(e||(e=(0,M.Z)(["\n  font-size: 12px;\n  padding: 40px 5px 120px;\n"]))),Q=(W.ZP.div(i||(i=(0,M.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),W.ZP.div(o||(o=(0,M.Z)(["\n  margin: 0 5px;\n  text-align: right;\n"])))),H=(W.ZP.div(a||(a=(0,M.Z)(["\n  display: flex;\n  margin: 0 0 10px;\n  justify-content: center;\n"]))),W.ZP.div(c||(c=(0,M.Z)(["\n  padding: 5px 10px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),W.ZP.div(p||(p=(0,M.Z)(["\n  margin: 20px 0;\n  position: relative;\n  border-radius: 4px;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"])))),q=W.ZP.div(s||(s=(0,M.Z)(["\n  width: 50px;\n  height: 40px;\n  display: flex;\n  margin: 0 7px 0 0;\n  align-items: center;\n  & > img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"]))),G=W.ZP.div(u||(u=(0,M.Z)(["\n  cursor: pointer;\n"]))),V=(W.ZP.div(d||(d=(0,M.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgb(0 0 0 / 12%);\n"]))),W.ZP.p(l||(l=(0,M.Z)(["\n  width: 90%;\n  font-weight: 700;\n"])))),X=W.ZP.div(x||(x=(0,M.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),J=(W.ZP.div(h||(h=(0,M.Z)(["\n  text-align: center;\n  width: ","%;\n"])),100/3),W.ZP.p(f||(f=(0,M.Z)(["\n  margin: 0 0 5px;\n"]))),W.ZP.span(g||(g=(0,M.Z)(["\n  color: #fff;\n  padding: 3px 5px;\n  font-size: 12px;\n  border-radius: 5px;\n  background-color: ",";\n"])),(function(n){return n.backgroundColor})),W.ZP.div(m||(m=(0,M.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),W.ZP.p(v||(v=(0,M.Z)(["\n  width: 75px;\n  font-size: 13px;\n  font-weight: 700;\n  text-align: right;\n  border-radius: 5px;\n  color: ",";\n"])),U.Z.primary)),K=W.ZP.div(Z||(Z=(0,M.Z)(["\n  top: 0;\n  right: 5px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),F=W.ZP.div(b||(b=(0,M.Z)(["\n  top: 20px;\n  z-index: 7;\n  right: 10px;\n  cursor: pointer;\n  padding: 5px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),Y=W.ZP.p(y||(y=(0,M.Z)(["\n  padding: 5px;\n  font-size: 12px;\n  &:hover {\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  }\n  &:nth-child(3): {\n    color: red;\n  }\n"]))),$=(W.ZP.p(j||(j=(0,M.Z)(["\n  font-size: 25px;\n  cursor: pointer;\n"]))),t(2153)),nn=t(7123),rn=t(3070),tn=t(7119),en=t(3454),on=t(6417),an=(0,k.lazy)((function(){return t.e(6780).then(t.bind(t,6780))})),cn=(0,k.lazy)((function(){return t.e(3788).then(t.bind(t,3788))})),pn=(0,k.lazy)((function(){return Promise.all([t.e(7155),t.e(9724)]).then(t.bind(t,9724))})),sn=(0,k.lazy)((function(){return t.e(2296).then(t.bind(t,653))})),un=(0,k.lazy)((function(){return Promise.all([t.e(7155),t.e(2183)]).then(t.bind(t,2183))})),dn=function(n){var r=n.productItem,t=n.tabCode,e=r.node||{},i=e||{},o=(i.orderNumber,i.productCode),a=i.productName,c=i.quantity,p=i.netUnitValue,s=i.unitString,u=i.importedDate,d=i.expirationDate,l=i.productInfo||{},x=l._id,h=l.price,f=l.imgUri,g=((0,R.v9)((function(n){return n.authReducer})).viewerQuery||{}).permissions.includes(tn.gz.CAN_VIEW_PRODUCT_EXPIRATION_DATE),m=(0,S.D)(en.EJ,{refetchQueries:[{query:nn.BQ},"GET_IMPORTED_PRODUCTS"]}),v=((0,E.Z)(m,1)[0],(0,S.D)(en.u7,{refetchQueries:[{query:nn.BQ},"GET_IMPORTED_PRODUCTS"]})),Z=(0,E.Z)(v,1)[0],b=g?" - HSD: ".concat((0,N.dh)(d)):"",y="inventory"===t?"".concat(h,"\u0111/").concat(p).concat(s):"".concat(p).concat(s).concat(b),j=(0,R.I0)(),z=(0,k.useRef)(null),_=(0,k.useState)(!1),D=(0,E.Z)(_,2),B=D[0],M=D[1],W=B?"block":"none",U=function(){var n=(0,C.Z)((0,w.Z)().mark((function n(){var r;return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={productId:x},n.next=3,Z({variables:{where:r}});case 3:M(!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),L=(0,on.jsxs)(F,{display:W,ref:z,children:[(0,on.jsx)(Y,{onClick:function(){var n={title:"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m",children:(0,on.jsx)(k.Suspense,{fallback:(0,on.jsx)(A.default,{}),children:(0,on.jsx)(un,{productItem:e})})};j((0,$.dn)(n))},children:"\u270e S\u1eeda"}),(0,on.jsx)(Y,{onClick:U,children:"\ud83d\uddd1 Xo\xe1"})]});return(0,k.useEffect)((function(){var n=function(n){z.current&&!z.current.contains(n.target)&&M(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[z]),(0,on.jsxs)(H,{children:[(0,on.jsx)(K,{onClick:function(){return M(!B)},children:(0,on.jsx)(T.Z,{})}),L,(0,on.jsx)(G,{onClick:function(){var n=(0,P.Z)((0,P.Z)({},e),{},{imgUri:f}),r={title:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m",children:(0,on.jsx)(k.Suspense,{fallback:(0,on.jsx)(A.default,{}),children:(0,on.jsx)(an,{productItem:n})})};j((0,$.dn)(r))},children:(0,on.jsxs)(X,{children:[(0,on.jsx)(q,{children:(0,on.jsx)("img",{src:f,alt:"product-img"})}),(0,on.jsxs)("div",{style:{width:"100%"},children:[(0,on.jsxs)(X,{children:[(0,on.jsxs)(V,{children:[o," - ",(0,O.Z)(a)]}),(0,on.jsx)(J,{children:(c||0).toLocaleString()})]}),(0,on.jsxs)(X,{children:[(0,on.jsx)(I.Z,{fontSize:12,fontStyle:"italic",children:y}),(0,on.jsx)(I.Z,{fontSize:12,fontWeight:700,children:(0,N.dh)(u)})]})]})]})})]})},ln=function(n){var r=n.tabCode,t=(0,k.useState)(""),e=(0,E.Z)(t,2),i=e[0],o=e[1],a=(0,z.a)(nn.BQ,{variables:{filter:{text:i}},fetchPolicy:"cache-and-network"}),c=a.data,p=a.fetchMore,s=c&&c.importedProducts.edges||[],u=c&&c.importedProducts.pageInfo||{},d=u.hasNextPage,l=(0,R.I0)(),x=((0,R.v9)((function(n){return n.authReducer})).viewerQuery||{}).permissions,h=void 0===x?[]:x,f=tn.gz.CRUD_PRODUCT,g=tn.gz.IMPORT_RETURN_PRODUCT,m=tn.gz.CAN_EXCUTE_WAREHOUSE_BALANCE,v=tn.gz.CAN_VIEW_WAREHOUSE_BALANCE_DIARIES,Z=h.includes(m),b=h.includes(v),y=h.includes(f),j=h.includes(g);return(0,k.useEffect)((function(){var n=function(n){var r=document.getElementById(rn.pD.WAREHOUSE.IMPORTED);(r&&r.getBoundingClientRect().bottom)<=window.innerHeight&&d&&p({variables:{cursor:u.endCursor},updateQuery:function(n,r){var t=r.fetchMoreResult;return(0,D.d0)("importedProducts",t,n)}})};return window.addEventListener("scroll",n),function(){return window.removeEventListener("scroll",n)}}),[d]),(0,on.jsxs)(L,{id:rn.pD.WAREHOUSE.IMPORTED,children:[(0,on.jsxs)(Q,{children:[j&&(0,on.jsx)(_.Z,{label:"+ Nh\u1eadp l\u1ea1i h\xe0ng",style:{margin:"0 10px 10px 0"},onClick:function(){var n={title:"Nh\u1eadp l\u1ea1i h\xe0ng",children:(0,on.jsx)(k.Suspense,{fallback:(0,on.jsx)(A.default,{}),children:(0,on.jsx)(cn,{})})};l((0,$.dn)(n))}}),y&&(0,on.jsx)(_.Z,{label:"+ S\u1ea3n ph\u1ea9m m\u1edbi",onClick:function(){var n={title:"Th\xeam s\u1ea3n ph\u1ea9m m\u1edbi",children:(0,on.jsx)(k.Suspense,{fallback:(0,on.jsx)(A.default,{}),children:(0,on.jsx)(pn,{})})};l((0,$.dn)(n))}}),Z&&!b&&(0,on.jsx)(_.Z,{label:"+ Ki\u1ec3m kho",style:{margin:"0 0 0 10px"},onClick:function(){var n={title:"Ki\u1ec3m kho",children:(0,on.jsx)(k.Suspense,{fallback:(0,on.jsx)(A.default,{}),children:(0,on.jsx)(sn,{})})};l((0,$.dn)(n))}})]}),(0,on.jsx)(B.Z,{onChange:function(n){return o(n.target.value)},placeholder:"Nh\u1eadp t\xean/m\xe3 \u0111\u1ec3 t\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m"}),s.map((function(n,t){return(0,on.jsx)(dn,{itemIndex:t,tabCode:r,productItem:n},t)}))]})}},6881:function(n,r,t){var e=t(2101);r.Z=function(n){if(Array.isArray(n)){var r,t=n||[],i=e.t.getState().commonReducer,o=i&&(null===(r=i.activeLanguage)||void 0===r?void 0:r.locale)||"vi";return(t.find((function(n){return n&&n.locale===o}))||{}).showText||""}return""}},6618:function(n,r,t){var e=t(4836);r.Z=void 0;var i=e(t(5045)),o=t(6417),a=(0,i.default)((0,o.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");r.Z=a},5414:function(n,r,t){t.d(r,{Z:function(){return w}});var e=t(3366),i=t(7462),o=t(7313),a=t(3061),c=t(2982),p=t(3019),s=t(3103),u=["sx"];function d(n){var r,t=n.sx,o=function(n){var r={systemProps:{},otherProps:{}};return Object.keys(n).forEach((function(t){s.Gc[t]?r.systemProps[t]=n[t]:r.otherProps[t]=n[t]})),r}((0,e.Z)(n,u)),a=o.systemProps,d=o.otherProps;return r=Array.isArray(t)?[a].concat((0,c.Z)(t)):"function"===typeof t?function(){var n=t.apply(void 0,arguments);return(0,p.P)(n)?(0,i.Z)({},a,n):a}:(0,i.Z)({},a,t),(0,i.Z)({},d,{sx:r})}var l=t(1921),x=t(6749),h=t(3729),f=t(8170),g=t(7430),m=t(2298);function v(n){return(0,m.Z)("MuiTypography",n)}(0,g.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Z=t(6417),b=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],y=(0,x.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(n,r){var t=n.ownerState;return[r.root,t.variant&&r[t.variant],"inherit"!==t.align&&r["align".concat((0,f.Z)(t.align))],t.noWrap&&r.noWrap,t.gutterBottom&&r.gutterBottom,t.paragraph&&r.paragraph]}})((function(n){var r=n.theme,t=n.ownerState;return(0,i.Z)({margin:0},t.variant&&r.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})})),j={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},P={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},w=o.forwardRef((function(n,r){var t=(0,h.Z)({props:n,name:"MuiTypography"}),o=function(n){return P[n]||n}(t.color),c=d((0,i.Z)({},t,{color:o})),p=c.align,s=void 0===p?"inherit":p,u=c.className,x=c.component,g=c.gutterBottom,m=void 0!==g&&g,w=c.noWrap,C=void 0!==w&&w,E=c.paragraph,k=void 0!==E&&E,R=c.variant,S=void 0===R?"body1":R,z=c.variantMapping,I=void 0===z?j:z,T=(0,e.Z)(c,b),_=(0,i.Z)({},c,{align:s,color:o,className:u,component:x,gutterBottom:m,noWrap:C,paragraph:k,variant:S,variantMapping:I}),A=x||(k?"p":I[S]||j[S])||"span",D=function(n){var r=n.align,t=n.gutterBottom,e=n.noWrap,i=n.paragraph,o=n.variant,a=n.classes,c={root:["root",o,"inherit"!==n.align&&"align".concat((0,f.Z)(r)),t&&"gutterBottom",e&&"noWrap",i&&"paragraph"]};return(0,l.Z)(c,v,a)}(_);return(0,Z.jsx)(y,(0,i.Z)({as:A,ref:r,ownerState:_,className:(0,a.Z)(D.root,u)},T))}))}}]);