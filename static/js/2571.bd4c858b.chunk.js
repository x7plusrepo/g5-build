"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[2571],{4641:function(e,n,t){t.d(n,{Z:function(){return d}});var r,i=t(1413),s=(t(7313),t(168)),a=t(3115),c=t(1237),o=a.ZP.button(r||(r=(0,s.Z)(["\n  padding: 0;\n  border: none;\n  margin: 5px 0;\n  font-size: 12px;\n  cursor: pointer;\n  color: ",";\n  background-color: transparent;\n"])),c.Z.primary),l=t(6417),u=function(e){var n=e.label;return(0,l.jsx)(o,(0,i.Z)((0,i.Z)({},e),{},{children:n}))};u.defaultProps={onClick:function(){}};var d=u},9079:function(e,n,t){t.r(n),t.d(n,{default:function(){return te}});var r,i,s=t(6459),a=t(7313),c=t(3222),o=t(168),l=t(3115),u=t(1237),d=l.ZP.div(r||(r=(0,o.Z)(["\n  font-size: 12px;\n"]))),h=l.ZP.div(i||(i=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: ","px;\n  height: ","px;\n  background-color: ",";\n  border-radius: ","px;\n  & > p {\n    font-weight: 600;\n    color: ",";\n    font-size: ","px;\n  }\n"])),(function(e){return e.circleSize}),(function(e){return e.circleSize}),u.Z.lightOrange,(function(e){return e.circleSize}),u.Z.lightWhite,(function(e){return e.circleSize-15})),f=t(6417),p=function(e){e.customStyle;var n=e.circleRadius,t=(e.isAnonymously,e.fullName),r=e.avatarUri,i=(e.borderColor,(0,c.v9)((function(e){return e.authReducer})).viewerQuery||{}),s=i.fullName,a=i.avatarUrl,o=r||a,l=function(e){if("string"===typeof e){var n,t,r=e?e.split(" "):[],i=r.length-1;return(null===(n=r[0])||void 0===n?void 0:n.charAt(0).toUpperCase())+(i?null===(t=r[i])||void 0===t?void 0:t.charAt(0).toUpperCase():"")}return""}(t||s),u=o?(0,f.jsx)("img",{src:o,alt:"user-avatar"}):(0,f.jsx)(h,{circleSize:n,children:(0,f.jsx)("p",{children:l})});return(0,f.jsx)(d,{children:u})};p.defaultProps={circleRadius:25};var x,b,g,m,j,v,Z,_,S,k,y,C,w,P,T,A=p,E=t(5222),N=(l.ZP.div(x||(x=(0,o.Z)(["\n  padding: 10px;\n  font-size: 12px;\n"]))),l.ZP.div(b||(b=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n"])))),z=l.ZP.p(g||(g=(0,o.Z)(["\n  width: ",";\n  margin: ",";\n"])),(function(e){return e.width}),(function(e){return e.margin})),R=l.ZP.p(m||(m=(0,o.Z)(["\n  font-weight: 600;\n  margin: ",";\n"])),(function(e){return e.margin})),I=l.ZP.p(j||(j=(0,o.Z)(["\n  font-style: italic;\n  width: ",";\n  margin: ",";\n"])),(function(e){return e.width}),(function(e){return e.margin})),O=t(885),D=t(1413),M=t(4021),U=l.ZP.div(v||(v=(0,o.Z)(["\n  font-size: 12px;\n"]))),F=l.ZP.div(Z||(Z=(0,o.Z)(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n  justify-content: space-between;\n"]))),L=l.ZP.img(_||(_=(0,o.Z)(["\n  width: 49%;\n  margin: 5px 0;\n  display: block;\n  cursor: pointer;\n  object-fit: cover;\n  height: ",";\n"])),(function(e){return e.imageHeight})),B=l.ZP.div(S||(S=(0,o.Z)(["\n  right: 0;\n  top: 5px;\n  width: 49%;\n  display: flex;\n  cursor: pointer;\n  position: absolute;\n  align-items: center;\n  justify-content: center;\n  height: calc(100% - 10px);\n  background-color: ",";\n"])),u.Z.rgbaBlack),V=l.ZP.span(k||(k=(0,o.Z)(["\n  font-size: 20px;\n  margin: -3px 0 0 0;\n  color: ",";\n"])),u.Z.white),W=l.ZP.span(y||(y=(0,o.Z)(["\n  font-size: 24px;\n  color: ",";\n"])),u.Z.white),H=l.ZP.div(C||(C=(0,o.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 15;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  display: ",";\n  background-color: ",";\n"])),(function(e){return e.isDisplay}),u.Z.rgbaBlack),J=l.ZP.div(w||(w=(0,o.Z)(["\nwidth: 100%;\nheight: 50%;\n"]))),K=l.ZP.div(P||(P=(0,o.Z)(["\n  width: 100%;\n  height: 10%;\n  @media (max-width: 768px) {\n    height: 28%;\n  }\n"]))),G=l.ZP.img(T||(T=(0,o.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n"]))),Q=function(e){var n=e.className,t=e.style,r=e.onClick;return(0,f.jsx)("div",{onClick:r,className:n,style:(0,D.Z)((0,D.Z)({},t),{},{right:10})})},q=function(e){var n=e.className,t=e.style,r=e.onClick;return(0,f.jsx)("div",{onClick:r,className:n,style:(0,D.Z)((0,D.Z)({},t),{},{left:10,zIndex:20})})},X=function(e){var n=e.data,t=e.isDisplaySlider,r=e.setIsDisplaySlider,i=t?"block":"none",s={customPaging:function(e){return(0,f.jsx)("img",{src:n[e],alt:"slide-".concat(e)})},dots:!0,speed:500,infinite:!0,slidesToShow:1,slidesToScroll:1,nextArrow:(0,f.jsx)(Q,{}),prevArrow:(0,f.jsx)(q,{}),dotsClass:"slick-dots slick-thumb"},a=(0,f.jsx)(K,{onClick:function(){return r(!1)}});return(0,f.jsxs)(H,{isDisplay:i,children:[a,(0,f.jsx)(J,{children:(0,f.jsx)(M.Z,(0,D.Z)((0,D.Z)({},s),{},{children:n.map((function(e,n){return(0,f.jsx)(G,{src:e},n)}))}))}),a]})},Y=function(e){var n=e.data,t=e.plusNumber,r=e.setIsDisplaySlider,i=.49*window.screen.width*(9/16),s=t>0;return(0,f.jsxs)(F,{children:[n.map((function(e,n){return(0,f.jsx)(L,{src:e,imageHeight:i,onClick:function(){return r(!0)}},n)})),s&&(0,f.jsxs)(B,{onClick:function(){return r(!0)},children:[(0,f.jsx)(V,{children:"+"}),(0,f.jsx)(W,{children:t})]})]})},$=function(e){var n=e.mediaData,t=e.maxShowImages,r=n.length-t,i=n.slice(0,t),s=(0,a.useState)(!1),c=(0,O.Z)(s,2),o=c[0],l=c[1];return(0,f.jsxs)(U,{children:[(0,f.jsx)(Y,{data:i,plusNumber:r,maxShowImages:t,setIsDisplaySlider:l}),(0,f.jsx)(X,{data:n,isDisplaySlider:o,setIsDisplaySlider:l})]})};$.defaultProps={mediaData:["https://static8.depositphotos.com/1000701/856/i/450/depositphotos_8567449-stock-photo-golden-field.jpg","https://static8.depositphotos.com/1000701/856/i/450/depositphotos_8567449-stock-photo-golden-field.jpg","https://static8.depositphotos.com/1000701/856/i/450/depositphotos_8567449-stock-photo-golden-field.jpg","https://static8.depositphotos.com/1000701/856/i/450/depositphotos_8567449-stock-photo-golden-field.jpg","https://static8.depositphotos.com/1000701/856/i/450/depositphotos_8567449-stock-photo-golden-field.jpg"],maxShowImages:2};var ee=$,ne=function(e){var n=e.conversationItem;return(0,s.Z)(n||{}),(0,f.jsxs)(E.Z,{children:[(0,f.jsxs)(N,{children:[(0,f.jsx)(A,{}),(0,f.jsx)(R,{margin:"0 5px",children:"Nguy\u1ec5n V\u0103n A"}),(0,f.jsx)("p",{children:"l\xfac"}),(0,f.jsx)(I,{children:"10/10/2023 - 05:00"})]}),(0,f.jsxs)(N,{children:[(0,f.jsx)(I,{width:"25px",children:"b\u1edfi"}),":",(0,f.jsx)(z,{margin:"0 5px",children:" Ph\u1ea1m V\u0103n B\xe1ch"})]}),(0,f.jsxs)(N,{children:[(0,f.jsx)(I,{width:"25px",children:"t\u1ea1i:"}),":",(0,f.jsx)(z,{margin:"0 5px",children:"Gia L\xe2m - H\xe0 N\u1ed9i"})]}),(0,f.jsx)("p",{children:"N\u1ed9i dung (n\u1ebfu c\xf3)"}),(0,f.jsx)(a.Suspense,{fallback:null,children:(0,f.jsx)(ee,{})})]})};ne.defaultProps={};var te=ne},2571:function(e,n,t){t.r(n),t.d(n,{default:function(){return Qe}});var r,i,s,a,c,o,l,u,d,h,f,p,x,b,g,m=t(4165),j=t(1413),v=t(5861),Z=t(885),_=t(7313),S=t(3222),k=t(790),y=t(2668),C=t(4689),w=t(372),P=t(6173),T=t(6069),A=t(3454),E=t(7123),N=t(3163),z=t(2153),R=t(4695),I=t(3070),O=t(168),D=t(3115),M=t(1237),U=D.ZP.div(r||(r=(0,O.Z)(["\n  width: 100%;\n  font-size: 12px;\n  justify-content: space-between;\n"]))),F=D.ZP.div(i||(i=(0,O.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin: "," 0;\n"])),(function(e){return e.marginTopBottom})),L=D.ZP.div(s||(s=(0,O.Z)(["\n  width: 50%;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n"])),M.Z.primary),B=D.ZP.div(a||(a=(0,O.Z)(["\n  padding: 4px;\n  display: flex;\n  margin: 5px 7px;\n  align-items: center;\n  border-radius: 20px;\n  justify-content: center;\n  background-color: ",";\n"])),M.Z.white),V=t(7119),W=t(5222),H=D.ZP.div(c||(c=(0,O.Z)(["\n  font-size: 12px;\n  padding: 10px 0 120px;\n"]))),J=D.ZP.div(o||(o=(0,O.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),K=D.ZP.div(l||(l=(0,O.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: ",";\n"])),(function(e){return e.margin})),G=D.ZP.p(u||(u=(0,O.Z)(["\n  font-weight: 600;\n  color: ",";\n"])),M.Z.lightGray),Q=D.ZP.p(d||(d=(0,O.Z)(["\n  width: ",";\n  margin: ",";\n"])),(function(e){return e.width}),(function(e){return e.margin})),q=D.ZP.p(h||(h=(0,O.Z)(["\n  font-weight: 600;\n"]))),X=D.ZP.p(f||(f=(0,O.Z)(["\n  font-style: italic;\n  color: ",";\n"])),M.Z.lightGray),Y=D.ZP.div(p||(p=(0,O.Z)(["\n  display: flex;\n  width: fit-content;\n  margin: 0 auto 30px;\n  justify-content: center;\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n"]))),$=D.ZP.div(x||(x=(0,O.Z)(["\n  cursor: pointer;\n  text-align: center;\n  padding: 5px 10px 4px;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(e){return e.activeColor.textColor}),(function(e){return e.borderLeftColor}),(function(e){return e.activeColor.backgroundColor})),ee=D.ZP.div(b||(b=(0,O.Z)(["\n  margin: 0 5px;\n"]))),ne=(D.ZP.div(g||(g=(0,O.Z)([""]))),t(9079)),te=t(1359),re=t(4641),ie=t(7062),se=t(6417),ae=(0,_.lazy)((function(){return t.e(6047).then(t.bind(t,6047))})),ce=function(){var e=(0,S.I0)();return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)(K,{margin:"0 5px",children:[(0,se.jsx)(G,{children:"TRAO \u0110\u1ed4I"}),(0,se.jsx)(re.Z,{label:"+ Th\xeam m\u1edbi",onClick:function(){var n={title:"Th\xeam trao \u0111\u1ed5i m\u1edbi",children:(0,se.jsx)(ie.Z,{})};e((0,z.Cg)(n))}})]}),(0,se.jsxs)(W.Z,{borderRadius:"0",children:[(0,se.jsxs)(J,{children:[(0,se.jsx)(Q,{width:"80px",children:"Nh\xe2n vi\xean"}),":",(0,se.jsx)(te.Z,{searchPlaceholder:"T\xecm nh\xe2n vi\xean"})]}),(0,se.jsxs)(J,{children:[(0,se.jsx)(Q,{width:"63px",children:"Th\u1eddi gian"}),":"]}),(0,se.jsxs)(J,{children:[(0,se.jsx)(Q,{width:"80px",children:"v\u1edbi"}),":",(0,se.jsx)(te.Z,{searchPlaceholder:"Kh\xe1ch h\xe0ng"})]}),(0,se.jsx)("p",{children:"T\u1ed5ng c\xf3: 30 cu\u1ed9c trao \u0111\u1ed5i - Th\xe1ng n\xe0y: 30 cu\u1ed9c"})]}),(0,se.jsx)(ee,{children:(0,se.jsx)(_.Suspense,{fallback:null,children:[{},{},{},{},{}].map((function(e,n){return(0,se.jsx)(ne.default,{conversationItem:e},n)}))})})]})},oe=function(e){var n=e.leadItem,t=(0,S.I0)(),r=n||{};r.fullName,r.saleStaffInfo;return(0,se.jsxs)(W.Z,{customCursor:"pointer",onClick:function(){var e={title:"Nh\u1eadt k\xfd trao \u0111\u1ed5i",children:(0,se.jsx)(_.Suspense,{children:(0,se.jsx)(ae,{leadItem:n})})};t((0,z.FV)(e))},children:[(0,se.jsx)(q,{children:"T\xean kh\xe1ch h\xe0ng"}),(0,se.jsxs)(J,{children:[(0,se.jsx)("p",{children:"Gia L\xe2m - H\xe0 N\u1ed9i"}),(0,se.jsx)(X,{children:"Ph\u1ee5 tr\xe1ch: Nguy\u1ec5n V\u0103n B"})]})]})},le=function(){var e=(0,S.I0)();return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)(K,{margin:"0 5px",children:[(0,se.jsx)(G,{children:"DANH S\xc1CH"}),(0,se.jsx)(re.Z,{label:"+ Th\xeam m\u1edbi",onClick:function(){e((0,z.FV)({title:"Th\xeam lead m\u1edbi",children:"Th\xeam lead m\u1edbi"}))}})]}),(0,se.jsx)(Q,{margin:"0 5px",children:"S\u1ed1 l\u01b0\u1ee3ng m\u1edbi trong th\xe1ng: 5 ng\u01b0\u1eddi"}),(0,se.jsx)(ee,{children:[1,2,3,4].map((function(e,n){return(0,se.jsx)(oe,{leadItem:e},n)}))})]})},ue=function(e){var n=[{code:"leads_list",label:"Danh s\xe1ch"},{code:"conversations",label:"Trao \u0111\u1ed5i"}],t=(0,_.useState)(n[0]),r=(0,Z.Z)(t,2),i=r[0],s=r[1],a=function(e){return e.code===i.code?{backgroundColor:M.Z.primary,textColor:M.Z.white}:{backgroundColor:M.Z.white,textColor:""}},c=function(){switch(i.code){case n[0].code:return(0,se.jsx)(le,{});case n[1].code:return(0,se.jsx)(ce,{});default:return null}}();return(0,se.jsxs)(H,{children:[(0,se.jsx)(Y,{children:n.map((function(e,n){return(0,se.jsx)($,{activeColor:a(e),onClick:function(){return s(e)},borderLeftColor:n>0?M.Z.primary:"transparent",children:e.label},n)}))}),c]})};ue.defaultProps={};var de=ue,he=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(7155),t.e(2372)]).then(t.bind(t,6066))})),fe=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(362)]).then(t.bind(t,487))})),pe=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(9053)]).then(t.bind(t,5236))})),xe=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(3788),t.e(4161)]).then(t.bind(t,3788))})),be=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(677),t.e(1625)]).then(t.bind(t,1625))})),ge=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(677),t.e(5547)]).then(t.bind(t,5547))})),me=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(7155),t.e(145)]).then(t.bind(t,9724))})),je=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(653)]).then(t.bind(t,653))})),ve=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(2655)]).then(t.bind(t,2655))})),Ze=(0,_.lazy)((function(){return Promise.all([t.e(1791),t.e(5789)]).then(t.bind(t,5789))})),_e=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(9808)]).then(t.bind(t,9808))})),Se=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(6663)]).then(t.bind(t,8206))})),ke=(0,_.lazy)((function(){return t.e(4816).then(t.bind(t,4816))})),ye=(0,_.lazy)((function(){return t.e(9860).then(t.bind(t,9860))})),Ce=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(2986)]).then(t.bind(t,2986))})),we=(0,_.lazy)((function(){return Promise.all([t.e(5627),t.e(3222),t.e(468),t.e(5632),t.e(4217)]).then(t.bind(t,7715))})),Pe=(0,_.lazy)((function(){return t.e(3938).then(t.bind(t,3938))})),Te="create_notification",Ae="staff_list",Ee="create_internal_staff",Ne="create_customer",ze="create_purchase_order",Re="create_special_order",Ie="return_products",Oe="import_product",De="destroy_damaged_product",Me="create_product",Ue="create_receipt",Fe="view_debt",Le="create_discount_promotion",Be="change_password",Ve="change_staff_work_area",We="inventory_balance",He="customer_list",Je="leads_list",Ke="logout",Ge=function(e){var n=e.isCustomer,t=e.toolItems,r=e.mainBottomTabs,i=e.setActiveMainBottomTab,s=e.setIsOpenedBottomMenu,a=t.filter((function(e){return!!e})).length?"10px":0,c=(0,S.I0)(),o=(0,k.D)(A.Nv),l=(0,Z.Z)(o,1)[0],u=(0,k.D)(A.eQ),d=(0,Z.Z)(u,1)[0],h=function(e){var t=n?(0,se.jsx)(Pe,{}):(0,se.jsx)(we,{orderProducts:[]});switch(e){case Te:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(he,{})});case Ae:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(Ce,{})});case Ee:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(pe,{})});case Ne:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(fe,{})});case ze:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:t});case Re:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(we,{isSpecialOrder:!0,orderProducts:[]})});case Ie:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(xe,{})});case Oe:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(be,{})});case De:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(ge,{})});case Me:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(me,{})});case We:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(je,{})});case Ue:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(ve,{})});case Fe:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(Ze,{})});case Le:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(_e,{})});case Be:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(Se,{})});case Ve:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(ke,{})});case He:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(ye,{})});case Je:return(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:(0,se.jsx)(de,{})});default:return null}},f=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(n){var t,a,o,u,f,p,x,b;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.label,a=n.code,s(!1),o=a===Fe,u=a===We,!(a===Ke)){e.next=14;break}return e.next=8,l();case 8:localStorage.removeItem(I.B),f={viewerQuery:{},isAuthenticated:!1},c((0,R.CD)(f)),window.location.reload(),e.next=25;break;case 14:if(!o){e.next=19;break}p=r.findIndex((function(e){return"debts"===e.code})),i(r[p]),e.next=25;break;case 19:if(!u){e.next=23;break}return x=function(){d({variables:{data:{isStockChecking:!1}}})},e.next=23,d({variables:{data:{isStartStockChecking:!0}}});case 23:b=(0,j.Z)((0,j.Z)({title:t},!!x&&{customCloseAction:x}),{},{children:(0,se.jsx)(_.Suspense,{fallback:(0,se.jsx)(P.default,{}),children:h(a)})}),c((0,z.dn)(b));case 25:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,se.jsx)(F,{marginTopBottom:a,children:t.map((function(e,n){return e?(0,se.jsx)(L,{onClick:function(){return f(e)},children:(0,se.jsx)(B,{children:e&&e.label})},n):null}))})},Qe=function(e){var n=e.mainBottomTabs,t=e.setActiveMainBottomTab,r=e.setIsOpenedBottomMenu,i=V.gz.CRUD_PRODUCT,s=V.gz.CAN_CREATE_NORMAL_SPECIAL_ORDER_FOR_ANYONE,a=V.gz.CAN_CREATE_ORDER_FOR_OWN_CUSTOMERS,c=V.gz.CAN_CREATE_SPECIAL_ORDER_FOR_OWN_AREA,o=V.gz.IMPORT_RETURN_PRODUCT,l=V.gz.CAN_EXCUTE_WAREHOUSE_BALANCE,u=V.gz.DESTROY_PRODUCT,d=V.gz.CREATE_NOTIFICATION,h=V.gz.CAN_CREATE_CUSTOMER,f=V.gz.CAN_CREATE_STAFF,p=V.gz.CAN_CHANGE_STAFF_WORK_AREA,x=V.gz.CAN_CREATE_DISCOUNT_PROMOTION,b=V.gz.CAN_VIEW_OWN_CUSTOMER_LIST,g=V.gz.CAN_VIEW_ALL_CUSTOMERS_LIST,P=V.gz.CAN_VIEW_ALL_STAFFS,z=V.gz.CAN_VIEW_OWN_STAFF_LIST,R=V.gz.CAN_VIEW_OWN_DEBTS,O=V.gz.CAN_VIEW_ALL_DEBTS,D=V.gz.CAN_CREATE_RECEIPT_FOR_ANY_CUSTOMER,M=V.gz.CAN_CREATE_RECEIPT_FOR_OWN_CUSTOMER,W=(0,S.v9)((function(e){return e.authReducer})).viewerQuery||{},H=W._id,J=W.roles,K=void 0===J?[]:J,G=W.permissions,Q=void 0===G?[]:G,q=W.customerStaffPermissions,X=void 0===q?[]:q,Y=W.subscribedNewsPush,$=W.subscribedSystemPush,ee=(0,y.a)(E.bV,{fetchPolicy:"cache-and-network"}),ne=ee.data,te=ee.subscribeToMore,re=(ne&&ne.global||{}).isStockChecking,ie=K.includes(I.If.CUSTOMER)||K.includes(I.If.STAFF_OF_CUSTOMER),ae=K.includes(I.If.SYSTEM),ce=X.length?X.includes(V.Fl.CREATE_AND_MANAGE_ORDERS):Q.some((function(e){return e===a||e===s})),oe=Q.some((function(e){return e===s||e===c})),le=Q.some((function(e){return e===M||e===D})),ue=Q.includes(o),de=Q.includes(o),he=Q.includes(i),fe=Q.includes(u),pe=Q.includes(l),xe=Q.includes(d),be=Q.some((function(e){return e===b||e===g})),ge=Q.includes(h),me=Q.some((function(e){return e===z||e===P})),je=Q.includes(f),ve=Q.includes(p),Ze=Q.includes(x),_e=Q.some((function(e){return e===R||e===O})),Se=[[ce?{code:ze,label:"+ \u0110\u1eb7t h\xe0ng"}:void 0,oe?{code:Re,label:"+ \u0110\u01a1n \u0111\u1eb7c bi\u1ec7t"}:void 0,le?{code:Ue,label:"+ Thu ti\u1ec1n"}:void 0],[ue?{code:Oe,label:"+ Nh\u1eadp h\xe0ng"}:void 0,de?{code:Ie,label:"+ Nh\u1eadp l\u1ea1i h\xe0ng"}:void 0,he?{code:Me,label:"+ S\u1ea3n ph\u1ea9m m\u1edbi"}:void 0,fe?{code:De,label:"+ Hu\u1ef7 h\xe0ng h\u1ecfng"}:void 0,pe&&!re?{code:We,label:"+ Ki\u1ec3m kho"}:void 0],[xe?{code:Te,label:"+ Th\xf4ng b\xe1o m\u1edbi"}:void 0],[be?{code:He,label:"Danh s\xe1ch kh\xe1ch h\xe0ng"}:void 0,ge?{code:Ne,label:"+ Th\xeam Kh\xe1ch h\xe0ng"}:void 0,me?{code:Ae,label:"Danh s\xe1ch nh\xe2n vi\xean"}:void 0,je?{code:Ee,label:"+ Th\xeam Nh\xe2n vi\xean"}:void 0,ve?{code:Ve,label:"Chuy\u1ec3n v\xf9ng"}:void 0,ve?{code:Je,label:"Danh s\xe1ch Leads"}:void 0],[Ze?{code:Le,label:"+ T\u1ea1o CKKM"}:void 0,_e?{code:Fe,label:"C\xf4ng n\u1ee3"}:void 0],[{code:Be,label:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"},{code:Ke,label:"\u0110\u0103ng xu\u1ea5t"}]],ke=(0,_.useState)(!1),ye=(0,Z.Z)(ke,2),Ce=ye[0],we=ye[1],Pe=(0,_.useState)(!1),Qe=(0,Z.Z)(Pe,2),qe=Qe[0],Xe=Qe[1],Ye=(0,_.useState)(!0),$e=(0,Z.Z)(Ye,2),en=$e[0],nn=$e[1],tn=(0,k.D)(A.$E),rn=(0,Z.Z)(tn,1)[0],sn=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(){var n,t,r,i;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:if("denied"!==(n=e.sent)){e.next=6;break}return console.error("The user explicitly denied the permission request."),e.abrupt("return");case 6:return"granted"===n&&console.info("The user accepted the permission request."),e.next=9,navigator.serviceWorker.getRegistration();case 9:return t=e.sent,e.next=12,t.pushManager.getSubscription();case 12:if(!(r=e.sent)||!Ce){e.next=16;break}return console.info("User is already subscribed."),e.abrupt("return");case 16:return e.next=18,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:(0,T.EJ)("BLw43wcbE_9PstDuQ2XoCKxLZuf4jO9QtV_UVrnMS2HV6XIgyPMU1hkkA86AF1NfEM6pEbIsUHaqGy1JXDeApV4")});case 18:return i=e.sent,e.next=21,rn({variables:{data:(0,j.Z)({subscribedNewsPush:!0},!r&&{subscribeJson:JSON.stringify(i)}),where:{accountId:H}}});case 21:e.sent.data&&we(!0);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),an=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(){var n,t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.getRegistration();case 2:return n=e.sent,e.next=5,n.pushManager.getSubscription();case 5:return t=e.sent,e.next=8,rn({variables:{data:(0,j.Z)({subscribedNewsPush:!1},!qe&&{unsubscribeJson:JSON.stringify(t)}),where:{accountId:H}}});case 8:if(!e.sent.data){e.next=16;break}if(we(!1),qe){e.next=16;break}return e.next=14,t.unsubscribe();case 14:e.sent&&console.info("Successfully unsubscribed from push notifications.");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cn=Ce?(0,se.jsxs)(B,{onClick:an,children:[(0,se.jsx)(C.Z,{fontSize:"small"}),"\u2002Hu\u1ef7 th\xf4ng b\xe1o tin t\u1ee9c"]}):(0,se.jsxs)(B,{onClick:sn,children:[(0,se.jsx)(w.Z,{fontSize:"small"}),"\u2002Th\xf4ng b\xe1o tin t\u1ee9c"]}),on=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(){var n,t,r,i;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:if("denied"!==(n=e.sent)){e.next=6;break}return console.error("The user explicitly denied the permission request."),e.abrupt("return");case 6:return"granted"===n&&console.info("The user accepted the permission request."),e.next=9,navigator.serviceWorker.getRegistration();case 9:return t=e.sent,e.next=12,t.pushManager.getSubscription();case 12:if(!(r=e.sent)||!qe){e.next=16;break}return console.info("User is already subscribed."),e.abrupt("return");case 16:return e.next=18,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:(0,T.EJ)("BLw43wcbE_9PstDuQ2XoCKxLZuf4jO9QtV_UVrnMS2HV6XIgyPMU1hkkA86AF1NfEM6pEbIsUHaqGy1JXDeApV4")});case 18:return i=e.sent,e.next=21,rn({variables:{data:(0,j.Z)({subscribedSystemPush:!0},!r&&{subscribeJson:JSON.stringify(i)}),where:{accountId:H}}});case 21:e.sent.data&&Xe(!0);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ln=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(){var n,t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.getRegistration();case 2:return n=e.sent,e.next=5,n.pushManager.getSubscription();case 5:return t=e.sent,e.next=8,rn({variables:{data:(0,j.Z)({subscribedSystemPush:!1},!Ce&&{unsubscribeJson:JSON.stringify(t)}),where:{accountId:H}}});case 8:if(!e.sent.data){e.next=16;break}if(Xe(!1),Ce){e.next=16;break}return e.next=14,t.unsubscribe();case 14:e.sent&&console.info("Successfully unsubscribed from push notifications.");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),un=qe?(0,se.jsxs)(B,{onClick:ln,children:[(0,se.jsx)(C.Z,{fontSize:"small"}),"\u2002Hu\u1ef7 t.b\xe1o h\u1ec7 th\u1ed1ng"]}):(0,se.jsxs)(B,{onClick:on,children:[(0,se.jsx)(w.Z,{fontSize:"small"}),"\u2002Th\xf4ng b\xe1o h\u1ec7 th\u1ed1ng"]});return(0,_.useEffect)((function(){var e=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(){var n,t,r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=navigator.userAgent||window.opera,t=n.toLowerCase(),!/iPad|iPhone|iPod/.test(n)||window.MSStream){e.next=5;break}return nn(!1),e.abrupt("return");case 5:if(-1===t.indexOf("safari")||-1!==t.indexOf("chrome")){e.next=8;break}return nn(!1),e.abrupt("return");case 8:return e.next=10,navigator.serviceWorker.getRegistration();case 10:return r=e.sent,e.next=13,r.pushManager.getSubscription();case 13:e.sent&&(Y&&we(!0),$&&Xe(!0));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,_.useEffect)((function(){var e=te({document:N.Po,updateQuery:function(e,n){var t=n.subscriptionData;if(t)return{global:t.data.updatedGlobalData}}});return function(){return e()}}),[te]),(0,se.jsxs)(U,{children:[en&&(0,se.jsxs)(F,{marginTopBottom:"5px",children:[!ae&&(0,se.jsx)(L,{children:cn}),!ae&&(0,se.jsx)(L,{children:un})]}),Se.map((function(e,i){return(0,se.jsx)(Ge,{itemIndex:i,toolItems:e,isCustomer:ie,mainBottomTabs:n,setActiveMainBottomTab:t,setIsOpenedBottomMenu:r},i)}))]})}}}]);