"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[7493],{7493:function(n,t,e){e.r(t),e.d(t,{default:function(){return hn}});var i,r,o,a,c,d,p,s,l,x,u,f,h,g,b,Z,v,m,w,y,k,j,C,P=e(4165),N=e(5861),z=e(1413),I=e(885),T=e(7313),S=e(2668),A=e(790),D=e(4319),E=e(3222),L=e(5414),M=e(9093),O=e(6173),R=e(6881),F=e(2206),H=e(6069),U=e(168),_=e(3115),Q=e(1237),B=(0,_.F4)(i||(i=(0,U.Z)(["\n  0% {\n    left: -20px;\n    opacity: 0;\n  }\n  50% {\n    left: 50%;\n    opacity: 0.3;\n  }\n  100% {\n    left: 100%;\n    opacity: 0;\n  }\n"]))),V=_.ZP.div(r||(r=(0,U.Z)(["\n  font-size: 12px;\n  min-height: 100vh;\n  padding: 150px 0 50px;\n  display: ",";\n"])),(function(n){return n.isDisplay?"block":"none"})),G=_.ZP.div(o||(o=(0,U.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 7;\n  width: 100%;\n  display: flex;\n  position: fixed;\n  margin: 0 0 10px 0;\n  align-items: center;\n  & h5 {\n    font-size: 13px;\n    font-weight: 700;\n  }\n  @media (min-width: 1200px) {\n    left: 25%;\n    width: 50%;\n    // background-color: #fff;\n    // box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  }\n"]))),W=(_.ZP.div(a||(a=(0,U.Z)(["\n  height: 70px;\n  margin: 0 70px 5px 50px;\n  @media (max-width: 991px) {\n    display: none;\n  }\n"]))),_.ZP.img(c||(c=(0,U.Z)(["\n  width: 180px;\n  height: 70px;\n  object-fit: contain;\n"]))),_.ZP.div(d||(d=(0,U.Z)(["\n  position: relative;\n"]))),_.ZP.div(p||(p=(0,U.Z)(["\n  left: 0;\n  width: 40px;\n  height: 100%;\n  z-index: 12;\n  position: absolute;\n  transform: skew(20deg);\n  animation: "," 1.5s linear infinite;\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 0) 0%,\n    rgba(255, 255, 255, 0) 1%,\n    rgba(255, 255, 255, 1) 100%\n  );\n  border-left: 1px solid #fff;\n"])),B)),q=(_.ZP.div(s||(s=(0,U.Z)(["\n  left: -11px;\n  padding: 0px;\n  color: #f8f8f8;\n  font-size: 12px;\n  font-weight: 700;\n  text-align: center;\n  position: relative;\n  width: calc(100% + 22px);\n  text-shadow: 0px 1px 2px #cc6666;\n  background-color: ",";\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.55);\n"])),Q.Z.primary),_.ZP.div(l||(l=(0,U.Z)(["\n  top: -5px;\n  z-index: 1;\n  left: -11px;\n  position: absolute;\n  border-style: solid;\n  border-width: 5px 10px 0 0;\n  border-color: transparent #9b1724 transparent transparent;\n"]))),_.ZP.div(x||(x=(0,U.Z)(["\n  top: -5px;\n  z-index: 1;\n  right: -11px;\n  position: absolute;\n  border-style: solid;\n  border-width: 0 10px 5px 0;\n  border-color: transparent transparent #9b1724 transparent;\n"]))),_.ZP.div(u||(u=(0,U.Z)(["\n  font-size: 13px;\n  background: #fff;\n  padding: 0 10px 7px;\n  width: 100%;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3);\n  line-height: 1.5em;\n  color: #292929;\n"])))),J=_.ZP.h3(f||(f=(0,U.Z)(["\n  color: #fff;\n  padding: 0 10px;\n  font-size: 14px;\n  line-height: 24px;\n  font-weight: 700;\n  position: relative;\n  margin: 0 -10px 5px -10px;\n  background: ",";\n  // text-shadow: 0px 1px 1px #cc6666;\n  // box-shadow: -1px 1px 2px rgba(0, 0, 0, 0.5);\n  // &:before,\n  // &:after {\n  //   position: absolute;\n  //   content: '';\n  //   display: block;\n  // }\n  // &:before {\n  //   width: 7px;\n  //   height: 130%;\n  //   padding: 0 0 5px;\n  //   top: 0;\n  //   left: -6px;\n  //   background: inherit;\n  //   border-radius: 5px 0 0 5px;\n  // }\n  // &:after {\n  //   width: 4px;\n  //   height: 4px;\n  //   background: rgba(0, 0, 0, 0.35);\n  //   bottom: -4px;\n  //   left: -3px;\n  //   border-radius: 5px 0 0 5px;\n  //   box-shadow: inset -1px 2px 2px rgba(0, 0, 0, 0.3);\n  // }\n"])),Q.Z.primary),K=_.ZP.div(h||(h=(0,U.Z)(["\n  display: flex;\n  align-items: center;\n"]))),X=_.ZP.img(g||(g=(0,U.Z)(["\n  object-fit: contain;\n  width: ",";\n  height: ",";\n  margin: 0 30px 0 0;\n  @media (max-width: 768px) {\n    margin: 0 10px 0 0;\n  }\n"])),(function(n){return n.width}),(function(n){return n.height})),Y=_.ZP.span(b||(b=(0,U.Z)(["\n  width: 120px;\n  font-size: 10px;\n  margin: 3px -3px 0 0;\n  text-align: right;\n  font-style: italic;\n  color: ",";\n"])),(function(n){return n.color})),$=_.ZP.div(Z||(Z=(0,U.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),nn=_.ZP.div(v||(v=(0,U.Z)(["\n  display: flex;\n  margin: 3px 0 0;\n  font-size: 11px;\n  align-items: baseline;\n  color: ",";\n  & p,\n  span {\n    margin: 5px 0 !important;\n    font-size: 11px !important;\n    line-height: 22px !important;\n    & p,\n    span {\n      background-color: transparent !important;\n    }\n  }\n"])),Q.Z.lightBlack),tn=_.ZP.div(m||(m=(0,U.Z)(["\n  display: flex;\n  width: fit-content;\n  margin: 0 auto 30px;\n  justify-content: center;\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n"]))),en=_.ZP.div(w||(w=(0,U.Z)(["\n  cursor: pointer;\n  text-align: center;\n  padding: 5px 10px 4px;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),rn=_.ZP.div(y||(y=(0,U.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  color: ",";\n  & p,\n  svg {\n    cursor: pointer;\n  }\n  & p {\n    margin: 0 5px 0 2px;\n  }\n"])),Q.Z.primary),on=(_.ZP.div(k||(k=(0,U.Z)(["\n  text-align: right;\n"]))),_.ZP.div(j||(j=(0,U.Z)(["\n  display: flex;\n  align-items: center;\n"]))),_.ZP.div(C||(C=(0,U.Z)(["\n  cursor: pointer;\n  margin: 20px 5px;\n  border-radius: 3px;\n  padding: 7px 10px 10px;\n  background-color: ",";\n  box-shadow: 0px 1px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 1px 0px rgb(0 0 0 / 12%);\n"])),(function(n){return n.backgroundColor}))),an=e(2153),cn=e(3163),dn=e(3454),pn=e(7123),sn=e(3070),ln=e(6417),xn=(0,T.lazy)((function(){return e.e(632).then(e.bind(e,632))})),un=function(n){var t,e=n.notificationItem,i=n.notifications,r=n.countUnreadNotifications,o=n.setCountUnreadNotifications,a=e&&e.node||{},c=a._id,d=a.title,p=a.content,s=a.isRead,l=a.createdAt,x=p&&(null===(t=p[0])||void 0===t?void 0:t.showText)||"",u=s?Q.Z.ferrariGoodTimeWhite:"#fff",f=s?Q.Z.lightBlack:Q.Z.secondary,h=function(){var n=(0,D.Z)(new Date,new Date(l));if(n<=60){if(n<=1)return"01 ph\xfat tr\u01b0\u1edbc";var t=n>9?n:"0".concat(n);return"".concat(t," ph\xfat tr\u01b0\u1edbc")}var e=Math.round(n/60);if(e<24)return"".concat(e," gi\u1edd tr\u01b0\u1edbc");var i=Math.round(e/24);return i<=3?"".concat(i," ng\xe0y tr\u01b0\u1edbc"):(0,H.dh)(l,!0)}(),g=(0,T.useRef)(null),b=(0,E.I0)();return(0,T.useEffect)((function(){if(g.current){g.current.innerHTML=x;var n=g.current.textContent,t=(0,H.zZ)(n,7)+"...";g.current.innerHTML=t}}),[i]),(0,ln.jsxs)(on,{onClick:function(){var n={title:"Chi ti\u1ebft th\xf4ng b\xe1o",children:(0,ln.jsx)(T.Suspense,{fallback:(0,ln.jsx)(O.default,{}),children:(0,ln.jsx)(xn,{notificationId:c})})};s||o(r&&r-1);b((0,an.dn)(n))},backgroundColor:u,children:[(0,ln.jsxs)($,{children:[(0,ln.jsx)(L.Z,{fontSize:12,fontWeight:700,children:(0,R.Z)(d)}),(0,ln.jsx)(Y,{color:f,children:h})]}),(0,ln.jsx)(nn,{ref:g,backgroundColor:u})]})},fn=function(n){var t=n.isDisplay,e=n.countUnreadNotifications,i=n.setCountUnreadNotifications,r={code:"all",label:"T\u1ea5t c\u1ea3"},o=[r,{code:"system",label:"H\u1ec7 th\u1ed1ng"},{code:"news",label:"Tin g\u1eedi"}],a=(0,E.v9)((function(n){return n.authReducer})).viewerQuery||{},c=a._id,d=a.fullName,p=(0,T.useState)(r),s=(0,I.Z)(p,2),l=s[0],x=s[1],u=(0,T.useState)(void 0),f=(0,I.Z)(u,2),h=f[0],g=(f[1],function(){var n=(h||{}).address||{},t=n.road,e=n.neighbourhood,i=n.city_district,r=n.city;if(r){var o=t.replace(/Ng\xf5/g,""),a=e.replace(/Ph\u01b0\u1eddng/g,""),c=i.replace(/Qu\u1eadn/g,""),d=r.replace(/Th\xe0nh ph\u1ed1/g,"");return"".concat(o," ").concat(a," - ").concat(c," - ").concat(d)}return"n/a"}()),b=h?{width:"100px",height:"80px"}:{width:"90px",height:"70px"},Z="all"!==l.code?l.code:void 0,v=(0,z.Z)({},Z&&{typeCode:Z}),m=(0,S.a)(pn.bV,{fetchPolicy:"cache-and-network",onCompleted:function(n){var t=n&&n.global||{};localStorage.setItem(sn.pP,JSON.stringify(t))}}),w=m.data,y=w&&w.global||{},k=y.companyLogo,j=y.companyName,C=(y.companySlogan,y.companyAddress),D=y.companyHotline,L=(0,S.a)(pn.VZ,{variables:v,fetchPolicy:"cache-and-network"}),O=L.data,R=L.loading,H=L.subscribeToMore,U=L.fetchMore,_=O&&O.notifications.edges||[],B=O&&O.notifications.pageInfo||{},Y=B.hasNextPage,$=(0,A.D)(dn.Sz,{refetchQueries:[{query:pn.VZ},"GET_NOTIFICATIONS"]}),nn=(0,I.Z)($,1)[0],on=function(n){return n.code===l.code?{backgroundColor:Q.Z.primary,textColor:Q.Z.white}:{backgroundColor:Q.Z.white,textColor:""}},an=function(){var n=(0,N.Z)((0,P.Z)().mark((function n(){return(0,P.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nn();case 2:n.sent.data&&i(0);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,T.useEffect)((function(){var n=function(n){var e=document.getElementById(sn.pD.NOTIFICATIONS);(e&&e.getBoundingClientRect().bottom)<=window.innerHeight&&Y&&!R&&t&&U({variables:{cursor:B.endCursor},updateQuery:function(n,t){var e=t.fetchMoreResult;return(0,F.d0)("notifications",e,n)}})};return window.addEventListener("scroll",n),function(){return window.removeEventListener("scroll",n)}}),[Y,t]),(0,T.useEffect)((function(){var n=function(n){var t=n||{},e=t.isForAllAccounts,i=t.beReceivedAccountIds;return!!e||(void 0===i?[]:i).includes(c)},t=H({document:cn.I4,updateQuery:function(t,e){var i=e.subscriptionData;return(0,F.FM)("notifications","addedNewNotification",i,t,n,!0)}});return function(){return t()}}),[H]),(0,T.useEffect)((function(){}),[t]),(0,ln.jsxs)(V,{isDisplay:t,id:sn.pD.NOTIFICATIONS,children:[(0,ln.jsx)(G,{children:(0,ln.jsxs)(q,{children:[(0,ln.jsxs)(J,{children:[(0,ln.jsx)(W,{}),j]}),(0,ln.jsxs)(K,{children:[(0,ln.jsx)(X,{src:k,alt:"company-logo",width:b.width,height:b.height}),(0,ln.jsxs)("div",{children:[(0,ln.jsxs)("p",{children:["Hotline: ",D]}),(0,ln.jsxs)("p",{children:["\u0110\u1ecba ch\u1ec9: ",C]}),(0,ln.jsxs)("p",{children:["T\xe0i kho\u1ea3n: ",d]}),h&&(0,ln.jsxs)("p",{style:{fontSize:11},children:["V\u1ecb tr\xed: ",g]})]})]})]})}),(0,ln.jsx)(tn,{children:o.map((function(n,t){return(0,ln.jsx)(en,{activeColor:on(n),onClick:function(){return x(n)},borderLeftColor:t>0?Q.Z.primary:"transparent",children:n.label},t)}))}),!!e&&(0,ln.jsxs)(rn,{children:[(0,ln.jsx)(M.Z,{fontSize:"small",onClick:an}),(0,ln.jsx)("p",{onClick:an,children:"\u0110\xe3 \u0111\u1ecdc t\u1ea5t c\u1ea3"})]}),_.map((function(n,t){return(0,ln.jsx)(un,{notifications:_,notificationItem:n,countUnreadNotifications:e,setCountUnreadNotifications:i},t)}))]})};fn.defaultProps={};var hn=fn},6881:function(n,t,e){var i=e(2101);t.Z=function(n){if(Array.isArray(n)){var t,e=n||[],r=i.t.getState().commonReducer,o=r&&(null===(t=r.activeLanguage)||void 0===t?void 0:t.locale)||"vi";return(e.find((function(n){return n&&n.locale===o}))||{}).showText||""}return""}}}]);