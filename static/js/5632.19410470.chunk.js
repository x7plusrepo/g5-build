"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[5632],{3867:function(n,e,t){t.d(e,{Z:function(){return cn}});var r,i,o,c,a,s,d,u,l,p,h,x,f,g,m,y,Z,v,j=t(885),O=t(7313),P=t(514),b=t(3532),E=t(790),C=t(3222),_=t(6069),I=(t(6173),t(6881)),k=t(1677),w=(t(7715),t(168)),S=t(3115),T=t(1237),R=(S.ZP.div(r||(r=(0,w.Z)(["\n  padding: 0;\n  font-size: 12px;\n"]))),S.ZP.div(i||(i=(0,w.Z)(["\n  margin: 0 0 15px;\n"])))),D=S.ZP.div(o||(o=(0,w.Z)(["\n  margin: 0 0 15px;\n"]))),N=S.ZP.div(c||(c=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),A=S.ZP.div(a||(a=(0,w.Z)(["\n  position: relative;\n  border-radius: 4px;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  border: 1px dashed ",";\n  margin: ",";\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"])),T.Z.orange,(function(n){return n.customerMargin})),Q=S.ZP.p(s||(s=(0,w.Z)(["\n  margin: 0 0 3px;\n  font-weight: 700;\n  color: ",";\n"])),T.Z.primary),M=S.ZP.span(d||(d=(0,w.Z)(["\n  font-weight: 500;\n  font-style: italic;\n  color: ",";\n"])),T.Z.black),F=S.ZP.span(u||(u=(0,w.Z)(["\n  font-style: italic;\n  color: ",";\n"])),T.Z.secondary),U=S.ZP.span(l||(l=(0,w.Z)(["\n  font-style: italic;\n  color: ",";\n"])),T.Z.green),B=S.ZP.span(p||(p=(0,w.Z)(["\n  font-style: italic;\n  color: ",";\n"])),T.Z.red),V=S.ZP.span(h||(h=(0,w.Z)(["\n  font-weight: 700;\n  font-style: italic;\n  color: ",";\n"])),T.Z.green),Y=S.ZP.span(x||(x=(0,w.Z)(["\n  width: 60px;\n  font-weight: 700;\n  display: inline-block;\n  @media print {\n    width: 80px;\n  }\n"]))),L=S.ZP.div(f||(f=(0,w.Z)([""]))),q=(S.ZP.div(g||(g=(0,w.Z)(["\n  display: flex;\n  margin: 10px 0 5px;\n  align-items: center;\n  justify-content: space-between;\n"]))),S.ZP.p(m||(m=(0,w.Z)(["\n  font-size: 12px;\n  font-weight: 700;\n  width: fit-content;\n  font-style: italic;\n  color: ",";\n"])),T.Z.primary)),H=(S.ZP.div(y||(y=(0,w.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),S.ZP.div(Z||(Z=(0,w.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),S.ZP.span(v||(v=(0,w.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),t(3070)),z=t(3454),K=t(7123),W=t(7119),G=t(6417),X=H.fH.MONEY_FIXED_VALUE,$=H.fH.MONEY_PERCENT_OF_ORDER_VALUE,J=H.fH.MONEY_PERCENT_OF_DIFFERENCE_ORDER_VALUE,nn=H.fH.MONEY_ORDER_QUANTITY,en=H.fH.MONEY_DIFFERENCE_ORDER_QUANTITY,tn=H.fH.MONEY_ORDER_WEIGHT,rn=H.fH.MONEY_DIFFERENCE_ORDER_WEIGHT,on=function(n){var e,t=n.customerMargin,r=n.discountPromotionItem,i=n.customerDiaryInfo,o=((0,C.I0)(),(0,O.useRef)(null)),c=((0,C.v9)((function(n){return n.authReducer})).viewerQuery||{}).permissions,a=c.includes(W.gz.CAN_APPROVE_DISCOUNT_PROMOTION),s=c.includes(W.gz.CAN_CONFIRM_PAID_DISCOUNT_PROMOTION),d=localStorage.getItem(H.pP),u=(JSON.parse(d||"")||{}).totalProductCount,l=(0,O.useState)(!1),p=(0,j.Z)(l,2),h=(p[0],p[1]),x=r||{},f=x._id,g=x.typeCode,m=x.isApproved,y=x.startTime,Z=x.endTime,v=x.title,w=x.conditions,S=x.detail,on=x.payWhenCreateOrder,cn=x.otherConditionDescription,an=x.isBuyAnyProductOfConditions,sn=S||{},dn=sn.moneyMethodCode,un=sn.products,ln=sn.value,pn=sn.giftDescription,hn=sn.paymentTypeCode,xn=(0,P.Z)(Z),fn=(0,b.Z)(xn,new Date),gn=an?"Khi mua B\u1ea5t k\u1ef3 S\u1ea3n ph\u1ea9m":"Khi mua \u0110\u1ed3ng th\u1eddi S\u1ea3n ph\u1ea9m",mn=hn===H.ad.TAX_OFFSET,yn=(H.ad.PRODUCT_TYPE,(0,E.D)(z.GG,{refetchQueries:[{query:K.Kr},"GET_DISCOUNT_PROMOTIONS",{query:K.hM},"GET_DISCOUNT_PROMOTION_DIARIES"]})),Zn=(0,j.Z)(yn,1)[0],vn=(0,E.D)(z.Yh,{refetchQueries:[{query:K.hM},"GET_DISCOUNT_PROMOTION_DIARIES"]}),jn=(0,j.Z)(vn,1)[0],On=(0,E.D)(z.jT,{refetchQueries:[{query:K.hM},"GET_DISCOUNT_PROMOTION_DIARIES"]}),Pn=(0,j.Z)(On,1)[0],bn=function(){if(on){var n="";if(!i||!i.diaryCount)return{actuallyReached:"B\u1ea1n kh\xf4ng c\xf3 \u0111\u01a1n n\xe0o \u0111\u1ea1t CK/KM n\xe0y",paymentDetail:(0,G.jsx)(B,{children:"B\u1ea1n kh\xf4ng c\xf3 \u0111\u01a1n n\xe0o \u0111\u1ea1t"})};var e=i||{},t=e.diaryCount,r=e.totalBePaidMoneyValue,o=void 0===r?0:r;switch(hn){case H.ad.MONEY_TYPE:n=(0,G.jsxs)(U,{children:["B\u1ea1n \u0111\u01b0\u1ee3c nh\u1eadn"," ",(0,G.jsx)(V,{children:o&&"".concat(null===o||void 0===o?void 0:o.toLocaleString()," \u0111")})]});break;case H.ad.GIFT_TYPE:n=(0,G.jsxs)(U,{children:[(0,G.jsx)(V,{children:pn})," ","tr\u1ecb gi\xe1"," ",(0,G.jsxs)(V,{children:[null===ln||void 0===ln?void 0:ln.toLocaleString()," \u0111"]})]});break;case H.ad.TAX_OFFSET:n=(0,G.jsxs)(U,{children:[pn," ",null===ln||void 0===ln?void 0:ln.toLocaleString()," ","\u0111"]});break;case H.ad.PRODUCT_TYPE:n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(1===n.length){var e=n[0],r=e.productInfo,i=e.code,o=e.quantity,c=(r||{}).name;return(0,G.jsxs)(U,{children:["B\u1ea1n \u0111\u01b0\u1ee3c nh\u1eadn"," ",(0,G.jsxs)(V,{children:[t*o," (sp) x ",i," - ",(0,I.Z)(c)]})]})}var a=function(n){var e=n.productInfo,r=n.quantity,i=(e||{}).name;return(0,G.jsxs)(U,{children:["- Nh\u1eadn"," ",(0,G.jsxs)(V,{children:[t," x ",t*r,(0,I.Z)(i)]})]})};return(0,G.jsx)(G.Fragment,{children:n.map((function(n,e){return(0,G.jsx)("div",{children:a(n)},e)}))})}(un)}return{actuallyReached:"C\xf3 ".concat(t," \u0111\u01a1n \u0111\u1ea1t CK/KM n\xe0y"),paymentDetail:n}}if(!i)return{actuallyReached:(0,G.jsx)("span",{children:"H\xe3y \u0111\u1eb7t \u0111\u01a1n li\xean quan \u0111\u1ec3 t\xedch lu\u1ef9"}),paymentDetail:(0,G.jsx)(B,{children:"B\u1ea1n ch\u01b0a \u0111\u1eb7t \u0111\u01a1n h\xe0ng n\xe0o li\xean quan"})};var c=i.diaryInfo,a=i.diaryCount,s=i.totalBePaidMoneyValue,d=void 0===s?0:s,u="",l=c||{},p=l.isReached,h=l.actuallyAccumulated,x=void 0===h?[]:h;switch(hn){case H.ad.MONEY_TYPE:u=p?(0,G.jsxs)(U,{children:["B\u1ea1n \u0111\u01b0\u1ee3c nh\u1eadn"," ",(0,G.jsx)(V,{children:d&&"".concat(null===d||void 0===d?void 0:d.toLocaleString()," \u0111")})]}):(0,G.jsx)(B,{children:"Ch\u01b0a \u0111\u1ea1t \u0111i\u1ec1u ki\u1ec7n CK/KM"});break;case H.ad.GIFT_TYPE:u=p?(0,G.jsxs)(U,{children:[(0,G.jsx)(V,{children:pn})," ","tr\u1ecb gi\xe1"," ",(0,G.jsxs)(V,{children:[null===ln||void 0===ln?void 0:ln.toLocaleString()," \u0111"]})]}):(0,G.jsx)(B,{children:"Ch\u01b0a \u0111\u1ea1t \u0111i\u1ec1u ki\u1ec7n CK/KM"});break;case H.ad.PRODUCT_TYPE:u=p?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(1===n.length){var e=n[0],t=e.productInfo,r=e.quantity,i=e.code,o=(t||{}).name;return(0,G.jsxs)(U,{children:["B\u1ea1n \u0111\u01b0\u1ee3c nh\u1eadn"," ",(0,G.jsxs)(V,{children:[a*r," (sp) x ",i," - ",(0,I.Z)(o)]})]})}var c=function(n){var e=n.productInfo,t=n.quantity,r=(e||{}).name;return(0,G.jsxs)(U,{children:["- Nh\u1eadn"," ",(0,G.jsxs)(V,{children:[a," x ",a*t," ",(0,I.Z)(r)]})]})};return(0,G.jsxs)(G.Fragment,{children:[!p&&!fn&&(0,G.jsx)("span",{children:"\u0110ang theo d\xf5i"}),!p&&fn&&(0,G.jsx)(B,{children:"B\u1ea1n kh\xf4ng \u0111\u1ea1t"}),p&&n.map((function(n,e){return(0,G.jsx)("div",{children:c(n)},e)}))]})}(un):(0,G.jsx)(B,{children:"Ch\u01b0a \u0111\u1ea1t \u0111i\u1ec1u ki\u1ec7n CK/KM"})}var f=x.map((function(n,e){var t=n||{},r=t.actuallyTotalReachedValue,i=t.productConditionType,o=t.products,c=void 0===o?[]:o;if(c.length){var a=1===x.length,s=c[0]||{},d=s.netUnitValue,u=s.unitString,l=(0,_.RX)(i,d,u);return a?(0,G.jsxs)("span",{children:["T\u1ed5ng ",l.type," \u0111\xe3 \u0111\u1ea1t"," ",null===r||void 0===r?void 0:r.toLocaleString()," ",l.unit]},e):(0,G.jsxs)("p",{children:["- T\u1ed5ng ",l.type," \u0111\xe3 \u0111\u1ea1t"," ",null===r||void 0===r?void 0:r.toLocaleString()," ",l.unit]},e)}return null})),m=g===H.t_.BUY_PRODUCTS?"Ch\u01b0a mua s\u1ea3n ph\u1ea9m li\xean quan":"Vui l\xf2ng \u0111\u1ed1i chi\u1ebfu l\u1ea1i v\u1edbi nh\xe2n vi\xean b\xe1n h\xe0ng";return{actuallyReached:x.length?f:(0,G.jsx)("span",{children:m}),paymentDetail:u}}(),En=(0,_.dh)(y),Cn=(0,_.dh)(Z),_n=v&&(null===(e=v[0])||void 0===e?void 0:e.showText),In=(0,G.jsxs)(N,{children:[(0,G.jsx)(q,{children:"Ch\u01b0a duy\u1ec7t"}),a&&(0,G.jsx)(k.Z,{label:"Duy\u1ec7t",onClick:function(){Zn({variables:{data:{isApproved:!0},where:{discountPromotionId:f}}})}})]}),kn=function(){var n;if(i){var e=(i||{}).diaryInfo||{},t=e._id,r=e.isReached,o=e.isPaid,c=e.paidAt;r||fn||(n=(0,G.jsx)(q,{children:"\u0110ang theo d\xf5i"})),!r&&fn&&(n=(0,G.jsx)(q,{children:"CK/KM kh\xf4ng \u0111\u1ea1t"})),r&&!o&&(n=(0,G.jsxs)(N,{children:[(0,G.jsx)(q,{children:"Ch\u01b0a tr\u1ea3 CK/KM"}),fn&&s&&(0,G.jsx)(k.Z,{label:"X\xe1c nh\u1eadn \u0111\xe3 tr\u1ea3",onClick:function(){!function(n){jn({variables:{where:{discountPromotionDiaryId:n}}})}(t)}})]})),r&&o&&(n=(0,G.jsxs)(N,{children:[(0,G.jsxs)(q,{children:["\u0110\xe3 tr\u1ea3 v\xe0o ",(0,_.dh)(c,!0)]}),(0,G.jsx)(k.Z,{label:"Hu\u1ef7 x\xe1c nh\u1eadn",onClick:function(){!function(n){Pn({variables:{where:{discountPromotionDiaryId:n}}})}(t)}})]}))}else n=fn?(0,G.jsx)(q,{children:"CK/KM kh\xf4ng \u0111\u1ea1t"}):(0,G.jsx)(q,{children:"\u0110ang theo d\xf5i"});return n}(),wn=function(){if(!m)return In;var n=mn?"C\u1ea5n tr\u1eeb thu\u1ebf TNCN":"Tr\u1ea3 ngay tr\xean m\u1ed7i \u0111\u01a1n h\xe0ng";return on?(0,G.jsx)(q,{children:n}):kn}(),Sn={},Tn=function(n,e){var t=n.length===u;Sn=(0,_.RX)(e,n[0].netUnitValue,n[0].unitString);var r=function(n,e){var t=n.code,r=(n.minRequireValue,(n.productInfo||{}).name),i=(0,G.jsxs)("p",{children:["- ",t," - ",(0,I.Z)(r)]});return(0,G.jsx)(G.Fragment,{children:i})};return t?an?"Trong t\u1ea5t c\u1ea3 s\u1ea3n ph\u1ea9m":"T\u1ea5t c\u1ea3 s\u1ea3n ph\u1ea9m":n.map((function(n,e){return(0,G.jsx)(O.Fragment,{children:r(n)},e)}))},Rn=(0,G.jsxs)(G.Fragment,{children:[cn&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Y,{children:"\u0110i\u1ec1u ki\u1ec7n"}),":"," ",cn]}),w&&!!w.length&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(R,{children:[(0,G.jsx)(Y,{children:"\u0110i\u1ec1u ki\u1ec7n"}),(0,G.jsxs)("span",{children:[": ",gn]})]}),w.map((function(n,e){var t=n.products,r=n.productConditionType,i=n.minTotalRequireValue;return(0,G.jsxs)(D,{children:[Tn(t,r),(0,G.jsxs)("p",{children:["T\u1ed5ng ",Sn.type," c\u1ea7n \u0111\u1ea1t:"," ",null===i||void 0===i?void 0:i.toLocaleString()," ",Sn.unit]})]},e)}))]})]}),Dn=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("hr",{style:{border:"0.5px solid ".concat(T.Z.eaglesWingsGray)}}),function(){var n=[X,$,J,nn,en,tn,rn];switch(hn){case H.ad.MONEY_TYPE:var e=n.find((function(n){return n.value===dn}));return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Y,{children:"CK/KM"}),":"," ",function(n){if(n.value===X.value)return"Ti\u1ec1n m\u1eb7t ".concat(null===ln||void 0===ln?void 0:ln.toLocaleString()," \u0111");var e=n.value.includes("percent_of")?"%":"\u0111";return"Ti\u1ec1n = ".concat(null===ln||void 0===ln?void 0:ln.toLocaleString()).concat(e)+n.label.slice(12)}(e)]});case H.ad.GIFT_TYPE:return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)("div",{children:[(0,G.jsx)(Y,{children:"CK/KM"}),": ",pn," tr\u1ecb gi\xe1"," ",null===ln||void 0===ln?void 0:ln.toLocaleString()," \u0111"]})});case H.ad.TAX_OFFSET:return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)("div",{children:[(0,G.jsx)(Y,{children:"C\u1ea5n tr\u1eeb:"}),pn," ",null===ln||void 0===ln?void 0:ln.toLocaleString()," \u0111"]})});case H.ad.PRODUCT_TYPE:return function(n){var e=1===n.length,t=function(n){var t=n.code,r=n.quantity,i=(n.productInfo||{}).name,o=e?"":"- ";return(0,G.jsxs)("p",{children:[e&&(0,G.jsx)(Y,{children:"CK/KM"}),(0,G.jsxs)(F,{children:[": ",o," T\u1eb7ng"]})," ",r," (sp) ",t," - ",(0,I.Z)(i)]})};return(0,G.jsxs)(G.Fragment,{children:[!e&&(0,G.jsx)(Y,{children:"CK/KM"}),n.map((function(n,e){return(0,G.jsx)(O.Fragment,{children:t(n)},e)}))]})}(un);default:return null}}()]});return(0,O.useEffect)((function(){var n=function(n){o.current&&!o.current.contains(n.target)&&h(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[o]),(0,G.jsx)(A,{customerMargin:t,children:(0,G.jsxs)(L,{children:[(0,G.jsxs)(Q,{children:[En," - ",Cn,":"," ",(0,G.jsx)(M,{children:_n})]}),Rn,Dn,!mn&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("hr",{style:{border:"0.9px dashed ".concat(T.Z.orange)}}),(0,G.jsxs)("div",{children:[(0,G.jsx)(Y,{children:"Th\u1ef1c \u0111\u1ea1t"}),(0,G.jsxs)("span",{style:{fontWeight:500},children:[": ",bn.actuallyReached]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)(Y,{children:"\u0110\u01b0\u1ee3c nh\u1eadn"}),":"," ",bn.paymentDetail]})]}),(0,G.jsx)("hr",{style:{border:"0.9px dashed ".concat(T.Z.orange)}}),(0,G.jsx)(G.Fragment,{children:wn})]})})};on.defaultProps={customerMargin:"10px 5px 35px"};var cn=on},7715:function(n,e,t){t.r(e),t.d(e,{default:function(){return Te}});var r,i,o,c,a,s,d,u,l,p,h,x,f,g,m,y,Z,v,j,O,P,b,E,C,_,I,k,w,S,T,R,D,N,A,Q,M,F,U,B,V,Y,L,q,H,z,K,W=t(2982),G=t(4165),X=t(1413),$=t(5987),J=t(5861),nn=t(885),en=t(7313),tn=t(5627),rn=t(3222),on=t(2668),cn=t(790),an=t(6618),sn=t(1997),dn=t(5954),un=t(6173),ln=t(5222),pn=t(4641),hn=t(2397),xn=t(1677),fn=t(1300),gn=t(468),mn=t(3354),yn=t(9146),Zn=t(6879),vn=t(6069),jn=t(6881),On=t(9673),Pn=t(2262),bn=t(4214),En=t(1359),Cn=t(3867),_n=t(3070),In=function(n,e,t,r){var i=1-.01*r,o="INIT",c=function(){},a=function(){},s=_n.Zw.MONEY_METHOD_CODES,d=s.MONEY_FIXED_VALUE,u=s.MONEY_PERCENT_OF_ORDER_VALUE,l=s.MONEY_PERCENT_OF_DIFFERENCE_ORDER_VALUE,p=s.MONEY_ORDER_QUANTITY,h=s.MONEY_DIFFERENCE_ORDER_QUANTITY,x=s.MONEY_ORDER_WEIGHT,f=s.MONEY_DIFFERENCE_ORDER_WEIGHT,g=_n.Zw.PRODUCT_CONDITION_TYPES;switch(e===g.MONEY&&(c=function(n,e,t){return i*n*e}),e===g.QUANTITY&&(c=function(n,e,t){return n}),e===g.WEIGHT&&(c=function(n,e,t){return n*t}),n){case d:o=d;break;case u:a=function(n,e){return e*t},o=g.MONEY;break;case l:a=function(n,e){return(e-n)*t},o=g.MONEY;break;case p:a=function(n,e){return e*t},o=g.QUANTITY;break;case h:a=function(n,e){return(e-n)*t},o=g.QUANTITY;break;case x:a=function(n,e){return e*t},o=g.WEIGHT;break;case f:a=function(n,e){return(e-n)*t},o=g.WEIGHT}return{actuallyProductValue:c,calculationFormulaMoneyValue:a,productConditionTypeToCalculate:o}},kn=function(n){var e=n.discountPromotionItem,t=n.orderData,r=t.discountValue,i=t.orderedProducts,o=e.conditions,c=e.detail,a=c.moneyMethodCode,s=c.value,d=c.paymentTypeCode,u=function(){for(var n=_n.Zw.MONEY_METHOD_CODES.MONEY_FIXED_VALUE,e=0,t=0;t<o.length;t++){for(var c=o[t],u=c.productConditionType,l=c.minTotalRequireValue,p=c.products,h=In(a,u,s,r),x=h.actuallyProductValue,f=h.calculationFormulaMoneyValue,g=h.productConditionTypeToCalculate,m=0,y=function(n){var e=p[n].code,t=i.find((function(n){return n.code===e}));if(t){var r=t.orderQty,o=t.price,c=t.netUnitValue,a=x(r,o,c);m+=a}},Z=0;Z<p.length;Z++)y(Z);var v=a!==_n.Zw.MONEY_METHOD_CODES.MONEY_FIXED_VALUE,j=d===_n.Zw.PAYMENT_TYPE_CODES.MONEY;if(v&&j&&u===g)e+=f(l,m)}return a===n&&(e=s),e}();return d===_n.Zw.PAYMENT_TYPE_CODES.MONEY?u:0},wn=t(168),Sn=t(3115),Tn=t(1237),Rn=Sn.ZP.div(r||(r=(0,wn.Z)(["\n  font-size: 14px;\n  padding: 0 0 150px;\n"]))),Dn=Sn.ZP.div(i||(i=(0,wn.Z)(["\n  display: flex;\n  width: ",";\n  margin: ",";\n  padding: ",";\n  transform: ",";\n  justify-content: ",";\n  align-items: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin}),(function(n){return n.padding}),(function(n){return n.transform}),(function(n){return n.justifyContent}),(function(n){return n.alignItems||"center"})),Nn=Sn.ZP.div(o||(o=(0,wn.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin: ",";\n"])),(function(n){return n.margin})),An=Sn.ZP.div(c||(c=(0,wn.Z)(["\n  margin: 5px 0 15px 45px;\n"]))),Qn=Sn.ZP.p(a||(a=(0,wn.Z)(["\n  margin: 7px 0 7px;\n"]))),Mn=Sn.ZP.span(s||(s=(0,wn.Z)(["\n  width: 70px;\n  display: inline-block;\n"]))),Fn=Sn.ZP.div(d||(d=(0,wn.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),Un=Sn.ZP.div(u||(u=(0,wn.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Bn=Sn.ZP.input(l||(l=(0,wn.Z)(["\n  border: none;\n  margin: 0 10px;\n  padding: 2px 0 0 5px;\n  font-size: 12px;\n  font-weight: 300;\n  text-align: right;\n  border-bottom: 1px solid ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    box-shadow: none;\n  }\n  &:focus-visible {\n    outline: none;\n    box-shadow: none;\n  }\n"])),Tn.Z.secondary),Vn=(Sn.ZP.p(p||(p=(0,wn.Z)(["\n  font-style: italic;\n"]))),Sn.ZP.span(h||(h=(0,wn.Z)(["\n  font-weight: 700;\n"])))),Yn=Sn.ZP.span(x||(x=(0,wn.Z)(["\n  font-weight: 700;\n  color: ",";\n"])),Tn.Z.primary),Ln=Sn.ZP.p(f||(f=(0,wn.Z)(["\n  font-weight: 700;\n"]))),qn=(Sn.ZP.p(g||(g=(0,wn.Z)(["\n  width: ",";\n"])),(function(n){return n.width?n.width:"80px"})),Sn.ZP.span(m||(m=(0,wn.Z)(["\n  padding: 1px 5px;\n  border-radius: 3px;\n  background-color: ",";\n"])),Tn.Z.secondary),Sn.ZP.div(y||(y=(0,wn.Z)(["\n  margin: 10px 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n"])))),Hn=Sn.ZP.div(Z||(Z=(0,wn.Z)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  padding: 5px 0 20px;\n  justify-content: space-between;\n"]))),zn=Sn.ZP.div(v||(v=(0,wn.Z)(["\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  & > img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"]))),Kn=Sn.ZP.div(j||(j=(0,wn.Z)(["\n  width: 100%;\n  display: flex;\n  min-height: 80px;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Wn=Sn.ZP.div(O||(O=(0,wn.Z)(["\n  margin: 0 0 0 10px;\n"]))),Gn=(Sn.ZP.div(P||(P=(0,wn.Z)(["\n  width: 150px;\n  text-align: right;\n  margin: 0 0 0 10px;\n"]))),Sn.ZP.p(b||(b=(0,wn.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Tn.Z.secondary),Sn.ZP.p(E||(E=(0,wn.Z)(["\n  font-size: 15px;\n  font-weight: 700;\n  line-height: 23px;\n  color: ",";\n  opacity: ",";\n"])),Tn.Z.primary,(function(n){return n.opacity}))),Xn=Sn.ZP.div(C||(C=(0,wn.Z)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  flex-direction: column;\n"]))),$n=Sn.ZP.span(_||(_=(0,wn.Z)(["\n  font-size: 12px;\n  font-weight: 500;\n  color: ",";\n"])),(function(n){return n.textColor})),Jn=(Sn.ZP.div(I||(I=(0,wn.Z)(["\n  text-align: center;\n  margin: 0 0 0 25px;\n"]))),Sn.ZP.h3(k||(k=(0,wn.Z)(["\n  font-weight: 700;\n  color: ",";\n  margin: ",";\n"])),Tn.Z.lightBlack,(function(n){return n.margin||"25px 5px 0"}))),ne=(Sn.ZP.span(w||(w=(0,wn.Z)(["\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  margin: 0 5px 0 0;\n  text-decoration: line-through;\n"]))),Sn.ZP.span(S||(S=(0,wn.Z)(["\n  font-weight: 700;\n  font-style: italic;\n  color: ",";\n"])),Tn.Z.secondary)),ee=(Sn.ZP.div(T||(T=(0,wn.Z)(["\n  padding: 10px;\n  cursor: pointer;\n  margin: 0 0 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),Sn.ZP.h5(R||(R=(0,wn.Z)(["\n  font-weight: 700;\n"]))),Sn.ZP.div(D||(D=(0,wn.Z)(["\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  padding: 10px;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ",";\n"])),Tn.Z.rgbaBlack)),te=Sn.ZP.div(N||(N=(0,wn.Z)(["\n  width: 40%;\n  display: flex;\n  position: relative;\n  justify-content: center;\n"]))),re=Sn.ZP.div(A||(A=(0,wn.Z)(["\n  right: 0;\n  top: -5px;\n  color: #777;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),ie=Sn.ZP.div(Q||(Q=(0,wn.Z)(["\n  top: 15px;\n  right: 0;\n  z-index: 3;\n  padding: 5px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),oe=Sn.ZP.div(M||(M=(0,wn.Z)(["\n  bottom: 25px;\n  right: 0px;\n  z-index: 3;\n  padding: 5px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),ce=Sn.ZP.div(F||(F=(0,wn.Z)(["\n  z-index: 3;\n  width: 155px;\n  right: -12px;\n  padding: 5px;\n  bottom: 25px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),ae=Sn.ZP.p(U||(U=(0,wn.Z)(["\n  margin: 5px;\n  display: flex;\n  font-size: 12px;\n  cursor: pointer;\n  padding: 5px 10px;\n  text-align: center;\n  align-items: center;\n  color: ",";\n  &:hover {\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  }\n"])),(function(n){return n.textColor})),se=Sn.ZP.p(B||(B=(0,wn.Z)(["\n  color: #fff;\n  font-size: 13px;\n  font-weight: 600;\n"]))),de=(Sn.ZP.span(V||(V=(0,wn.Z)(["\n  color: #fff;\n  padding: 2px 5px;\n  font-weight: 700;\n  border-radius: 5px;\n  background-color: ",";\n"])),Tn.Z.primary),Sn.ZP.div(Y||(Y=(0,wn.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Sn.ZP.div(L||(L=(0,wn.Z)(["\n  margin: 20px 0 0;\n"])))),ue=Sn.ZP.div(q||(q=(0,wn.Z)(["\n  width: 150px;\n  display: flex;\n  margin: 20px auto 0;\n  justify-content: space-between;\n"]))),le=Sn.ZP.p(H||(H=(0,wn.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Tn.Z.lightRed),pe=Sn.ZP.p(z||(z=(0,wn.Z)(["\n  position: relative;\n  color: ",";\n  width: ",";\n  margin: ",";\n  padding: ",";\n  font-size: ",";\n  font-style: ",";\n  font-weight: ",";\n"])),(function(n){return n.color}),(function(n){return n.width}),(function(n){return n.margin}),(function(n){return n.padding}),(function(n){return n.fontSize}),(function(n){return n.fontStyle}),(function(n){return n.fontWeight})),he=Sn.ZP.span(K||(K=(0,wn.Z)(["\n  top: ",";\n  color: ",";\n  width: ",";\n  bottom: ",";\n  margin: ",";\n  padding: ",";\n  position: ",";\n  font-size: ",";\n  font-style: ",";\n  font-weight: ",";\n  display: ",";\n"])),(function(n){return n.top}),(function(n){return n.color}),(function(n){return n.width}),(function(n){return n.bottom}),(function(n){return n.margin}),(function(n){return n.padding}),(function(n){return n.position}),(function(n){return n.fontSize}),(function(n){return n.fontStyle}),(function(n){return n.fontWeight}),(function(n){return n.display||"inline-block"})),xe=t(2153),fe=t(5164),ge=t(3454),me=t(7123),ye=t(3163),Ze=t(7119),ve=t(6417),je=["name","__typename","imgUri","stockQty","stockQtyByApprovedOrders","stockQtyByShippedOutOrders","quantityWarning"],Oe=["name","__typename","imgUri","stockQty","stockQtyByApprovedOrders","stockQtyByShippedOutOrders","quantityWarning"],Pe=["name","__typename","imgUri","stockQty","quantityWarning","stockQtyByApprovedOrders","stockQtyByShippedOutOrders"],be=(0,en.lazy)((function(){return Promise.all([t.e(3162),t.e(9300)]).then(t.bind(t,9300))})),Ee=function(n){var e=n.orderId,t=n.updateOrder,r=n.productCode,i=n.orderedProducts,o=n.isOrderApproved,c=n.setOrderedProducts,a=(0,en.useState)(!1),s=(0,nn.Z)(a,2),d=s[0],u=s[1],l=(0,rn.I0)(),p=function(){var n=(0,J.Z)((0,G.Z)().mark((function n(){var a,s,d,p,h,x,f,g;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a={},s=i.filter((function(n){return n.code===r&&(a=n),n.code!==r})),d=s.map((function(n){var e=n.name,t=(n.__typename,n.imgUri,n.stockQty,n.stockQtyByApprovedOrders,n.stockQtyByShippedOutOrders,n.quantityWarning,(0,$.Z)(n,je)),r=e.map((function(n){return{showText:n.showText,locale:n.locale}}));return(0,X.Z)((0,X.Z)({},t),{},{name:r})})),!e){n.next=11;break}return h=(p=a||{}).code,x=p.orderQty,f=(0,X.Z)({products:d},o&&{updateProductQty:{productCode:h,incQuantity:x}}),g={orderId:e},n.next=9,t({variables:{data:f,where:g}});case 9:n.sent.data?(c(s),l((0,xe._w)())):u(!0);case 11:c(s),l((0,xe._w)());case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,ve.jsxs)(de,{children:[d&&(0,ve.jsx)(le,{children:"L\u1ed7i m\xe1y ch\u1ee7 vui l\xf2ng quay l\u1ea1i sau!"}),(0,ve.jsx)("p",{children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 s\u1ea3n ph\u1ea9m n\xe0y kh\u1ecfi \u0111\u01a1n h\xe0ng kh\xf4ng?"}),(0,ve.jsxs)(ue,{children:[(0,ve.jsx)(Pn.Z,{label:"HU\u1ef6",fontWeight:"700",padding:"5px 10px",onClick:function(){l((0,xe._w)())}}),(0,ve.jsx)(bn.Z,{label:"X\xc1C NH\u1eacN",fontWeight:"700",padding:"5px 10px",onClick:p})]})]})},Ce=function(){var n=(0,rn.I0)();return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)("p",{style:{margin:10},children:"\u0110\u01a1n h\xe0ng n\xe0y c\xf3 s\u1ea3n ph\u1ea9m \u0111ang kh\xf4ng \u0111\u1ee7 h\xe0ng, n\xean b\u1ea1n kh\xf4ng th\u1ec3 b\u1ea5m Xu\u1ea5t kho \u0111\u01b0\u1ee3c. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i!"}),(0,ve.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:(0,ve.jsx)(Pn.Z,{label:"\u0110\xd3NG L\u1ea0I",fontWeight:"700",padding:"7px 10px",onClick:function(){return n((0,xe._w)())}})})]})},_e=function(n){var e=n.orderId,t=n.itemIndex,r=n.updateOrder,i=n.productItem,o=n.setShowTooltip,c=n.isOrderApproved,a=n.orderedProducts,s=n.setOrderedProducts,d=n.setIsEditingOrderQuantity,u=(0,tn.cI)({defaultValues:{}}),l=u.register,p=u.handleSubmit,h=u.formState.errors,x=i||{},f=x.orderQty,g=x.stockQtyByApprovedOrders,m=(0,en.useState)(f),y=(0,nn.Z)(m,2),Z=y[0],v=y[1],j=f-Z,O=function(){var n=(0,J.Z)((0,G.Z)().mark((function n(i){var u,l,p,h,x,f;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0===j){n.next=19;break}if((u=(0,W.Z)(a))[t]=(0,X.Z)((0,X.Z)({},u[t]),{},{orderQty:Z},c&&{stockQtyByApprovedOrders:g+j}),l=u.map((function(n){var e=n.name,t=(n.__typename,n.imgUri,n.stockQty,n.stockQtyByApprovedOrders,n.stockQtyByShippedOutOrders,n.quantityWarning,(0,$.Z)(n,Oe)),r=e.map((function(n){return{showText:n.showText,locale:n.locale}}));return(0,X.Z)((0,X.Z)({},t),{},{name:r})})),!e){n.next=14;break}return h=null===(p=u[t])||void 0===p?void 0:p.code,x=(0,X.Z)({products:l},c&&{updateProductQty:{productCode:h,incQuantity:j}}),f={orderId:e},n.next=10,r({variables:{data:x,where:f}});case 10:n.sent.data&&(o(!1),s(u),d(!1)),n.next=17;break;case 14:o(!1),s(u),d(!1);case 17:n.next=20;break;case 19:0===j&&(o(!1),d(!1));case 20:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,ve.jsx)(An,{children:(0,ve.jsxs)(Nn,{children:[(0,ve.jsx)("p",{children:"S\u1ed1 l\u01b0\u1ee3ng mua:"}),(0,ve.jsx)(On.Z,{width:"70px",type:"number",pattern:"[0-9]*",inputmode:"numeric",name:"newOrderQty",register:l,value:Z,style:{textAlign:"right"},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 1",isError:!!h.newOrderQty,onChange:function(n){var e=n.target.value,t=Number(e);v(t)},validations:{required:!0,min:1}}),(0,ve.jsx)(xn.Z,{label:"OK",margin:"0 12px",borderRadius:"3px",onClick:p(O)}),(0,ve.jsx)(Pn.Z,{label:"HU\u1ef6",borderRadius:"3px",onClick:function(){o(!1),d(!1)}})]})})},Ie=function(n){var e,t,r=n.orderId,i=n.itemIndex,o=n.productItem,c=n.viewerQuery,a=n.updateOrder,s=n.canUpdateOrder,d=n.orderedProducts,u=n.isOrderApproved,l=n.setOrderedProducts,p=n.isPromotionProduct,h=(0,rn.I0)(),x=(0,en.useState)(!1),f=(0,nn.Z)(x,2),g=f[0],m=f[1],y=(c||{}).permissions,Z=o||{},v=Z.orderQty,j=Z.code,O=Z.name,P=Z.imgUri,b=Z.price,E=Z.stockQtyByApprovedOrders,C=Z.stockQtyByShippedOutOrders,_=Z.quantity,I=Z.netUnitValue,k=Z.unitString,w=Z.quantityWarning,S=Z.productInfo||{},T=S.imgUri,R=S.name,D=S.quantityWarning,N=S.stockQtyByApprovedOrders,A=S.stockQtyByShippedOutOrders,Q=y.includes(Ze.gz.VIEW_WAREHOUSE_INVENTORY_STOCK),M=u?C||A||0:E||N||0,F=p?0:b,U=(null===(e=v||_||0)||void 0===e||e.toLocaleString(),M>=(w||D)?Tn.Z.secondary:Tn.Z.lightRed),B=Q?(0,ve.jsxs)($n,{textColor:U,children:["\u2002(",null===M||void 0===M?void 0:M.toLocaleString(),")"]}):null,V=(0,en.useRef)(null),Y=(0,en.useState)(!1),L=(0,nn.Z)(Y,2),q=L[0],H=L[1],z=q?"block":"none",K=(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)(re,{onClick:function(){return H(!q)},children:(0,ve.jsx)(an.Z,{})}),(0,ve.jsxs)(ie,{display:z,ref:V,children:[(0,ve.jsxs)(ae,{onClick:function(){m(!0)},children:[(0,ve.jsx)(dn.Z,{fontSize:"small"}),"\u2002S\u1eeda"]}),(0,ve.jsxs)(ae,{textColor:Tn.Z.lightRed,onClick:function(){return function(n){var e={title:"X\xe1c nh\u1eadn xo\xe1 s\u1ea3n ph\u1ea9m",children:(0,ve.jsx)(Ee,{orderId:r,updateOrder:a,productCode:n,isOrderApproved:u,orderedProducts:d,setOrderedProducts:l})};h((0,xe.om)(e))}(j)},children:[(0,ve.jsx)(sn.Z,{fontSize:"small"}),"\u2002Xo\xe1"]})]})]}),W=p?"[T\u1eb7ng] ":"",G=(0,ve.jsxs)(pe,{children:[W," ",(0,ve.jsx)(he,{fontWeight:"600",children:j})," -"," ",(0,jn.Z)(O||R),(0,ve.jsxs)(he,{margin:"0 0 0 4px",fontStyle:"italic",color:Tn.Z.lightGray,children:["- ",I,k]})]});return(0,en.useEffect)((function(){var n=function(n){V.current&&!V.current.contains(n.target)&&H(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[V]),(0,ve.jsxs)(qn,{children:[(0,ve.jsxs)(Hn,{children:[s&&!g&&!p&&K,(0,ve.jsx)(zn,{children:(0,ve.jsx)("img",{src:T||P,alt:"product-img"})}),(0,ve.jsxs)(Kn,{children:[(0,ve.jsx)(Wn,{children:G}),!p&&(0,ve.jsxs)(Dn,{margin:"0 0 0 10px",alignItems:"flex-start",transform:"translateY(60%)",justifyContent:"space-between",children:[(0,ve.jsxs)(pe,{fontSize:"14px",fontStyle:"italic",color:Tn.Z.lightGray,children:[null===F||void 0===F?void 0:F.toLocaleString(),"\u0111"]}),(0,ve.jsx)(pe,{children:"x"}),(0,ve.jsxs)(Xn,{children:[(0,ve.jsx)(pe,{fontWeight:"600",fontSize:"14px",color:Tn.Z.primary,children:null===v||void 0===v?void 0:v.toLocaleString()}),B]}),(0,ve.jsx)(pe,{children:"="}),(0,ve.jsxs)(pe,{fontWeight:"600",fontSize:"14px",children:[null===(t=F*v)||void 0===t?void 0:t.toLocaleString(),(0,ve.jsx)(he,{fontWeight:"400",margin:"0 0 0 3px",children:"\u0111"})]})]})]})]}),g&&(0,ve.jsx)(_e,{orderId:r,itemIndex:i,updateOrder:a,productItem:o,setShowTooltip:H,isOrderApproved:u,orderedProducts:d,setOrderedProducts:l,setIsEditingOrderQuantity:m})]})},ke=function(n){var e=n.orderId,t=n.updateOrder,r=n.orderedProductCodes,i=n.orderedProducts,o=n.setOrderedProducts,c=n.setIsAddingProduct,a=n.isPayDiscountPromotion,s=(0,en.useState)([]),d=(0,nn.Z)(s,2),u=d[0],l=d[1],p=function(){var n=(0,J.Z)((0,G.Z)().mark((function n(){var r,a,s,d,l,p;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=[],a=u.filter((function(n){return n.orderQty&&n.orderQty>0&&(r=[].concat((0,W.Z)(r),[{productCode:n.code,incQuantity:-n.orderQty}])),n.orderQty&&n.orderQty>0})),s=[].concat((0,W.Z)(i),(0,W.Z)(a)),d=s.map((function(n){var e=n.name,t=(n.__typename,n.imgUri,n.stockQty,n.quantityWarning,n.stockQtyByApprovedOrders,n.stockQtyByShippedOutOrders,(0,$.Z)(n,Pe)),r=e.map((function(n){return{showText:n.showText,locale:n.locale}}));return(0,X.Z)((0,X.Z)({},t),{},{name:r})})),!e){n.next=11;break}return l=(0,X.Z)({products:d},r.length&&{addNewProducts:r}),p={orderId:e},n.next=9,t({variables:{data:l,where:p}});case 9:n.sent.data&&(o([].concat((0,W.Z)(i),(0,W.Z)(a))),c(!1));case 11:o([].concat((0,W.Z)(i),(0,W.Z)(a))),c(!1);case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,ve.jsxs)(ve.Fragment,{children:[!!u.length&&(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)(Jn,{style:{margin:"20px 0 0"},children:"DANH S\xc1CH S\u1ea2N PH\u1ea8M S\u1ebc TH\xcaM:"}),(0,ve.jsxs)(ln.Z,{children:[u.map((function(n,e){var t=n.code,r=n.name,i=n.netUnitValue,o=n.unitString;return(0,ve.jsxs)(en.Fragment,{children:[(0,ve.jsxs)(Un,{children:[(0,ve.jsxs)("p",{children:[e+1,".",t," - ",(0,jn.Z)(r)," - ",i,o]}),(0,ve.jsx)(Pn.Z,{label:"Xo\xe1",margin:"-3px 0 3px 10px",onClick:function(){return function(n){var e=u.filter((function(e){return e.code!==n}));l(e)}(t)}})]}),(0,ve.jsxs)("p",{children:["S\u1ed1 l\u01b0\u1ee3ng:"," ",(0,ve.jsx)(Bn,{isInline:!0,min:0,name:t,type:"number",pattern:"[0-9]*",inputmode:"numeric",style:{width:50,margin:"0 0 15px"},onChange:function(n){return function(n,e){var t=n.target.value,r=Number(t);u[e]=r>=0?(0,X.Z)((0,X.Z)({},u[e]),{},{orderQty:r}):(0,X.Z)((0,X.Z)({},u[e]),{},{orderQty:0})}(n,e)}})]})]},"".concat(t,"-").concat(e))})),(0,ve.jsx)(xn.Z,{label:"X\xe1c nh\u1eadn",margin:"20px 0 0",onClick:p})]})]}),(0,ve.jsx)(Nn,{children:(0,ve.jsx)(Zn.Z,{isSelectOne:!0,searchPlaceholder:"Ch\u1ecdn s\u1ea3n ph\u1ea9m (c\xf3 th\u1ec3 ch\u1ecdn nhi\u1ec1u)",onClickSelectResultItem:function(n){var e=u.findIndex((function(e){return n.node.code===e.code})),t=r.findIndex((function(e){return e.code===n.node.code}));if(-1===e&&-1===t){var i=n.node,o=i.code,c=i.name,s=i.orderQty,d=i.price,p=i.netUnitValue,h=i.unitString,x=i.stockQty,f=i.stockQtyByApprovedOrders,g=i.stockQtyByShippedOutOrders,m=i.imgUri,y=i.quantityWarning,Z=i.categories,v={code:o,name:c,orderQty:s,price:a?0:d,netUnitValue:p,unitString:h,stockQty:x,stockQtyByApprovedOrders:f,stockQtyByShippedOutOrders:g,imgUri:m,categories:Z,quantityWarning:y},j=[].concat((0,W.Z)(u),[v]);l(j)}},selectedList:[].concat((0,W.Z)(u),(0,W.Z)(r))})})]})},we=function(n){var e=n.errors,t=n.register,r=n.setValue,i=n.clearErrors,o=n.selectedCustomer,c=n.saleStaffFullName,a=n.setSelectedCustomer,s=n.isPayDiscountPromotion,d=n.setIsPayDiscountPromotion,u=n.setOrderedProducts,l=n.isSpecialOrderFromInput,p=o||{},h=p.address,x=p.fullName,f=p.phoneNumber,g=((0,rn.v9)((function(n){return n.authReducer})).viewerQuery||{}).permissions,m=(void 0===g?[]:g).includes(Ze.gz.CAN_CREATE_NORMAL_SPECIAL_ORDER_FOR_ANYONE),y=o?(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)(Ln,{children:x}),(0,ve.jsx)(xn.Z,{label:"Ch\u1ecdn l\u1ea1i",onClick:function(){return a(void 0)}})]}):(0,ve.jsx)(En.Z,{isSelectOne:!0,width:"calc(100% - 90px)",roles:[_n.If.CUSTOMER],isError:!!e.selectedCustomer,onClickSelectResultItem:function(n){var e=n&&n.node;i("selectedCustomer"),r("selectedCustomer",e),a(e)},noOwnAccountFilter:m});return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)(Jn,{style:{margin:"30px 10px 10px"},children:"KH\xc1CH H\xc0NG"}),(0,ve.jsxs)(mn.Z,{children:[(0,ve.jsxs)(Nn,{children:[(0,ve.jsx)(pe,{fontWeight:"600",width:"80px",children:"Ng\xe0y t\u1ea1o"}),(0,ve.jsx)(pe,{margin:"0 0 0 3px",children:":"}),(0,ve.jsx)(On.Z,{name:"createdAt",register:t,type:"datetime-local",width:"calc(100% - 80px)",isError:!!e.createdAt,validations:{required:!0}})]}),(0,ve.jsxs)(Nn,{margin:"15px 0 0",children:[(0,ve.jsx)(pe,{fontWeight:"600",width:"80px",children:"Kh\xe1ch h\xe0ng"}),(0,ve.jsx)(pe,{margin:"0 3px 0 0",children:":"}),y]}),o&&(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsxs)(Qn,{children:[(0,ve.jsx)(Mn,{children:"S\u0110T"}),": ",f]}),(0,ve.jsxs)(Qn,{children:[(0,ve.jsx)(Mn,{children:"\u0110\u1ecba ch\u1ec9"}),": ",h]}),(0,ve.jsxs)(Qn,{children:[(0,ve.jsx)(Mn,{children:"Ph\u1ee5 tr\xe1ch"}),": ",c]})]}),l&&(0,ve.jsxs)(Nn,{children:[(0,ve.jsx)("input",{type:"checkbox",checked:s,onChange:function(n){var e=n.target.checked;u([]),d(!!e)}}),(0,ve.jsx)("p",{children:"\u2002\u0110\u01a1n tr\u1ea3 CKKM"})]})]})]})},Se=function(n){var e,t=n.orderItem,r=n.callbackAfterCreatedOrder,i=n.orderProducts,o=n.isSpecialOrder,c=(0,on.a)(me.bV,{fetchPolicy:"cache-and-network"}),a=c.data,s=c.subscribeToMore,d=a&&a.global||{},u=d.companyHotline,l=d.isStockChecking,p=d.isWarehouseBalancing,h=(0,vn.xE)({getTimeTogether:!0}),x=(0,tn.cI)({defaultValues:{createdAt:h}}),f=x.watch,g=x.register,m=x.setValue,y=x.clearErrors,Z=x.handleSubmit,v=x.formState.errors,j=f("specialDiscountValue"),O=t||{},P=O._id,b=O.products,E=O.customerInfo,C=O.reachedPayImmediatelyDiscountPromotions,_=O.createdAt,I=O.saleStaffInfo,k=O.discountValue,w=O.isCanceled,S=O.isPromotionPayment,T=O.isApproved,R=E||{},D=R.currentDebtBalance,N=R.fullName,A=R.address,Q=R.phoneNumber,M=(0,rn.I0)(),F=(0,rn.v9)((function(n){return n.authReducer})).viewerQuery,U=(0,en.useState)(!1),B=(0,nn.Z)(U,2),V=B[0],Y=B[1],L=(0,en.useState)(!1),q=(0,nn.Z)(L,2),H=q[0],z=q[1],K=(0,en.useState)(i||b),$=(0,nn.Z)(K,2),an=$[0],sn=$[1],dn=(0,en.useState)(!1),xn=(0,nn.Z)(dn,2),Zn=xn[0],jn=xn[1],Pn=(0,en.useState)(void 0),bn=(0,nn.Z)(Pn,2),En=bn[0],In=bn[1],wn=(0,cn.D)(ge.d4,{refetchQueries:[{query:me.fB},"GET_ORDERS"]}),Sn=(0,nn.Z)(wn,1)[0],Tn=(0,cn.D)(ge.rF,{refetchQueries:[{query:me.fB},"GET_ORDERS"]}),Dn=(0,nn.Z)(Tn,1)[0],An=(0,cn.D)(ge.ou,{refetchQueries:[{query:me.fB},"GET_ORDERS"]}),Mn=(0,nn.Z)(An,1)[0],Un=(0,cn.D)(ge.e9,{refetchQueries:[{query:me.fB},"GET_ORDERS"]}),Bn=(0,nn.Z)(Un,1)[0],Ln=(0,cn.D)(ge.PA,{refetchQueries:[{query:me.fB},"GET_ORDERS"]}),qn=(0,nn.Z)(Ln,1)[0],Hn=En||F||{},zn=Hn._id,Kn=Hn.fullName,Wn=Hn.address,Xn=Hn.phoneNumber,$n=Hn.applyingDiscount,re=Hn.staffAccountId,ie=Hn.managerAccountId,de=Hn.directorAccountId,ue=Hn.roles,le=Hn.permissions,je=Hn.currentDebtBalance,Oe=Hn.saleStaffInfo,Pe=Hn.fatherChildrenAccountIds,Ee=void 0===Pe?[]:Pe,_e=Oe||{},Se=_e.fullName,Te=_e.phoneNumber,Re=k||j||$n||0,De=ue.includes(_n.If.STAFF_OF_CUSTOMER)?Ee[0]:zn,Ne=function(){var n=t?D:je,e=Number(n)?null===n||void 0===n?void 0:n.toLocaleString():0;return n>0?"+".concat(e):e}(),Ae=t?N:Kn,Qe=t?A:Wn,Me=t?Q:Xn,Fe=t?I&&I.fullName:Se,Ue=t?I&&I.phoneNumber:Te,Be=F.roles.includes(_n.If.CUSTOMER),Ve=F.roles.includes(_n.If.STAFF_OF_CUSTOMER),Ye=!Be&&!Ve&&i;g("selectedCustomer",{required:Ye});var Le=an.map((function(n){return{code:n.code}})),qe={discountValue:$n||0,orderedProducts:an.map((function(n){return{code:n.code,orderQty:n.orderQty,price:n.price,netUnitValue:n.netUnitValue}})),customerAccountId:De},He=!i||o||V,ze=(0,on.a)(me.UZ,{variables:{where:qe},skip:He}).data,Ke={orderedProducts:Le,customerAccountId:De},We=(0,on.a)(me.fb,{variables:{filter:{customerAccountId:De},where:Ke},skip:He}).data,Ge=ze&&ze.orderReachedPayImmediatelyDiscountPromotions||[],Xe=We&&We.orderRelatePayLaterDiscountPromotions||[],$e=i?Xe:t?t.relatePayLaterPromotions:[],Je=0,nt=(an.forEach((function(n){var e=n.orderQty,t=n.price;Je+=e*t})),Je*(1-Re/100)),et=function(){var n=Je*(Re/100);return n>0?"-".concat(null===n||void 0===n?void 0:n.toLocaleString()):null===n||void 0===n?void 0:n.toLocaleString()}(),tt=[],rt=function(){if(V||S)return 0;var n=C||Ge,e=0;if(n&&n.length)for(var t=0;t<n.length;t++){var r=n[t],i=(r.detail||{}).products;if(i&&i.length)for(var o=function(n){var e=i[n],t=e||{},r=t.code,o=t.quantity,c=tt.findIndex((function(n){return n.code===r}));if(-1===c)tt=[].concat((0,W.Z)(tt),[e]);else{var a=tt[c],s=a.quantity,d=(0,X.Z)((0,X.Z)({},a),{},{quantity:s+o});tt[c]=d}},c=0;c<i.length;c++)o(c);e+=kn({orderData:{discountValue:Re,orderedProducts:an},discountPromotionItem:r})}return e}(),it=nt-rt,ot=(0,en.useRef)(null),ct=Zn?"block":"none",at="",st=!1,dt=null,ut=le.includes(Ze.gz.CAN_APPROVE_DEBT_FOR_ORDER),lt=le.includes(Ze.gz.CAN_APPROVE_ANY_ORDER),pt=le.includes(Ze.gz.CAN_APPROVE_SPECIAL_ORDER),ht=le.includes(Ze.gz.CAN_CONFIRM_SHIPPED_OUT_ORDER),xt=le.includes(Ze.gz.CAN_CONFIRM_HANDED_OVER_ORDER),ft=le.includes(Ze.gz.CAN_DELETE_CANCELED_ORDER),gt=le.includes(Ze.gz.CAN_UPDATE_ORDER_BEFORE_BE_APPROVED),mt=le.includes(Ze.gz.CAN_UPDATE_ORDER_AFTER_BE_APPROVED);if(i){st=!0,at="Ch\u1edd x\xe1c nh\u1eadn \u0111\u1eb7t h\xe0ng";var yt,Zt=function(){var n=(0,J.Z)((0,G.Z)().mark((function n(e){var t,i,c,a,s,d,u,l,p,h,x,f,g,m,y,Z,v,O;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==an.length){n.next=3;break}return M((0,xe.mm)()),n.abrupt("return");case 3:for(t=e.createdAt,i=[],c=0;c<an.length;c++)a=an[c],s=a.code,d=a.name,u=a.orderQty,l=a.categories,p=a.price,h=a.netUnitValue,x=a.unitString,f=d.map((function(n){return{showText:n.showText,locale:n.locale}})),g={code:s,name:f,categories:l,orderQty:u,price:p,netUnitValue:h,unitString:x},i.push(g);return m=Ge.map((function(n){return n.code})),y=Xe.map((function(n){return n.code})),Z=(0,X.Z)((0,X.Z)((0,X.Z)((0,X.Z)({createdAt:new Date(t),products:i,customerAccountId:De,staffAccountId:re,managerAccountId:ie,directorAccountId:de,isPromotionPayment:V},!o&&{reachedPayImmediatelyCodes:m}),!o&&{relatePayLaterPromotionCodes:y}),o&&{isSpecialOrder:o}),o&&{specialDiscountValue:Number(j)}),M((0,fe.S$)()),n.next=12,Sn({variables:{data:Z}});case 12:if(v=n.sent,setTimeout((function(){M((0,fe.S4)())}),500),!v.data){n.next=24;break}if(localStorage.removeItem(_n.B),!r){n.next=23;break}return O=v.data.createOrder._id,n.next=20,r(O);case 20:M((0,xe.Ay)()),n.next=24;break;case 23:M((0,xe.mm)());case 24:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();yt=F.permissions.includes(Ze.gz.CAN_APPROVE_DEBT_FOR_ORDER)?(0,ve.jsxs)(se,{children:["D\u01af N\u1ee2:"," ",(0,ve.jsx)(Yn,{children:Ne})," \u0111"]}):(0,ve.jsxs)(te,{children:[(0,ve.jsx)(hn.Z,{label:"G\u1ecdi",onClick:function(){return jn(!0)}}),(0,ve.jsxs)(ce,{display:ct,ref:ot,children:[(0,ve.jsx)(ae,{onClick:function(){return window.open("tel:".concat(u),"_self")},children:"Hotline"}),(0,ve.jsx)(ae,{onClick:function(){return window.open("tel:".concat(Ue),"_self")},children:"Nh\xe2n vi\xean ph\u1ee5 tr\xe1ch"})]})]}),dt=(0,ve.jsxs)(ee,{children:[yt,(0,ve.jsx)(fn.Z,{label:"T\u1ea0O \u0110\u01a0N",width:"60%",onClick:Z(Zt)})]})}if(t){var vt=t._id,jt=t.isApprovedDebt,Ot=t.isApproved,Pt=t.isShippedOut,bt=t.isHandedOver,Et=t.isSpecialOrder,Ct=t.isCanceled,_t=t.isApprovedSpecialOrder,It=(0,ve.jsxs)(te,{children:[(0,ve.jsx)(hn.Z,{label:"G\u1ecdi",onClick:function(){return jn(!0)}}),(0,ve.jsxs)(oe,{display:ct,ref:ot,children:[(0,ve.jsx)(ae,{onClick:function(){return window.open("tel:".concat(u),"_self")},children:"Hotline"}),(0,ve.jsx)(ae,{onClick:function(){return window.open("tel:".concat(Ue),"_self")},children:"Nh\xe2n vi\xean ph\u1ee5 tr\xe1ch"})]})]}),kt=(0,ve.jsx)(fn.Z,{label:"OK",onClick:function(){return M((0,xe.mm)())}}),wt=(0,ve.jsxs)(ee,{children:[It,kt]}),St=function(){var n=(0,J.Z)((0,G.Z)().mark((function n(e){var t,r,i,o,c,a,s,d,u,l,p,h,x;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(M((0,fe.S$)()),t={orderId:vt},!e){n.next=38;break}r=(e||{}).isShippedOut,i=!0,o=0;case 6:if(!(o<an.length)){n.next=15;break}if(c=an[o],a=c.orderQty,s=c.stockQtyByShippedOutOrders,!(a>s)){n.next=12;break}return i=!1,n.abrupt("break",15);case 12:o++,n.next=6;break;case 15:if(!tt.length){n.next=27;break}d=0;case 17:if(!(d<tt.length)){n.next=27;break}if(u=tt[d],l=u.quantity,p=u.productInfo,h=(p||{}).stockQtyByShippedOutOrders,!(l>h)){n.next=24;break}return i=!1,n.abrupt("break",27);case 24:d++,n.next=17;break;case 27:if(!r||i){n.next=32;break}return M((0,fe.S4)()),x={title:"C\u1ea3nh b\xe1o xu\u1ea5t kho",children:(0,ve.jsx)(Ce,{})},M((0,xe.om)(x)),n.abrupt("return");case 32:return n.next=34,Dn({variables:{data:e,where:t}});case 34:n.sent.data&&(M((0,fe.S4)()),M((0,xe.mm)())),n.next=42;break;case 38:return n.next=40,Mn({variables:{where:t}});case 40:n.sent.data&&(M((0,fe.S4)()),M((0,xe.mm)()));case 42:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Tt=function(){var n=(0,J.Z)((0,G.Z)().mark((function n(){var e;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={orderId:vt},n.next=3,Bn({variables:{where:e}});case 3:n.sent.data&&M((0,xe.mm)());case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Rt=function(){var n=(0,J.Z)((0,G.Z)().mark((function n(){var e;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={orderId:vt},n.next=3,qn({variables:{where:e}});case 3:n.sent.data&&M((0,xe.mm)());case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();jt||(at="Ch\u1edd duy\u1ec7t c\xf4ng n\u1ee3",st=gt||mt,Be||Ve?dt=wt:ut?dt=(0,ve.jsxs)(ee,{children:[(0,ve.jsxs)(se,{children:["D\u01af N\u1ee2:"," ",(0,ve.jsx)(Yn,{children:Ne})," ","\u0111"]}),(0,ve.jsx)(fn.Z,{label:"Duy\u1ec7t",onClick:function(){return St({isApprovedDebt:!0})}})]}):Et&&!_t?(at="Ch\u1edd duy\u1ec7t \u0110\u01a1n \u0111\u1eb7c bi\u1ec7t",st=pt,dt=pt?(0,ve.jsx)(yn.default,{label:"Duy\u1ec7t",onClick:Tt}):null):dt=null),jt&&!Ot&&(at="Ch\u1edd x\xe1c nh\u1eadn",st=(gt||mt)&&!p,dt=Be||Ve?wt:lt&&!p?(0,ve.jsx)(yn.default,{label:"X\xe1c nh\u1eadn",onClick:function(){return St({isApproved:!0})}}):null),Ot&&!Pt&&(at="\u0110\xe3 x\xe1c nh\u1eadn, ch\u1edd xu\u1ea5t kho",st=mt&&!l,dt=ht&&!l?(0,ve.jsx)(yn.default,{label:"XU\u1ea4T KHO",onClick:function(){return St({isShippedOut:!0})}}):null),Pt&&!bt&&(at="\u0110\xe3 xu\u1ea5t kho, ch\u1edd giao",dt=xt&&!p?(0,ve.jsx)(yn.default,{label:"\u0110\xc3 GIAO",onClick:function(){return St()}}):null),bt&&(at="\u0110\xe3 nh\u1eadn h\xe0ng",dt=ft?(0,ve.jsxs)(ee,{children:[(0,ve.jsx)(hn.Z,{label:"\u0110\xd3NG L\u1ea0I",onClick:function(){return M((0,xe.mm)())}}),(0,ve.jsx)(fn.Z,{label:"Xo\xe1",onClick:Rt})]}):null),Ct&&(st=!1,at="\u0110\xe3 hu\u1ef7",dt=ft?(0,ve.jsxs)(ee,{children:[(0,ve.jsx)(hn.Z,{label:"\u0110\xd3NG L\u1ea0I",onClick:function(){return M((0,xe.mm)())}}),(0,ve.jsx)(fn.Z,{label:"Xo\xe1",onClick:Rt})]}):null)}var Dt=function(n){var e=n.customerDiaryInfo,t=n.orderCustomerDiaryInfo;return!e&&!t||w?(0,ve.jsx)(gn.Z,{discountPromotionItem:n}):(0,ve.jsx)(Cn.Z,{discountPromotionItem:n,customerDiaryInfo:e||t})},Nt=(0,ve.jsxs)(ve.Fragment,{children:[!!$e.length&&(0,ve.jsxs)(Jn,{margin:"50px 5px 0",children:["CKKM TR\u1ea2 SAU"," ",(0,ve.jsx)(he,{fontWeight:"400",children:"(li\xean quan \u0111\u1ebfn \u0111\u01a1n h\xe0ng)"}),":"]}),$e.map((function(n,e){return(0,ve.jsx)(en.Fragment,{children:Dt(n)},e)}))]});(0,en.useEffect)((function(){var n=function(n){ot.current&&!ot.current.contains(n.target)&&jn(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[ot]);var At=(0,vn.SB)(),Qt={orderItem:(0,X.Z)((0,X.Z)({},t),{},{promotionProducts:tt})||{createdAt:h,promotionProducts:tt,products:an},orderStatus:at,totalOrder:Je,orderDiscountValue:Re,discountMoneyValue:et,totalDiscountPromotionMoney:rt,totalHaveToPayValue:it,saleStaffInfo:I||Oe,customerInfo:E||En||{}};return(0,en.useEffect)((function(){var n=s({document:ye.Po,updateQuery:function(n,e){var t=e.subscriptionData;if(t)return{global:t.data.updatedGlobalData}}});return function(){return n()}}),[s]),(0,ve.jsxs)(Rn,{children:[!Ye&&(0,ve.jsxs)(mn.Z,{style:{padding:"15px 10px 15px"},children:[!!t&&(0,ve.jsxs)(Fn,{children:[(0,ve.jsx)(Vn,{children:(0,vn.dh)(_)}),(0,ve.jsx)(he,{fontStyle:"italic",fontSize:"13px",children:t.code})]}),(0,ve.jsxs)(Qn,{children:[(0,ve.jsx)(he,{width:"80px",children:"Kh\xe1ch h\xe0ng"}),": ",Ae," ","- S\u0110T: ",Me]}),(0,ve.jsxs)(Qn,{children:[(0,ve.jsx)(he,{width:"80px",children:"\u0110\u1ecba ch\u1ec9"}),": ",Qe]}),(0,ve.jsxs)(Qn,{children:[(0,ve.jsx)(he,{width:"80px",children:"Ph\u1ee5 tr\xe1ch"}),": ",Fe]}),t&&(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)("hr",{}),(0,ve.jsxs)(Fn,{style:{margin:0},children:[(0,ve.jsxs)(Qn,{children:[(0,ve.jsx)(he,{width:"80px",children:"Tr\u1ea1ng th\xe1i"}),":"," ",(0,ve.jsx)(Yn,{children:at})]}),!At&&(0,ve.jsx)(en.Suspense,{fallback:(0,ve.jsx)(un.default,{}),children:(0,ve.jsx)(be,{customerButtonMargin:"0",printOrderData:Qt})})]})]})]}),Ye&&(0,ve.jsx)(we,{errors:v,register:g,setValue:m,clearErrors:y,selectedCustomer:En,saleStaffFullName:Fe,setSelectedCustomer:In,isPayDiscountPromotion:V,setIsPayDiscountPromotion:Y,setOrderedProducts:sn,isSpecialOrderFromInput:o}),o&&!V&&(0,ve.jsx)(ln.Z,{style:{margin:"20px 5px 50px"},children:(0,ve.jsxs)(Nn,{children:[(0,ve.jsx)(pe,{fontWeight:"600",children:"Chi\u1ebft kh\u1ea5u \xe1p d\u1ee5ng:"}),(0,ve.jsx)(On.Z,{min:0,width:"80px",type:"number",textAlign:"right",register:g,name:"specialDiscountValue",isError:!!v.specialDiscountValue,validations:{min:0,max:100,required:o},errorMessage:"*\u22650% v\xe0 \u2264100%"}),(0,ve.jsx)("p",{children:"\u2002% B\u1ea3ng gi\xe1"})]})}),(0,ve.jsx)(Jn,{margin:"30px 5px 10px",children:"\u0110\u01a0N H\xc0NG G\u1ed2M:"}),(0,ve.jsxs)(ln.Z,{margin:"0 0 45px",children:[an.map((function(n,e){return(0,ve.jsx)(Ie,{orderId:P,itemIndex:e,productItem:n,viewerQuery:F,updateOrder:Dn,canUpdateOrder:st,isOrderApproved:T,orderedProducts:an,setOrderedProducts:sn},e)})),tt.map((function(n,e){return(0,ve.jsx)(Ie,{orderId:P,itemIndex:e,productItem:n,isPromotionProduct:!0,viewerQuery:F,updateOrder:Dn,canUpdateOrder:st,isOrderApproved:T,orderedProducts:an,setOrderedProducts:sn},e)})),H&&(0,ve.jsx)(ke,{orderId:P,updateOrder:Dn,orderedProductCodes:Le,orderedProducts:an,setOrderedProducts:sn,setIsAddingProduct:z,isPayDiscountPromotion:V}),st&&!H&&(0,ve.jsx)(pn.Z,{style:{marginLeft:10},label:"+ Th\xeam s\u1ea3n ph\u1ea9m",onClick:function(){return z(!0)}})]}),(0,ve.jsxs)(ln.Z,{style:{margin:"0 5px"},children:[!V&&!S&&(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsxs)(Fn,{children:[(0,ve.jsx)("p",{children:"C\u1ed9ng ti\u1ec1n"}),(0,ve.jsxs)(pe,{fontSize:"14px",fontWeight:"600",children:[null===(e=Je)||void 0===e?void 0:e.toLocaleString()," \u0111"]})]}),!!rt&&(0,ve.jsxs)(Fn,{children:[(0,ve.jsx)("p",{children:"Ti\u1ec1n t\u1eb7ng ngay"}),(0,ve.jsxs)("p",{children:[null===rt||void 0===rt?void 0:rt.toLocaleString()," \u0111"]})]}),(0,ve.jsxs)(Fn,{children:[(0,ve.jsxs)("p",{children:["CK tr\xean H\u0110 (",Re,"%)"]}),(0,ve.jsxs)("p",{children:[null===et||void 0===et?void 0:et.toLocaleString()," \u0111"]})]}),(0,ve.jsx)("hr",{})]}),(0,ve.jsxs)(Fn,{children:[(0,ve.jsx)(Vn,{children:"T\u1ed5ng thanh to\xe1n"}),(0,ve.jsxs)(Gn,{children:[null===it||void 0===it?void 0:it.toLocaleString()," ",(0,ve.jsx)(ne,{children:"\u0111"})]})]})]}),!w&&Nt,dt]})};Se.defaultProps={};var Te=Se}}]);