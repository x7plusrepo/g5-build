"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[7493],{7493:function(n,t,e){e.r(t),e.d(t,{default:function(){return fn}});var i,r,o,a,c,s,d,u,p,l,f,x,b,h,g,D,Z,P,m,v=e(1413),y=e(885),_=e(7313),w=e(3222),C=e(2668),E=e(4319),T=e(7830),U=e(2708),I=e(2669),O=e(2821),N=e(6173),A=e(6881),j=e(2206),S=e(6069),B=e(168),R=e(3115),k=e(1237),F=(0,R.F4)(i||(i=(0,B.Z)(["\n  0% {\n    left: -20px;\n    opacity: 0;\n  }\n  50% {\n    left: 50%;\n    opacity: 0.3;\n  }\n  100% {\n    left: 100%;\n    opacity: 0;\n  }\n"]))),M=R.ZP.div(r||(r=(0,B.Z)(["\n  font-size: 12px;\n  min-height: 100vh;\n  padding: 150px 0 50px;\n  display: ",";\n"])),(function(n){return n.isDisplay?"block":"none"})),z=R.ZP.div(o||(o=(0,B.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 7;\n  width: 100%;\n  display: flex;\n  position: fixed;\n  padding: 10px 10px;\n  margin: 0 0 10px 0;\n  align-items: center;\n  background-color: #fff;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  @media (min-width: 1200px) {\n    left: 25%;\n    width: 50%;\n  }\n"]))),H=R.ZP.div(a||(a=(0,B.Z)(["\n  width: 180px;\n  height: 120px;\n  border-radius: 10px;\n  margin: 0 70px 0 50px;\n  padding: 1px 1px 42px;\n  transform: scale(",");\n  box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 4px,\n    rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset;\n  @media (max-width: 991px) {\n    display: none;\n  }\n"])),(function(n){return n.scaleValue})),Y=R.ZP.img(c||(c=(0,B.Z)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 10px;\n"]))),W=R.ZP.div(s||(s=(0,B.Z)(["\n  position: relative;\n"]))),L=R.ZP.div(d||(d=(0,B.Z)(["\n  left: 0;\n  width: 40px;\n  height: 100%;\n  z-index: 12;\n  position: absolute;\n  transform: skew(20deg);\n  animation: "," 1.5s linear infinite;\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 0) 0%,\n    rgba(255, 255, 255, 0) 1%,\n    rgba(255, 255, 255, 1) 100%\n  );\n  border-left: 1px solid #fff;\n"])),F),V=R.ZP.div(u||(u=(0,B.Z)(["\n  left: -11px;\n  padding: 5px;\n  color: #f8f8f8;\n  font-size: 12px;\n  font-weight: 700;\n  text-align: center;\n  position: relative;\n  width: calc(100% + 22px);\n  text-shadow: 0px 1px 2px #cc6666;\n  background-color: ",";\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.55);\n"])),k.Z.primary),Q=R.ZP.div(p||(p=(0,B.Z)(["\n  top: -5px;\n  z-index: 1;\n  left: -11px;\n  position: absolute;\n  border-style: solid;\n  border-width: 5px 10px 0 0;\n  border-color: transparent #9b1724 transparent transparent;\n"]))),G=R.ZP.div(l||(l=(0,B.Z)(["\n  top: -5px;\n  z-index: 1;\n  right: -11px;\n  position: absolute;\n  border-style: solid;\n  border-width: 0 10px 5px 0;\n  border-color: transparent transparent #9b1724 transparent;\n"]))),K=R.ZP.div(f||(f=(0,B.Z)(["\n  font-size: 13px;\n  background: #fff;\n  margin: 10px 50px;\n  padding: 7px 10px;\n  border-radius: 5px;\n  width: calc(100% - 180px);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.5);\n  line-height: 1.5em;\n  color: #292929;\n  @media (max-width: 991px) {\n    width: 100%;\n    margin: 0 10px;\n  }\n"]))),X=R.ZP.h3(x||(x=(0,B.Z)(["\n  color: #fff;\n  padding: 0 10px;\n  font-size: 15px;\n  line-height: 24px;\n  font-weight: 700;\n  position: relative;\n  margin: 0 0 5px -12px;\n  border-radius: 0 3px 3px 0;\n  background: ",";\n  text-shadow: 0px 1px 2px #cc6666;\n  box-shadow: -1px 2px 3px rgba(0, 0, 0, 0.5);\n  &:before,\n  &:after {\n    position: absolute;\n    content: '';\n    display: block;\n  }\n  &:before {\n    width: 7px;\n    height: 130%;\n    padding: 0 0 5px;\n    top: 0;\n    left: -6px;\n    background: inherit;\n    border-radius: 5px 0 0 5px;\n  }\n  &:after {\n    width: 4px;\n    height: 4px;\n    background: rgba(0, 0, 0, 0.35);\n    bottom: -4px;\n    left: -3px;\n    border-radius: 5px 0 0 5px;\n    box-shadow: inset -1px 2px 2px rgba(0, 0, 0, 0.3);\n  }\n"])),k.Z.primary),$=R.ZP.div(b||(b=(0,B.Z)(["\n  display: flex;\n  align-items: center;\n"]))),q=R.ZP.img(h||(h=(0,B.Z)(["\n  width: 70px;\n  height: 50px;\n  display: none;\n  object-fit: cover;\n  margin: 0 15px 0 0;\n  @media (max-width: 991px) {\n    display: block;\n  }\n"]))),J=R.ZP.span(g||(g=(0,B.Z)(["\n  font-style: italic;\n  color: ",";\n"])),(function(n){return n.color})),nn=R.ZP.div(D||(D=(0,B.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),tn=R.ZP.div(Z||(Z=(0,B.Z)(["\n  & p,\n  span {\n    margin: 0 !important;\n    font-size: 12px !important;\n    line-height: 22px !important;\n    & p,\n    span {\n      background-color: transparent !important;\n    }\n  }\n"]))),en=R.ZP.div(P||(P=(0,B.Z)(["\n  display: flex;\n  margin: 15px auto;\n  width: fit-content;\n  justify-content: center;\n  border: solid 1px ",";\n"])),k.Z.primary),rn=R.ZP.div(m||(m=(0,B.Z)(["\n  cursor: pointer;\n  padding: 5px 10px;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),on=e(2153),an=e(7123),cn=e(3163),sn=e(3070),dn=e(6417),un=(0,_.lazy)((function(){return e.e(632).then(e.bind(e,632))})),pn=function(n){var t,e=n.notificationItem,i=n.notifications,r=n.countUnreadNotifications,o=n.setCountUnreadNotifications,a=e&&e.node||{},c=a._id,s=a.title,d=a.content,u=a.isRead,p=a.createdAt,l=d&&(null===(t=d[0])||void 0===t?void 0:t.showText)||"",f=u?k.Z.ferrariGoodTimeWhite:"#fff",x=u?k.Z.lightBlack:k.Z.secondary,b=function(){var n=(0,E.Z)(new Date,new Date(p));if(n<=60){if(n<=1)return"01 ph\xfat tr\u01b0\u1edbc";var t=n>9?n:"0".concat(n);return"".concat(t," ph\xfat tr\u01b0\u1edbc")}var e=Math.round(n/60);if(e<24)return"".concat(e," gi\u1edd tr\u01b0\u1edbc");var i=Math.round(e/24);return i<=3?"".concat(i," ng\xe0y tr\u01b0\u1edbc"):(0,S.dh)(p,!0)}(),h=(0,_.useRef)(null),g=(0,w.I0)();return(0,_.useEffect)((function(){var n=(0,S.zZ)(l,60);h.current&&(h.current.innerHTML=n)}),[i]),(0,dn.jsx)(T.Z,{style:{margin:20,backgroundColor:f},onClick:function(){var n={title:"Chi ti\u1ebft th\xf4ng b\xe1o",children:(0,dn.jsx)(_.Suspense,{fallback:(0,dn.jsx)(N.default,{}),children:(0,dn.jsx)(un,{notificationId:c})})};u||o(r&&r-1);g((0,on.dn)(n))},children:(0,dn.jsx)(U.Z,{children:(0,dn.jsxs)(O.Z,{children:[(0,dn.jsxs)(nn,{children:[(0,dn.jsx)(I.Z,{fontSize:12,fontWeight:700,children:(0,A.Z)(s)}),(0,dn.jsx)(J,{color:x,children:b})]}),(0,dn.jsx)(tn,{ref:h,backgroundColor:f})]})})})},ln=function(n){var t=n.isDisplay,e=n.countUnreadNotifications,i=n.setCountUnreadNotifications,r={code:"all",label:"T\u1ea5t c\u1ea3"},o=[r,{code:"system",label:"H\u1ec7 th\u1ed1ng"},{code:"news",label:"Tin g\u1eedi"}],a=(0,w.v9)((function(n){return n.authReducer})).viewerQuery||{},c=a._id,s=a.fullName,d=(0,_.useState)(r),u=(0,y.Z)(d,2),p=u[0],l=u[1],f=(0,_.useState)(1),x=(0,y.Z)(f,2),b=x[0],h=(x[1],"all"!==p.code?p.code:void 0),g=(0,v.Z)({},h&&{typeCode:h}),D=(0,C.a)(an.VZ,{variables:g}),Z=D.data,P=D.subscribeToMore,m=D.fetchMore,E=Z&&Z.notifications.edges||[],T=Z&&Z.notifications.pageInfo||{},U=T.hasNextPage,I=function(n){return n.code===p.code?{backgroundColor:k.Z.primary,textColor:"#fff"}:{backgroundColor:"transparent",textColor:""}};return(0,_.useEffect)((function(){var n=function(n){var t=document.getElementById(sn.pD.NOTIFICATIONS);(t&&t.getBoundingClientRect().bottom)<=window.innerHeight&&U&&m({variables:{cursor:T.endCursor},updateQuery:function(n,t){var e=t.fetchMoreResult;return(0,j.d0)("notifications",e,n)}})};return window.addEventListener("scroll",n),function(){return window.removeEventListener("scroll",n)}}),[U]),(0,_.useEffect)((function(){var n=function(n){var t=n||{},e=t.isForAllAccounts,i=t.beReceivedAccountIds;return!!e||(void 0===i?[]:i).includes(c)},t=P({document:cn.I4,updateQuery:function(t,e){var i=e.subscriptionData;return(0,j.FM)("notifications","addedNewNotification",i,t,n,!0)}});return function(){return t()}}),[P]),(0,dn.jsxs)(M,{isDisplay:t,id:sn.pD.NOTIFICATIONS,children:[(0,dn.jsxs)(z,{children:[(0,dn.jsxs)(H,{scaleValue:b,children:[(0,dn.jsx)(Y,{src:"https://picsum.photos/120/180",alt:"company-logo"}),(0,dn.jsxs)(W,{children:[(0,dn.jsx)(L,{}),(0,dn.jsx)(V,{children:"Company slogan"}),(0,dn.jsx)(Q,{}),(0,dn.jsx)(G,{})]})]}),(0,dn.jsxs)(K,{children:[(0,dn.jsxs)(X,{children:[(0,dn.jsx)(L,{}),"C\xf4ng ty TNHH Demo"]}),(0,dn.jsxs)($,{children:[(0,dn.jsx)(q,{src:"https://picsum.photos/180/180",alt:"company-logo"}),(0,dn.jsxs)("div",{children:[(0,dn.jsx)("p",{children:"Hotline: 0912 345 678"}),(0,dn.jsx)("p",{children:"\u0110\u1ecba ch\u1ec9: Abc"}),(0,dn.jsxs)("p",{children:["T\xe0i kho\u1ea3n: ",s]})]})]})]})]}),(0,dn.jsx)(en,{children:o.map((function(n,t){return(0,dn.jsx)(rn,{activeColor:I(n),onClick:function(){return l(n)},borderLeftColor:t>0?k.Z.primary:"transparent",children:n.label},t)}))}),E.map((function(n,t){return(0,dn.jsx)(pn,{notifications:E,notificationItem:n,countUnreadNotifications:e,setCountUnreadNotifications:i},t)}))]})};ln.defaultProps={};var fn=ln},3163:function(n,t,e){e.d(t,{Fb:function(){return E},I4:function(){return v},PP:function(){return T},VL:function(){return C},hv:function(){return y},uB:function(){return _},uF:function(){return w}});var i,r,o,a,c,s,d,u,p,l,f,x,b,h,g,D,Z=e(168),P=e(9237),m=e(9384),v=(0,P.Ps)(i||(i=(0,Z.Z)(["\n  subscription SUB_ADDED_NOTIFICATION {\n    addedNewNotification {\n      ...basicNotificationFields\n    }\n  }\n  ","\n"])),m.Y4),y=(0,P.Ps)(r||(r=(0,Z.Z)(["\n  subscription SUB_ADDED_ORDER {\n    addedNewOrder {\n      ...basicOrderFields\n    }\n  }\n  ","\n"])),m.dL),_=(0,P.Ps)(o||(o=(0,Z.Z)(["\n  subscription SUB_UPDATED_ORDER {\n    updatedAnOrder {\n      ...basicOrderFields\n    }\n  }\n  ","\n"])),m.dL),w=(0,P.Ps)(a||(a=(0,Z.Z)(["\n  subscription SUB_ADDED_DISCOUNT_PROMOTION {\n    addedNewDiscountPromotion {\n      ...basicDiscountPromotionFields\n      customerDiaryInfo {\n        diaryCount\n        diaryInfo {\n          ...basicDiscountPromotionDiaryFields\n        }\n        totalBePaidMoneyValue\n      }\n    }\n  }\n  ","\n  ","\n"])),m.MM,m.xC),C=((0,P.Ps)(c||(c=(0,Z.Z)(["\n  subscription SUB_UPDATED_DISCOUNT_PROMOTION {\n    updatedDiscountPromotion {\n      ...basicDiscountPromotionFields\n    }\n  }\n  ","\n"])),m.MM),(0,P.Ps)(s||(s=(0,Z.Z)(["\n  subscription SUB_ADDED_DISCOUNT_PROMOTION_DIARY {\n    addedNewDiscountPromotionDiary {\n      ...basicDiscountPromotionDiaryFields\n    }\n  }\n  ","\n"])),m.xC)),E=((0,P.Ps)(d||(d=(0,Z.Z)(["\n  subscription SUB_UPDATED_DISCOUNT_PROMOTION_DIARY {\n    updatedDiscountPromotionDiary {\n      ...basicDiscountPromotionDiaryFields\n    }\n  }\n  ","\n"])),m.xC),(0,P.Ps)(u||(u=(0,Z.Z)(["\n  subscription SUB_ADDED_DEBT {\n    addedNewDebt {\n      ...basicDebtFields\n    }\n  }\n  ","\n"])),m.l3)),T=((0,P.Ps)(p||(p=(0,Z.Z)(["\n  subscription SUB_UPDATED_DEBT {\n    updatedDebt {\n      ...basicDebtFields\n    }\n  }\n  ","\n"])),m.l3),(0,P.Ps)(l||(l=(0,Z.Z)(["\n  subscription SUB_ADDED_PRODUCT {\n    addedNewProduct {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),m.UW));(0,P.Ps)(f||(f=(0,Z.Z)(["\n  subscription SUB_UPDATED_PRODUCT {\n    updatedProduct {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),m.UW),(0,P.Ps)(x||(x=(0,Z.Z)(["\n  subscription SUB_IMPORTED_PRODUCTS {\n    importedProducts {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),m.UW),(0,P.Ps)(b||(b=(0,Z.Z)(["\n  subscription SUB_DESTROYED_PRODUCT {\n    destroyedProduct {\n      ...basicDestroyedProductFields\n    }\n  }\n  ","\n"])),m.zY),(0,P.Ps)(h||(h=(0,Z.Z)(["\n  subscription SUB_UPDATED_DESTROYED_PRODUCT {\n    updatedDestroyedProduct {\n      ...basicDestroyedProductFields\n    }\n  }\n  ","\n"])),m.zY),(0,P.Ps)(g||(g=(0,Z.Z)(["\n  subscription SUB_ADDED_WAREHOUSE_BALANCE {\n    addedWarehouseBalance {\n      ...basicWarehouseBalanceFields\n    }\n  }\n  ","\n"])),m.ms),(0,P.Ps)(D||(D=(0,Z.Z)(["\n  subscription SUB_ADDED_WAREHOUSE_BALANCE_DIARY {\n    addedWarehouseBalanceDiary {\n      ...basicWarehouseBalanceDiaryFields\n    }\n  }\n  ","\n"])),m.lH)},6881:function(n,t,e){var i=e(2163);t.Z=function(n){if(Array.isArray(n)){var t,e=n||[],r=i.t.getState().commonReducer,o=r&&(null===(t=r.activeLanguage)||void 0===t?void 0:t.locale)||"vi";return(e.find((function(n){return n&&n.locale===o}))||{}).showText||""}return""}},6069:function(n,t,e){e.d(t,{RX:function(){return a},dh:function(){return o},tO:function(){return r},zZ:function(){return c}});var i=e(3070),r=function(n,t){if(t){for(var e=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,r=e.length;i<r;++i){var o=e[i];if(!(o in n))return;n=n[o]}return n}},o=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=new Date(n),i=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),a=e.getHours(),c=e.getMinutes();return o=o<10?"0"+o:o,r=r<10?"0"+r:r,a=a<10?"0"+a:a,c=c<10?"0"+c:c,t?"".concat(o,"/").concat(r,"/").concat(i," - ").concat(a,":").concat(c):"".concat(o,"/").concat(r,"/").concat(i)},a=function(n,t,e){switch(n){case i.rh.MONEY_ACHIEVE_TYPE:return{unit:"\u0111",type:"Ti\u1ec1n mua"};case i.rh.QUANTITY_ACHIEVE_TYPE:return{unit:"SP",type:"S\u1ed1 l\u01b0\u1ee3ng"};case i.rh.WEIGHT_ACHIEVE_TYPE:return{unit:e,type:"Kh\u1ed1i l\u01b0\u1ee3ng"}}},c=function(n,t){return isNaN(t)?n:"string"===typeof n?n.split(" ").slice(0,parseInt(t,10)).join(" "):n}},2206:function(n,t,e){e.d(t,{FM:function(){return a},d0:function(){return o}});var i=e(4942),r=e(2982);function o(n,t,e){var o=t[n],a=o.edges,c=o.pageInfo;return a.length?(0,i.Z)({},n,{__typename:e[n].__typename,edges:[].concat((0,r.Z)(e[n].edges),(0,r.Z)(a)),pageInfo:c}):e}function a(n,t,e,o,a,c,s){var d=o[n],u=d.edges,p=d.pageInfo,l=[],f=!1;if(e.data){var x=e.data[t],b={node:x},h=!a||a(x);f=h,h&&(l=s?s(u,x):c?[b].concat((0,r.Z)(u)):[].concat((0,r.Z)(u),[b]))}return f?(0,i.Z)({},n,{__typename:o[n].__typename,edges:l,pageInfo:p}):o}}}]);