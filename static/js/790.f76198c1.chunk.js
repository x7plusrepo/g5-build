"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[790],{790:function(t,r,n){n.d(r,{D:function(){return d}});var e=n(6797),o=n(7313),u=n(345),i=n(3301),l=n(8112),a=n(4624),c=n(1511);function d(t,r){var n=(0,c.x)(null===r||void 0===r?void 0:r.client);(0,l.Vp)(t,l.n_.Mutation);var d=(0,o.useState)({called:!1,loading:!1,client:n}),s=d[0],v=d[1],p=(0,o.useRef)({result:s,mutationId:0,isMounted:!0,client:n,mutation:t,options:r});Object.assign(p.current,{client:n,options:r,mutation:t});var f=(0,o.useCallback)((function(t){void 0===t&&(t={});var r=p.current,n=r.client,o=r.options,l=r.mutation,c=(0,e.pi)((0,e.pi)({},o),{mutation:l});p.current.result.loading||c.ignoreResults||!p.current.isMounted||v(p.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:n});var d=++p.current.mutationId,s=(0,u.J)(c,t);return n.mutate(s).then((function(r){var e,o,u,l=r.data,c=r.errors,f=c&&c.length>0?new a.c({graphQLErrors:c}):void 0;if(d===p.current.mutationId&&!s.ignoreResults){var g={called:!0,loading:!1,data:l,error:f,client:n};p.current.isMounted&&!(0,i.D)(p.current.result,g)&&v(p.current.result=g)}return null===(o=null===(e=p.current.options)||void 0===e?void 0:e.onCompleted)||void 0===o||o.call(e,r.data,s),null===(u=t.onCompleted)||void 0===u||u.call(t,r.data,s),r})).catch((function(r){var e,o,u,l;if(d===p.current.mutationId&&p.current.isMounted){var a={loading:!1,error:r,data:void 0,called:!0,client:n};(0,i.D)(p.current.result,a)||v(p.current.result=a)}if((null===(e=p.current.options)||void 0===e?void 0:e.onError)||s.onError)return null===(u=null===(o=p.current.options)||void 0===o?void 0:o.onError)||void 0===u||u.call(o,r,s),null===(l=t.onError)||void 0===l||l.call(t,r,s),{data:void 0,errors:r};throw r}))}),[]),g=(0,o.useCallback)((function(){p.current.isMounted&&v({called:!1,loading:!1,client:n})}),[]);return(0,o.useEffect)((function(){return p.current.isMounted=!0,function(){p.current.isMounted=!1}}),[]),[f,(0,e.pi)({reset:g},s)]}}}]);