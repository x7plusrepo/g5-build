"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[3862],{2262:function(n,e,t){t.d(e,{Z:function(){return d}});var r,i=t(1413),o=(t(7313),t(168)),l=t(3115),s=t(1237),a=l.ZP.button(r||(r=(0,o.Z)(["\n  border: none;\n  font-size: 12px;\n  cursor: pointer;\n  border-radius: 5px;\n  height: fit-content;\n  color: ",";\n  margin: ",";\n  padding: ",";\n  font-weight: ",";\n  background-color: ",";\n"])),s.Z.black,(function(n){return n.margin}),(function(n){return n.padding}),(function(n){return n.fontWeight}),(function(n){return n.bgColor?n.bgColor:s.Z.secondary})),u=t(6417),c=function(n){var e=n.label;return(0,u.jsx)(a,(0,i.Z)((0,i.Z)({},n),{},{children:e}))};c.defaultProps={label:"N\xfat b\u1ea5m",onClick:function(){},margin:"5px",padding:"3px 7px"};var d=c},7062:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var r,i,o,l,s,a,u,c=t(885),d=t(2982),g=t(7313),h=t(2790),f=t.n(h),x=t(5627),p=(t(6069),t(1359)),v=t(4641),m=function(){var n=(0,g.useState)(!1),e=(0,c.Z)(n,2),t=e[0],r=e[1],i=(0,g.useState)([]),o=(0,c.Z)(i,2),l=o[0],s=o[1],a=function(n){var e,t,i=null===n||void 0===n||null===(e=n.coords)||void 0===e?void 0:e.latitude,o=null===n||void 0===n||null===(t=n.coords)||void 0===t?void 0:t.longitude,l="https://rsapi.goong.io/Geocode?latlng=".concat(i,",").concat(o,"&api_key=quhmmkZwSmXStActFm3t9poJjOR5EE5jXygR2pt7");fetch(l).then((function(n){return n.json()})).then((function(n){var e=n||{},t=e.status,i=e.results;"OK"===t&&(r(!1),s(i||[]))})).catch((function(n){return r(!1)}))};return{isLoading:t,reversedAddress:l,getCurrentLocation:function(){var n;null!==(n=navigator)&&void 0!==n&&n.geolocation&&(r(!0),navigator.geolocation.getCurrentPosition(a))}}},Z=t(1677),j=t(2262),b=t(5222),k=t(6947),C=t(3070),w=t(168),P=t(3115),S=t(7648),y=t(1237),I=P.ZP.div(r||(r=(0,w.Z)(["\n  font-size: 12px;\n  padding: 0 5px 120px;\n"]))),E=P.ZP.div(i||(i=(0,w.Z)(["\n  display: flex;\n  align-items: ",";\n"])),(function(n){return n.alignItems||"center"})),F=P.ZP.p(o||(o=(0,w.Z)(["\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width}),(function(n){return n.margin})),T=P.ZP.p(l||(l=(0,w.Z)(["\n  font-weight: 600;\n  margin: ",";\n"])),(function(n){return n.margin})),L=P.ZP.textarea(s||(s=(0,w.Z)(["\n  width: 100%;\n  height: 50px;\n  padding: 5px;\n  margin: 10px 0 0;\n  border-radius: 5px;\n  border: 1px solid ",";\n  &:focus-visible {\n    outline: none;\n  }\n"])),y.Z.rgbaGray),R=(P.ZP.div(a||(a=(0,w.Z)(["\n  background-color: #000;\n  height: 300px;\n"]))),(0,P.ZP)(S.Z)(u||(u=(0,w.Z)(["\n  cursor: pointer;\n  color: ",";\n"])),y.Z.brightBlue),t(6417)),q=(0,g.lazy)((function(){return t.e(9146).then(t.bind(t,9146))})),z=(0,g.lazy)((function(){return Promise.all([t.e(4660),t.e(9203)]).then(t.bind(t,9436))})),A=function(n){var e=n.isDisplay,t=n.tookImages,r=n.setTookImages,i=n.setIsTakingPhotos,o=g.useRef(null),l=g.useCallback((function(){var n,e=null===o||void 0===o||null===(n=o.current)||void 0===n?void 0:n.getScreenshot();r([e].concat((0,d.Z)(t)))}),[o,null===t||void 0===t?void 0:t.length,r]);return(0,g.useEffect)((function(){var n,e;null!==o&&void 0!==o&&o.current&&(null===(n=o.current)||void 0===n||n.play(),null===(e=o.current)||void 0===e||e.setAttribute("crossorigin","true"))}),[]),e?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f(),{width:350,height:350,audio:!1,ref:o,screenshotFormat:"image/jpeg"}),(0,R.jsx)(Z.Z,{label:"Ch\u1ee5p \u1ea3nh",onClick:l}),(0,R.jsx)(j.Z,{label:"Xong",onClick:function(){return i(!1)}})]}):null},O=function(n){var e,t=(0,x.cI)({defaultValues:{}}),r=t.register,i=t.handleSubmit,o=t.formState.errors,l="images",s="customer",a=g.useState([]),u=(0,c.Z)(a,2),d=u[0],h=u[1],f=(0,g.useState)(!1),j=(0,c.Z)(f,2),w=j[0],P=j[1],S=(0,g.useState)(null),y=(0,c.Z)(S,2),O=y[0],_=y[1],D=m(),K=D.reversedAddress,M=D.getCurrentLocation,N=D.isLoading,X=(null===(e=K[0])||void 0===e?void 0:e.formatted_address)||null,G=(O||{}).fullName;r(l,{required:!d.length}),r(s,{required:!O}),r("location",{required:!X});var B=O?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(F,{width:"70px",children:"Kh\xe1ch h\xe0ng"}),(0,R.jsxs)(T,{children:[": ",G]}),(0,R.jsx)(Z.Z,{label:"\u0110\u1ed5i",onClick:function(){return _(null)}})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(F,{width:"80px",children:"Kh\xe1ch h\xe0ng :"}),(0,R.jsx)(p.Z,{width:"90%",isSelectOne:!0,roles:[C.If.CUSTOMER],isError:!!o.customer,onClickSelectResultItem:function(n){_(null===n||void 0===n?void 0:n.node)}})]}),H=X?(0,R.jsxs)(R.Fragment,{children:[X,(0,R.jsx)(Z.Z,{label:"C\u1eadp nh\u1eadt",onClick:M})]}):N?"\u0110ang l\u1ea5y v\u1ecb tr\xed...":(0,R.jsx)(v.Z,{margin:"0",label:"L\u1ea5y v\u1ecb tr\xed hi\u1ec7n t\u1ea1i",disabled:N,onClick:M}),J=!!o.images&&!X;return(0,R.jsxs)(I,{children:[(0,R.jsxs)(b.Z,{children:[(0,R.jsx)(E,{children:B}),(0,R.jsxs)(E,{alignItems:"flex-start",children:[(0,R.jsx)(F,{width:"70px",children:"\u0110\u1ecba \u0111i\u1ec3m"}),(0,R.jsxs)("div",{style:{width:"85%"},children:[(0,R.jsxs)(F,{children:[": ",H]}),(0,R.jsx)(k.Z,{isError:J,margin:"0 5px"})]})]}),(0,R.jsx)(L,{placeholder:"Nh\u1eadp n\u1ed9i dung \u0111\xe3 trao \u0111\u1ed5i v\u1edbi kh\xe1ch h\xe0ng..."}),!w&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Z.Z,{label:"+ Th\xeam \u1ea3nh",onClick:function(){return P(!0)}}),(0,R.jsx)(k.Z,{isError:!!o.images})]}),(0,R.jsx)(A,{tookImages:d,isDisplay:w,setTookImages:h,setIsTakingPhotos:P}),(0,R.jsx)(g.Suspense,{fallback:null,children:(0,R.jsx)(z,{mediaData:d})})]}),(0,R.jsx)(q,{label:"TH\xcaM M\u1edaI",onClick:i((function(n){}))})]})};O.defaultProps={};var _=O}}]);