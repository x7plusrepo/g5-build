"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[6853,5414],{7851:function(n,r,t){t.d(r,{Z:function(){return f}});var e,i,o=t(1413),a=t(5987),c=(t(7313),t(168)),p=t(3115),s=t(1237),u=p.ZP.div(e||(e=(0,c.Z)(["\n  font-size: 12px;\n  margin: ",";\n"])),(function(n){return n.margin})),d=p.ZP.input(i||(i=(0,c.Z)(["\n  width: 100%;\n  padding: 10px 20px;\n  border-radius: 20px;\n  border: 1px solid ",";\n  &:focus {\n    outline: none;\n  }\n"])),s.Z.secondary),l=t(6417),x=["margin"],h=function(n){var r=n.margin,t=(0,a.Z)(n,x);return(0,l.jsx)(u,{margin:r,children:(0,l.jsx)(d,(0,o.Z)({},t))})};h.defaultProps={margin:"10px 0 20px",placeholder:"Nh\u1eadp d\u1eef li\u1ec7u \u0111\u1ec3 t\xecm ki\u1ebfm..."};var f=h},6853:function(n,r,t){t.r(r),t.d(r,{default:function(){return xn}});var e,i,o,a,c,p,s,u,d,l,x,h,f,g,m,v,Z,b,y,j,w=t(2982),P=t(1413),C=t(4165),E=t(5861),k=t(885),S=t(7313),R=t(3222),z=t(790),N=t(2668),I=t(5414),A=t(6618),O=t(6173),_=t(4641),T=t(6881),W=t(6069),B=t(7851),U=t(168),D=t(3115),L=t(1237),M=D.ZP.div(e||(e=(0,U.Z)(["\n  font-size: 12px;\n  padding: 40px 5px 120px;\n"]))),H=(D.ZP.div(i||(i=(0,U.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),D.ZP.div(o||(o=(0,U.Z)(["\n  margin: 0 5px;\n  text-align: right;\n"])))),V=(D.ZP.div(a||(a=(0,U.Z)(["\n  display: flex;\n  margin: 15px auto;\n  width: fit-content;\n  justify-content: center;\n  border: solid 1px ",";\n"])),L.Z.primary),D.ZP.div(c||(c=(0,U.Z)(["\n  padding: 5px 10px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),D.ZP.div(p||(p=(0,U.Z)(["\n  margin: 10px 0;\n  position: relative;\n  border-radius: 4px;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"])))),Q=D.ZP.div(s||(s=(0,U.Z)(["\n  width: 50px;\n  height: 40px;\n  display: flex;\n  margin: 0 7px 0 0;\n  align-items: center;\n  & > img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"]))),Y=D.ZP.div(u||(u=(0,U.Z)(["\n  cursor: pointer;\n"]))),G=(D.ZP.div(d||(d=(0,U.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgb(0 0 0 / 12%);\n"]))),D.ZP.p(l||(l=(0,U.Z)(["\n  width: 90%;\n  font-weight: 700;\n"])))),X=D.ZP.div(x||(x=(0,U.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),q=(D.ZP.div(h||(h=(0,U.Z)(["\n  text-align: center;\n  width: ","%;\n"])),100/3),D.ZP.p(f||(f=(0,U.Z)(["\n  margin: 0 0 5px;\n"]))),D.ZP.span(g||(g=(0,U.Z)(["\n  color: #fff;\n  padding: 3px 5px;\n  font-size: 12px;\n  border-radius: 5px;\n  background-color: ",";\n"])),(function(n){return n.backgroundColor})),D.ZP.div(m||(m=(0,U.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),D.ZP.p(v||(v=(0,U.Z)(["\n  width: 75px;\n  font-size: 13px;\n  font-weight: 700;\n  text-align: right;\n  border-radius: 5px;\n  color: ",";\n"])),L.Z.primary)),J=D.ZP.div(Z||(Z=(0,U.Z)(["\n  top: 0;\n  right: 5px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),K=D.ZP.div(b||(b=(0,U.Z)(["\n  top: 20px;\n  z-index: 7;\n  right: 10px;\n  cursor: pointer;\n  padding: 5px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),F=D.ZP.p(y||(y=(0,U.Z)(["\n  padding: 5px;\n  font-size: 12px;\n  &:hover {\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  }\n  &:nth-child(3): {\n    color: red;\n  }\n"]))),$=(D.ZP.p(j||(j=(0,U.Z)(["\n  font-size: 25px;\n  cursor: pointer;\n"]))),t(2153)),nn=t(3454),rn=t(7123),tn=t(3070),en=t(7119),on=t(6417),an=(0,S.lazy)((function(){return t.e(6780).then(t.bind(t,6780))})),cn=(0,S.lazy)((function(){return Promise.all([t.e(3788),t.e(2180)]).then(t.bind(t,3788))})),pn=(0,S.lazy)((function(){return Promise.all([t.e(7155),t.e(9724)]).then(t.bind(t,9724))})),sn=(0,S.lazy)((function(){return Promise.all([t.e(653),t.e(4585)]).then(t.bind(t,653))})),un=(0,S.lazy)((function(){return Promise.all([t.e(7155),t.e(2183)]).then(t.bind(t,2183))})),dn=function(n){var r=n.productItem,t=n.tabCode,e=r||{},i=e.productCode,o=e.productName,a=e.stockQtyByShippedOutOrders,c=e.netUnitValue,p=e.unitString,s=e.orderNumber,u=e.expirationDate,d=e.productInfo||{},l=d._id,x=d.imgUri,h=d.price,f=1===s,g=((0,R.v9)((function(n){return n.authReducer})).viewerQuery||{}).permissions.includes(en.gz.CAN_VIEW_PRODUCT_EXPIRATION_DATE),m=(0,z.D)(nn.EJ,{refetchQueries:[{query:rn.ze},"GET_WAREHOUSE_INVENTORY"]}),v=(0,k.Z)(m,1)[0],Z=(0,z.D)(nn.u7,{refetchQueries:[{query:rn.ze},"GET_WAREHOUSE_INVENTORY"]}),b=(0,k.Z)(Z,1)[0],y=g?" - HSD: ".concat((0,W.dh)(u)):"",j="inventory"===t?"".concat(h&&h.toLocaleString(),"\u0111/").concat(c).concat(p):"".concat(c).concat(p).concat(y),w=(0,R.I0)(),N=(0,S.useRef)(null),_=(0,S.useState)(!1),B=(0,k.Z)(_,2),U=B[0],D=B[1],L=U?"block":"none",M=function(){var n=(0,E.Z)((0,C.Z)().mark((function n(){var r;return(0,C.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={productId:l},n.next=3,v({variables:{where:r}});case 3:D(!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),H=function(){var n=(0,E.Z)((0,C.Z)().mark((function n(){var r;return(0,C.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={productId:l},n.next=3,b({variables:{where:r}});case 3:D(!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),tn=(0,on.jsxs)(K,{display:L,ref:N,children:[!f&&(0,on.jsx)(F,{onClick:M,children:"\ud83d\udd1d L\xean top"}),(0,on.jsx)(F,{onClick:function(){var n={title:"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m",children:(0,on.jsx)(S.Suspense,{fallback:(0,on.jsx)(O.default,{}),children:(0,on.jsx)(un,{productItem:r})})};w((0,$.dn)(n))},children:"\u270e S\u1eeda"}),(0,on.jsx)(F,{onClick:H,children:"\ud83d\uddd1 Xo\xe1"})]});return(0,S.useEffect)((function(){var n=function(n){N.current&&!N.current.contains(n.target)&&D(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[N]),(0,on.jsxs)(V,{children:[(0,on.jsx)(J,{onClick:function(){return D(!U)},children:(0,on.jsx)(A.Z,{})}),tn,(0,on.jsx)(Y,{onClick:function(){var n=(0,P.Z)((0,P.Z)({},r),{},{imgUri:x}),t={title:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m",children:(0,on.jsx)(S.Suspense,{fallback:(0,on.jsx)(O.default,{}),children:(0,on.jsx)(an,{productItem:n})})};w((0,$.dn)(t))},children:(0,on.jsxs)(X,{children:[(0,on.jsx)(Q,{children:(0,on.jsx)("img",{src:x,alt:"product-img"})}),(0,on.jsxs)("div",{style:{width:"100%"},children:[(0,on.jsxs)(X,{children:[(0,on.jsxs)(G,{children:[i," - ",(0,T.Z)(o)]}),(0,on.jsx)(q,{children:(a||0).toLocaleString()})]}),(0,on.jsxs)(X,{children:[(0,on.jsx)(I.Z,{fontSize:12,fontStyle:"italic",children:j}),g&&(0,on.jsx)("p",{style:{fontWeight:700},children:(0,W.dh)(u)})]})]})]})})]})},ln=function(n){var r=n.tabCode,t=n.inventoryProducts,e=[],i=t.map((function(n,t){var i=n.productCode,o=n.stockQtyByShippedOutOrders,a=!0,c=e.findIndex((function(n){return n===i}));return-1===c?e=[].concat((0,w.Z)(e),[i]):0===o&&-1!==c&&(a=!1),a?(0,on.jsx)(dn,{itemIndex:t,tabCode:r,productItem:n},t):null}));return(0,on.jsx)(on.Fragment,{children:i})},xn=function(n){var r=n.tabCode,t=n.isDisplay,e=(0,S.useState)(""),i=(0,k.Z)(e,2),o=i[0],a=i[1],c=(0,N.a)(rn.ze,{variables:{filter:{text:o}},fetchPolicy:"cache-and-network",skip:!t}).data,p=c&&c.warehouseInventory||[],s=(0,R.I0)(),u=((0,R.v9)((function(n){return n.authReducer})).viewerQuery||{}).permissions,d=void 0===u?[]:u,l=en.gz.CRUD_PRODUCT,x=en.gz.IMPORT_RETURN_PRODUCT,h=en.gz.CAN_EXCUTE_WAREHOUSE_BALANCE,f=en.gz.CAN_VIEW_WAREHOUSE_BALANCE_DIARIES,g=d.includes(h),m=d.includes(f),v=d.includes(l),Z=d.includes(x);return(0,S.useEffect)((function(){var n=function(n){var r=document.getElementById(tn.pD.WAREHOUSE.INVENTORY);r&&r.getBoundingClientRect().bottom,window.innerHeight};return window.addEventListener("scroll",n),function(){return window.removeEventListener("scroll",n)}}),[]),(0,on.jsxs)(M,{id:tn.pD.WAREHOUSE.INVENTORY,children:[(0,on.jsxs)(H,{children:[Z&&(0,on.jsx)(_.Z,{label:"+ Nh\u1eadp l\u1ea1i h\xe0ng",style:{margin:"0 10px 10px 0"},onClick:function(){var n={title:"Nh\u1eadp l\u1ea1i h\xe0ng",children:(0,on.jsx)(S.Suspense,{fallback:(0,on.jsx)(O.default,{}),children:(0,on.jsx)(cn,{})})};s((0,$.dn)(n))}}),v&&(0,on.jsx)(_.Z,{label:"+ S\u1ea3n ph\u1ea9m m\u1edbi",onClick:function(){var n={title:"Th\xeam s\u1ea3n ph\u1ea9m m\u1edbi",children:(0,on.jsx)(S.Suspense,{fallback:(0,on.jsx)(O.default,{}),children:(0,on.jsx)(pn,{})})};s((0,$.dn)(n))}}),g&&!m&&(0,on.jsx)(_.Z,{label:"+ Ki\u1ec3m kho",style:{margin:"0 0 0 10px"},onClick:function(){var n={title:"Ki\u1ec3m kho",children:(0,on.jsx)(S.Suspense,{fallback:(0,on.jsx)(O.default,{}),children:(0,on.jsx)(sn,{})})};s((0,$.dn)(n))}})]}),(0,on.jsx)(B.Z,{onChange:function(n){return a(n.target.value)},placeholder:"Nh\u1eadp t\xean/m\xe3 \u0111\u1ec3 t\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m"}),(0,on.jsx)(ln,{tabCode:r,inventoryProducts:p})]})}},6881:function(n,r,t){var e=t(2101);r.Z=function(n){if(Array.isArray(n)){var r,t=n||[],i=e.t.getState().commonReducer,o=i&&(null===(r=i.activeLanguage)||void 0===r?void 0:r.locale)||"vi";return(t.find((function(n){return n&&n.locale===o}))||{}).showText||""}return""}},6618:function(n,r,t){var e=t(4836);r.Z=void 0;var i=e(t(5045)),o=t(6417),a=(0,i.default)((0,o.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");r.Z=a},5414:function(n,r,t){t.d(r,{Z:function(){return P}});var e=t(3366),i=t(7462),o=t(7313),a=t(3061),c=t(2982),p=t(3019),s=t(3103),u=["sx"];function d(n){var r,t=n.sx,o=function(n){var r={systemProps:{},otherProps:{}};return Object.keys(n).forEach((function(t){s.Gc[t]?r.systemProps[t]=n[t]:r.otherProps[t]=n[t]})),r}((0,e.Z)(n,u)),a=o.systemProps,d=o.otherProps;return r=Array.isArray(t)?[a].concat((0,c.Z)(t)):"function"===typeof t?function(){var n=t.apply(void 0,arguments);return(0,p.P)(n)?(0,i.Z)({},a,n):a}:(0,i.Z)({},a,t),(0,i.Z)({},d,{sx:r})}var l=t(1921),x=t(6749),h=t(3729),f=t(8170),g=t(7430),m=t(2298);function v(n){return(0,m.Z)("MuiTypography",n)}(0,g.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Z=t(6417),b=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],y=(0,x.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(n,r){var t=n.ownerState;return[r.root,t.variant&&r[t.variant],"inherit"!==t.align&&r["align".concat((0,f.Z)(t.align))],t.noWrap&&r.noWrap,t.gutterBottom&&r.gutterBottom,t.paragraph&&r.paragraph]}})((function(n){var r=n.theme,t=n.ownerState;return(0,i.Z)({margin:0},t.variant&&r.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})})),j={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},w={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},P=o.forwardRef((function(n,r){var t=(0,h.Z)({props:n,name:"MuiTypography"}),o=function(n){return w[n]||n}(t.color),c=d((0,i.Z)({},t,{color:o})),p=c.align,s=void 0===p?"inherit":p,u=c.className,x=c.component,g=c.gutterBottom,m=void 0!==g&&g,P=c.noWrap,C=void 0!==P&&P,E=c.paragraph,k=void 0!==E&&E,S=c.variant,R=void 0===S?"body1":S,z=c.variantMapping,N=void 0===z?j:z,I=(0,e.Z)(c,b),A=(0,i.Z)({},c,{align:s,color:o,className:u,component:x,gutterBottom:m,noWrap:C,paragraph:k,variant:R,variantMapping:N}),O=x||(k?"p":N[R]||j[R])||"span",_=function(n){var r=n.align,t=n.gutterBottom,e=n.noWrap,i=n.paragraph,o=n.variant,a=n.classes,c={root:["root",o,"inherit"!==n.align&&"align".concat((0,f.Z)(r)),t&&"gutterBottom",e&&"noWrap",i&&"paragraph"]};return(0,l.Z)(c,v,a)}(A);return(0,Z.jsx)(y,(0,i.Z)({as:O,ref:r,ownerState:A,className:(0,a.Z)(_.root,u)},I))}))}}]);