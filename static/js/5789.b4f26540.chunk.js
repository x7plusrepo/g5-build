"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[5789,4641],{4214:function(n,e,r){r.d(e,{Z:function(){return u}});var t,i=r(1413),o=(r(7313),r(168)),s=r(3115),d=r(1237),c=s.ZP.button(t||(t=(0,o.Z)(["\n  color: #fff;\n  border: none;\n  font-size: 12px;\n  cursor: pointer;\n  border-radius: 5px;\n  margin: ",";\n  padding: ",";\n  font-weight: ",";\n  background-color: ",";\n"])),(function(n){return n.margin}),(function(n){return n.padding}),(function(n){return n.fontWeight}),d.Z.lightRed),a=r(6417),l=function(n){var e=n.label;return(0,a.jsx)(c,(0,i.Z)((0,i.Z)({},n),{},{children:e}))};l.defaultProps={margin:"5px",label:"N\xfat b\u1ea5m",onClick:function(){},padding:"2px 7px"};var u=l},2262:function(n,e,r){r.d(e,{Z:function(){return u}});var t,i=r(1413),o=(r(7313),r(168)),s=r(3115),d=r(1237),c=s.ZP.button(t||(t=(0,o.Z)(["\n  border: none;\n  font-size: 12px;\n  cursor: pointer;\n  border-radius: 5px;\n  height: fit-content;\n  color: ",";\n  margin: ",";\n  padding: ",";\n  font-weight: ",";\n  background-color: ",";\n"])),d.Z.black,(function(n){return n.margin}),(function(n){return n.padding}),(function(n){return n.fontWeight}),(function(n){return n.bgColor?n.bgColor:d.Z.secondary})),a=r(6417),l=function(n){var e=n.label;return(0,a.jsx)(c,(0,i.Z)((0,i.Z)({},n),{},{children:e}))};l.defaultProps={label:"N\xfat b\u1ea5m",onClick:function(){},margin:"5px",padding:"3px 7px"};var u=l},4641:function(n,e,r){r.d(e,{Z:function(){return u}});var t,i=r(1413),o=(r(7313),r(168)),s=r(3115),d=r(1237),c=s.ZP.button(t||(t=(0,o.Z)(["\n  padding: 0;\n  border: none;\n  margin: 5px 0;\n  font-size: 12px;\n  cursor: pointer;\n  color: ",";\n  background-color: transparent;\n"])),d.Z.primary),a=r(6417),l=function(n){var e=n.label;return(0,a.jsx)(c,(0,i.Z)((0,i.Z)({},n),{},{children:e}))};l.defaultProps={onClick:function(){}};var u=l},5789:function(n,e,r){r.r(e),r.d(e,{default:function(){return ke}});var t,i,o=r(885),s=r(7313),d=r(2668),c=r(3222),a=r(6173),l=r(1677),u=r(4641),p=(r(3354),r(9673),r(1413)),x=r(2180),f=r(6947),h=r(168),g=r(3115),Z=r(1237),b=g.ZP.div(t||(t=(0,h.Z)(["\n  margin: 0 5px;\n  display: inline-block;\n"]))),j=g.ZP.input(i||(i=(0,h.Z)(["\n  width: 100%;\n  border: none;\n  padding: 1px 5px;\n  font-size: 12px;\n  font-weight: 300;\n  border-bottom: 1px solid ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    box-shadow: none;\n  }\n  &:focus-visible {\n    outline: none;\n    box-shadow: none;\n  }\n"])),Z.Z.secondary),m=r(6417),P=function(n){var e=n.label,r=n.name,t=n.isError,i=n.errorMessage,o=n.register,s=n.validations;n.isInline;return(0,m.jsxs)(b,{children:[e&&(0,m.jsx)(x.Z,{label:e}),(0,m.jsx)(j,(0,p.Z)((0,p.Z)({},o(r,s)),n)),(0,m.jsx)(f.Z,{isError:t,errorMessage:i})]})};P.defaultProps={type:"date",validations:{},register:function(){}};var v,D,y,E,_,C,w,T,S,R,O,I,A,F,N,U,k,M,z,B,L,H,Y,G=r(9829),Q=r(4165),W=r(5861),V=r(790),X=(r(6881),r(4214)),q=r(2262),J=r(6069),K=(g.ZP.div(v||(v=(0,h.Z)(["\n  font-size: 12px;\n  padding: 10px 10px 120px;\n"]))),g.ZP.p(D||(D=(0,h.Z)(["\n  font-weight: 700;\n"])))),$=g.ZP.p(y||(y=(0,h.Z)(["\n  font-weight: 700;\n  color: ",";\n"])),(function(n){return n.textColor})),nn=g.ZP.p(E||(E=(0,h.Z)(["\n  color: ",";\n"])),(function(n){return n.textColor})),en=(g.ZP.p(_||(_=(0,h.Z)(["\n  margin: 5px 0;\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: 5px;\n  width: fit-content;\n  color: ",";\n"])),Z.Z.primary),g.ZP.div(C||(C=(0,h.Z)(["\n  margin: 20px 5px;\n  border-radius: 4px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"])))),rn=(g.ZP.p(w||(w=(0,h.Z)(["\n  font-weight: 700;\n  margin: 30px 10px 0;\n  text-transform: uppercase;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(T||(T=(0,h.Z)([""])))),tn=g.ZP.div(S||(S=(0,h.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n"]))),on=g.ZP.div(R||(R=(0,h.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),sn=g.ZP.p(O||(O=(0,h.Z)(["\n  width: 110px;\n  text-align: right;\n"]))),dn=(g.ZP.p(I||(I=(0,h.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(A||(A=(0,h.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"])))),cn=g.ZP.div(F||(F=(0,h.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),an=g.ZP.p(N||(N=(0,h.Z)(["\n  color: ",";\n"])),Z.Z.secondary),ln=g.ZP.span(U||(U=(0,h.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),un=g.ZP.p(k||(k=(0,h.Z)(["\n  font-style: italic;\n"]))),pn=g.ZP.span(M||(M=(0,h.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),xn=(g.ZP.span(z||(z=(0,h.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.green),g.ZP.span(B||(B=(0,h.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.red),g.ZP.span(L||(L=(0,h.Z)(["\n  font-weight: 700;\n  font-style: italic;\n  color: ",";\n"])),Z.Z.green),g.ZP.span(H||(H=(0,h.Z)(["\n  width: 65px;\n  font-weight: 700;\n  display: inline-block;\n"])))),fn=g.ZP.span(Y||(Y=(0,h.Z)(["\n  font-weight: 700;\n  color: ",";\n"])),(function(n){return n.textColor})),hn=r(7123),gn=r(3454),Zn=r(3070),bn=r(7119),jn=(Zn.fH.MONEY_FIXED_VALUE,Zn.fH.MONEY_PERCENT_OF_ORDER_VALUE,Zn.fH.MONEY_PERCENT_OF_DIFFERENCE_ORDER_VALUE,Zn.fH.MONEY_ORDER_QUANTITY,Zn.fH.MONEY_DIFFERENCE_ORDER_QUANTITY,Zn.fH.MONEY_ORDER_WEIGHT,Zn.fH.MONEY_DIFFERENCE_ORDER_WEIGHT,function(n){var e=n.debtItem||{},r=e._id,t=e.mainReceiptCode,i=(e.isDeleted,e.isRejected),d=e.isApproved,a=e.orderCode,u=e.moneyValue,x=e.detailTypeCode,f=e.discountOfOrderCodes,h=e.discountPromotionInfo,g=e.updatedAt,b=e.note,j=e.debtCustomerInfo,P=e.currentDebtBalance,v=j||{},D=v.idCode,y=v.address,E=v.fullName,_=(v.saleStaffInfo||{}).fullName,C=(0,c.v9)((function(n){return n.authReducer})).viewerQuery||{},w=C.permissions,T=C.roles.some((function(n){return n===Zn.If.CUSTOMER||n===Zn.If.STAFF_OF_CUSTOMER})),S=bn.gz.CAN_APPROVE_RECEIPT,R=w.includes(S),O=(0,V.D)(gn.gF,{refetchQueries:[{query:hn.JH},"GET_DEBT_STATISTICAL",{query:hn.cX},"GET_DEBTS",{query:hn.f},"GET_IN_CHARGE_OF_CUSTOMERS"]}),I=(0,o.Z)(O,1)[0],A=(0,V.D)(gn.Iv,{refetchQueries:[{query:hn.JH},"GET_DEBT_STATISTICAL",{query:hn.cX},"GET_DEBTS",{query:hn.f},"GET_IN_CHARGE_OF_CUSTOMERS"]}),F=(0,o.Z)(A,1)[0],N=u>=0?Z.Z.linGreen:Z.Z.red,U=u>0?"+".concat(u.toLocaleString()):u.toLocaleString(),k=P>=0?Z.Z.linGreen:Z.Z.red,M=function(){var n=Zn.oQ.DETAIL_TYPE_CODES,e={type:Zn.n_[x],detail:null,conditionsDetail:null,promotionsDetail:null};if(x===n.DISCOUNT_OF_PAY_WHEN_CREATE_ORDER){var r=h||{},t=(r.title,r.conditions),i=r.detail||{},o=(i.moneyMethodCode,i.products,i.value,i.giftDescription,i.paymentTypeCode,function(n,e){var r,t=1===n.length;r=(0,J.RX)(e,n[0].netUnitValue,n[0].unitString);var i=function(n,e){var i,o,s=n.minRequireValue,d=(n.productInfo||{}).name,c=t?"":"- ",a=t?(0,m.jsxs)("p",{children:[(0,m.jsx)(xn,{children:"\u0110i\u1ec1u ki\u1ec7n:"})," ",(0,m.jsx)(pn,{children:"Khi mua"})," ",d&&(null===(i=d[0])||void 0===i?void 0:i.showText)," - ",r.type]}):(0,m.jsxs)("p",{children:[(0,m.jsxs)(pn,{children:[c,"Khi mua"]})," ",d&&(null===(o=d[0])||void 0===o?void 0:o.showText)," - ",r.type,": \u2265"," ",s," ",r.unit]});return(0,m.jsx)(m.Fragment,{children:a})};return n.map((function(n,e){return(0,m.jsx)(s.Fragment,{children:i(n)},e)}))});t.map((function(n,e){var r=n.products,t=n.productConditionType,i=r.length>1;return(0,m.jsxs)(s.Fragment,{children:[i&&(0,m.jsx)(xn,{children:"\u0110i\u1ec1u ki\u1ec7n:"}),o(r,t)]},e)}));return e.detail=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(xn,{children:"\u0110\u01a1n h\xe0ng:"}),(0,m.jsx)(un,{children:a})]}),e}if(x===n.DISCOUNT_FOR_EARLY_PAYMENT){var d=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(xn,{children:"\u0110\u01a1n h\xe0ng:"}),f.map((function(n,e){return(0,m.jsxs)(un,{children:["- ",n]},e)}))]});return e.detail=d,e}return x===n.UPDATE_DEBT||x===n.OLD_DEBT?(e.detail=b?(0,m.jsx)(pn,{children:b}):null,e):x===n.ORDER_PRODUCTS?(e.detail=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(xn,{children:"\u0110\u01a1n h\xe0ng:"}),(0,m.jsx)(un,{children:a})]}),e):x===n.RECEIPT?(e.detail=b?(0,m.jsx)(pn,{children:b}):null,e):x===n.RETURN_PRODUCT?(e.detail=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:"Nh\u1eadp l\u1ea1i h\xe0ng"}),(0,m.jsxs)(pn,{children:["M\xe3 \u0111\u01a1n: ",a]})]}),e):void 0}(),z=(0,s.useRef)(null),B=(0,s.useState)(!1),L=(0,o.Z)(B,2),H=L[0],Y=L[1],G=H?"block":"none",jn=(0,m.jsxs)(cn,{display:G,ref:z,children:[(0,m.jsx)(ln,{children:"Xo\xe1"}),(0,m.jsx)(ln,{children:"Hu\u1ef7"}),(0,m.jsx)(ln,{children:"S\u1eeda"})]}),mn=function(){var n=(0,W.Z)((0,Q.Z)().mark((function n(){return(0,Q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:I({variables:{where:{debtId:r}}});case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Pn=function(n){var e=n.isDeleted,t=n.isRejected,i=(0,p.Z)((0,p.Z)({},e&&{isDeleted:e}),t&&{isRejected:t});F({variables:{data:i,where:{debtId:r}}})},vn=i?(0,m.jsxs)("div",{children:[(0,m.jsx)(pn,{children:"\u0110\xe3 t\u1eeb ch\u1ed1i phi\u1ebfu thu"}),(0,m.jsx)(X.Z,{label:"Xo\xe1",margin:"0 0 0 10px",onClick:function(){return Pn({isDeleted:!0})}})]}):(0,m.jsx)("div",{children:!t&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(q.Z,{label:"T\u1eeb ch\u1ed1i",margin:"0 20px 0 0",onClick:function(){return Pn({isRejected:!0})}}),(0,m.jsx)(l.Z,{margin:"0",label:"X\xe1c nh\u1eadn",onClick:mn})]})}),Dn=(0,m.jsxs)(on,{children:[(0,m.jsxs)(an,{children:["Ph\u1ee5 tr\xe1ch: ",_||"n/a"]}),R&&(0,m.jsx)(m.Fragment,{children:vn}),T&&(0,m.jsx)(un,{children:"Ch\u1edd duy\u1ec7t"})]}),yn=d?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(on,{style:{alignItems:"flex-end"},children:[(0,m.jsx)("div",{children:M.detail}),(0,m.jsx)(sn,{children:"S\u1ed1 d\u01b0 (Balance)"})]}),(0,m.jsxs)(on,{children:[(0,m.jsxs)(on,{children:[(0,m.jsx)("p",{children:"Gi\xe1 tr\u1ecb t\xednh:\u2002"}),(0,m.jsxs)(nn,{textColor:N,children:[U," \u0111"]})]}),(0,m.jsxs)($,{textColor:k,children:[P.toLocaleString()," \u0111"]})]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(tn,{children:[(0,m.jsxs)(K,{children:[E,"\u2002"]}),(0,m.jsxs)("p",{children:[" - ",D]})]}),(0,m.jsx)(un,{children:y})]}),En=(0,m.jsxs)(fn,{textColor:N,children:[U," \u0111"]});return(0,s.useEffect)((function(){var n=function(n){z.current&&!z.current.contains(n.target)&&Y(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[z]),(0,m.jsxs)(en,{children:[(0,m.jsx)(dn,{onClick:function(){return Y(!H)}}),jn,(0,m.jsxs)(rn,{children:[(0,m.jsxs)(on,{children:[(0,m.jsx)("p",{children:(0,J.dh)(g,!0)}),(0,m.jsxs)("p",{children:[M.type,!d&&(0,m.jsxs)("span",{children:[": ",En]})]})]}),(0,m.jsx)("hr",{}),yn,!d&&Dn]})]})});jn.defaultProps={};var mn,Pn,vn,Dn,yn,En,_n,Cn,wn,Tn,Sn,Rn,On,In,An,Fn,Nn,Un,kn,Mn,zn,Bn,Ln,Hn,Yn,Gn,Qn,Wn,Vn,Xn,qn,Jn,Kn,$n,ne,ee,re,te,ie,oe,se,de,ce,ae,le=jn,ue=r(2206),pe=g.ZP.div(mn||(mn=(0,h.Z)(["\n  font-size: 12px;\n  padding: 0 0 120px;\n"]))),xe=(g.ZP.div(Pn||(Pn=(0,h.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 7;\n  width: 100%;\n  display: flex;\n  padding: 10px;\n  position: fixed;\n  font-size: 15px;\n  margin: 0 0 10px 0;\n  align-items: center;\n  background-color: #fff;\n  justify-content: space-between;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  @media (min-width: 1200px) {\n    left: 25%;\n    width: 50%;\n  }\n"]))),g.ZP.div(vn||(vn=(0,h.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.div(Dn||(Dn=(0,h.Z)(["\n  display: flex;\n  padding: 0 20px 0 0;\n  justify-content: flex-end;\n"]))),g.ZP.div(yn||(yn=(0,h.Z)(["\n  margin: 0 0 0 20px;\n"]))),g.ZP.div(En||(En=(0,h.Z)(["\n  font-size: 12px;\n  padding: 0 10px;\n"]))),g.ZP.div(_n||(_n=(0,h.Z)(["\n  margin: 20px 10px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.p(Cn||(Cn=(0,h.Z)(["\n  font-weight: 700;\n  margin: 30px 10px 0;\n  text-transform: uppercase;\n  color: ",";\n"])),Z.Z.secondary)),fe=(g.ZP.div(wn||(wn=(0,h.Z)([""]))),g.ZP.div(Tn||(Tn=(0,h.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),g.ZP.p(Sn||(Sn=(0,h.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(Rn||(Rn=(0,h.Z)(["\n  text-align: center;\n"])))),he=g.ZP.p(On||(On=(0,h.Z)(["\n  margin: 0 5px 5px 0;\n"]))),ge=g.ZP.span(In||(In=(0,h.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),Z.Z.primary),Ze=g.ZP.span(An||(An=(0,h.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),(function(n){return n.textColor})),be=g.ZP.span(Fn||(Fn=(0,h.Z)(["\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  border-radius: 5px;\n  color: ",";\n"])),Z.Z.secondary),je=g.ZP.div(Nn||(Nn=(0,h.Z)(["\n  display: flex;\n  margin: 20px 0 0;\n  justify-content: space-between;\n"]))),me=(g.ZP.p(Un||(Un=(0,h.Z)(["\n  margin: 5px 0;\n  padding: 0 5px;\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: 5px;\n  width: fit-content;\n  color: ",";\n"])),Z.Z.primary),g.ZP.div(kn||(kn=(0,h.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),g.ZP.div(Mn||(Mn=(0,h.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),g.ZP.span(zn||(zn=(0,h.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),r(3163)),Pe=function(n){var e=n.initCustomerAccount,r=n.customerAccountId,t=(0,c.v9)((function(n){return n.authReducer})).viewerQuery||{},i=t._id,a=t.roles.some((function(n){return n===Zn.If.CUSTOMER||n===Zn.If.STAFF_OF_CUSTOMER})),l=e&&e.node||{},u=l._id,x=l.fullName,f=(0,s.useState)(u),h=(0,o.Z)(f,2),g=h[0],b=h[1],j=e?g:r,P=localStorage.getItem(Zn.pP),v=(P&&JSON.parse(P)||{}).showUnapproveDebtsToCustomers,D=(0,d.a)(hn.JH,{variables:{where:{customerAccountId:j}},fetchPolicy:"cache-and-network"}).data,y=(0,d.a)(hn.cX,{variables:{filter:(0,p.Z)({customerAccountId:j},!v&&a&&{isApproved:!0})},fetchPolicy:"cache-and-network"}),E=y.loading,_=y.data,C=y.subscribeToMore,w=y.fetchMore,T=_&&_.debts.pageInfo||{},S=T.hasNextPage,R=D&&D.debtStatistical||{},O=R.totalDebts||0,I=R.totalPayments||0,A=O+I,F=R.totalOver30DaysDebts||0,N=R.totalOver60DaysDebts||0,U=R.totalOver90DaysDebts||0,k=R.totalCustomerIndueDebt||0,M=0!==O?(-O).toLocaleString():0,z=A>=0?Z.Z.linGreen:Z.Z.lightRed,B=_&&_.debts.edges||[],L=(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(je,{children:[(0,m.jsxs)(fe,{children:[(0,m.jsx)(he,{children:"N\u1ee3 trong h\u1ea1n"}),(0,m.jsxs)(ge,{backgroundColor:Z.Z.secondary,children:[k.toLocaleString()," ",(0,m.jsx)(be,{children:"\u0111"})]})]}),(0,m.jsxs)(fe,{children:[(0,m.jsx)(he,{children:"Qu\xe1 \u2265 30 ng\xe0y"}),(0,m.jsxs)(ge,{backgroundColor:Z.Z.secondary,children:[F.toLocaleString()," ",(0,m.jsx)(be,{children:"\u0111"})]})]}),(0,m.jsxs)(fe,{children:[(0,m.jsx)(he,{children:"Qu\xe1 \u2265 60 ng\xe0y"}),(0,m.jsxs)(ge,{backgroundColor:Z.Z.secondary,children:[N.toLocaleString()," ",(0,m.jsx)(be,{children:"\u0111"})]})]}),(0,m.jsxs)(fe,{children:[(0,m.jsx)(he,{children:"Qu\xe1 \u2265 90 ng\xe0y"}),(0,m.jsxs)(ge,{backgroundColor:Z.Z.secondary,children:[U.toLocaleString()," ",(0,m.jsx)(be,{children:"\u0111"})]})]})]})}),H=(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(je,{children:[!!e&&(0,m.jsxs)(fe,{children:[(0,m.jsx)(he,{children:"Mua h\xe0ng"}),(0,m.jsxs)(ge,{children:[M," ",(0,m.jsx)(be,{children:"\u0111"})]})]}),(0,m.jsxs)(fe,{children:[(0,m.jsx)(he,{children:"\u0110\xe3 tr\u1ea3"}),(0,m.jsxs)(ge,{children:[I.toLocaleString()," ",(0,m.jsx)(be,{children:"\u0111"})]})]}),(0,m.jsxs)(fe,{children:[(0,m.jsx)(he,{children:"C\xf2n l\u1ea1i"}),(0,m.jsxs)(Ze,{textColor:z,children:[A.toLocaleString()," ",(0,m.jsx)(be,{children:"\u0111"})]})]})]})});return(0,s.useEffect)((function(){var n=function(n){var e=n||{},r=e.customerAccountId,t=e.staffAccountId,o=e.managerAccountId,s=e.directorAccountId;return i===r||i===t||i===o||i===s},e=C({document:me.Fb,updateQuery:function(e,r){var t=r.subscriptionData;return(0,ue.FM)("debts","addedNewDebt",t,e,n,!0)}});return function(){return e()}}),[C]),(0,s.useEffect)((function(){var n=document.getElementById("global-test");n.onscroll=function(e){var r=n.scrollHeight-window.innerHeight;n.scrollTop>=r&&S&&!E&&w({variables:{cursor:T.endCursor},updateQuery:function(n,e){var r=e.fetchMoreResult;return(0,ue.d0)("debts",r,n)}})}}),[S]),(0,m.jsxs)(pe,{id:"abcdef",children:[!!e&&(0,m.jsx)(G.Z,{showDateTimeInputs:!1,showSelectAllButton:!1,children:(0,m.jsxs)(m.Fragment,{children:[H,L]}),searchPlaceholder:x,onClickSelectResultItem:function(n){var e=(n&&n.node||{})._id;b(e)},canSearchCustomer:!0}),(0,m.jsx)(xe,{children:"NH\u1eacT K\xdd"}),B.map((function(n,e){return(0,m.jsx)(le,{debtItem:n.node},e)}))]})},ve=r(6580),De=g.ZP.div(Bn||(Bn=(0,h.Z)(["\n  font-size: 12px;\n  padding: 70px 0 120px;\n  display: ",";\n"])),(function(n){return n.isDisplay?"block":"none"})),ye=g.ZP.div(Ln||(Ln=(0,h.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 7;\n  width: 100%;\n  display: flex;\n  padding: 10px;\n  position: fixed;\n  font-size: 15px;\n  margin: 0 0 10px 0;\n  align-items: center;\n  background-color: #fff;\n  justify-content: space-between;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  & h5 {\n    font-size: 13px;\n    font-weight: 700;\n  }\n  @media (min-width: 1200px) {\n    left: 25%;\n    width: 50%;\n  }\n"]))),Ee=g.ZP.div(Hn||(Hn=(0,h.Z)(["\n  display: flex;\n  margin: 30px auto 15px;\n  width: fit-content;\n  justify-content: center;\n"]))),_e=g.ZP.div(Yn||(Yn=(0,h.Z)(["\n  padding: 5px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),Ce=(g.ZP.div(Gn||(Gn=(0,h.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.div(Qn||(Qn=(0,h.Z)(["\n  display: flex;\n  justify-content: flex-end;\n"])))),we=g.ZP.div(Wn||(Wn=(0,h.Z)(["\n  margin: 0 0 0 20px;\n"]))),Te=(g.ZP.div(Vn||(Vn=(0,h.Z)(["\n  font-size: 12px;\n  padding: 0 10px;\n"]))),g.ZP.div(Xn||(Xn=(0,h.Z)(["\n  margin: 20px 10px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.p(qn||(qn=(0,h.Z)(["\n  font-weight: 700;\n  margin: 30px 10px 0;\n  text-transform: uppercase;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(Jn||(Jn=(0,h.Z)([""]))),g.ZP.div(Kn||(Kn=(0,h.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),g.ZP.p($n||($n=(0,h.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(ne||(ne=(0,h.Z)(["\n  text-align: center;\n"])))),Se=g.ZP.p(ee||(ee=(0,h.Z)(["\n  margin: 0 5px 5px 0;\n"]))),Re=g.ZP.span(re||(re=(0,h.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),Z.Z.primary),Oe=g.ZP.span(te||(te=(0,h.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),(function(n){return n.textColor})),Ie=g.ZP.span(ie||(ie=(0,h.Z)(["\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  border-radius: 5px;\n  color: ",";\n"])),Z.Z.secondary),Ae=g.ZP.div(oe||(oe=(0,h.Z)(["\n  display: flex;\n  margin: 20px 0 0;\n  justify-content: space-between;\n"]))),Fe=(g.ZP.p(se||(se=(0,h.Z)(["\n  margin: 5px 0;\n  padding: 0 5px;\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: 5px;\n  width: fit-content;\n  color: ",";\n"])),Z.Z.primary),g.ZP.div(de||(de=(0,h.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),g.ZP.div(ce||(ce=(0,h.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),g.ZP.span(ae||(ae=(0,h.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),r(2153)),Ne=(0,s.lazy)((function(){return Promise.all([r.e(5627),r.e(8161)]).then(r.bind(r,760))})),Ue=(0,s.lazy)((function(){return Promise.all([r.e(5627),r.e(2655)]).then(r.bind(r,2655))})),ke=function(n){var e=n.isDisplay,r=(0,c.I0)(),t=[{code:"all",label:"T\u1ea5t c\u1ea3"},{code:"waiting_for_approve",label:"Ch\u01b0a duy\u1ec7t"}],i=(0,s.useState)(t[0]),l=(0,o.Z)(i,2),p=l[0],x=l[1],f=function(n){return n.code===p.code?{backgroundColor:Z.Z.primary,textColor:Z.Z.white}:{backgroundColor:Z.Z.white,textColor:""}},h=(0,c.v9)((function(n){return n.authReducer})).viewerQuery||{},g=h._id,b=h.roles,j=h.permissions,P=void 0===j?[]:j,v=h.fatherChildrenAccountIds,D=b.includes(Zn.If.CUSTOMER)||b.includes(Zn.If.STAFF_OF_CUSTOMER),y=b.includes(Zn.If.STAFF_OF_CUSTOMER)?v[0]:D?g:void 0,E=(0,s.useState)(y),_=(0,o.Z)(E,2),C=_[0],w=_[1],T=P.some((function(n){return n===bn.gz.CAN_CREATE_RECEIPT_FOR_OWN_CUSTOMER||n===bn.gz.CAN_CREATE_RECEIPT_FOR_ANY_CUSTOMER})),S=P.includes(bn.gz.CAN_APPROVE_RECEIPT),R=(0,d.a)(hn.gG,{skip:D}).data,O=R&&R.viewerIndueDebts||0,I=(0,s.useState)(void 0),A=(0,o.Z)(I,2),F=A[0],N=A[1];(0,d.a)(hn.JH,{variables:{where:{customerAccountId:C}},fetchPolicy:"cache-and-network",onCompleted:function(n){N(n)}});var U=(0,d.a)(hn.cX,{variables:{filter:{isApproved:!1,customerAccountId:C}}}).data,k=U&&U.debts.edges||[],M=F&&F.debtStatistical||{},z=M.totalDebts||0,B=M.totalPayments||0,L=z+B,H=M.totalOver30DaysDebts||0,Y=M.totalOver60DaysDebts||0,Q=M.totalOver90DaysDebts||0,W=M.totalCustomerIndueDebt||0,V=0!==z?(-z).toLocaleString():0,X=C?W:O,q=L>=0?Z.Z.linGreen:Z.Z.lightRed,J=(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(Ae,{children:[(0,m.jsxs)(Te,{children:[(0,m.jsx)(Se,{children:"N\u1ee3 trong h\u1ea1n"}),(0,m.jsxs)(Re,{children:[X.toLocaleString()," ",(0,m.jsx)(Ie,{children:"\u0111"})]})]}),(0,m.jsxs)(Te,{children:[(0,m.jsx)(Se,{children:"Qu\xe1 \u2265 30 ng\xe0y"}),(0,m.jsxs)(Re,{children:[H.toLocaleString()," ",(0,m.jsx)(Ie,{children:"\u0111"})]})]}),(0,m.jsxs)(Te,{children:[(0,m.jsx)(Se,{children:"Qu\xe1 \u2265 60 ng\xe0y"}),(0,m.jsxs)(Re,{children:[Y.toLocaleString()," ",(0,m.jsx)(Ie,{children:"\u0111"})]})]}),(0,m.jsxs)(Te,{children:[(0,m.jsx)(Se,{children:"Qu\xe1 \u2265 90 ng\xe0y"}),(0,m.jsxs)(Re,{children:[Q.toLocaleString()," ",(0,m.jsx)(Ie,{children:"\u0111"})]})]})]})}),K=(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(Ae,{children:[(0,m.jsxs)(Te,{children:[(0,m.jsx)(Se,{children:"Mua h\xe0ng"}),(0,m.jsxs)(Re,{children:[V," ",(0,m.jsx)(Ie,{children:"\u0111"})]})]}),(0,m.jsxs)(Te,{children:[(0,m.jsx)(Se,{children:"\u0110\xe3 tr\u1ea3"}),(0,m.jsxs)(Re,{children:[B.toLocaleString()," ",(0,m.jsx)(Ie,{children:"\u0111"})]})]}),(0,m.jsxs)(Te,{children:[(0,m.jsx)(Se,{children:"C\xf2n l\u1ea1i"}),(0,m.jsxs)(Oe,{textColor:q,children:[L.toLocaleString()," ",(0,m.jsx)(Ie,{children:"\u0111"})]})]})]})}),$=function(n){var e={title:"Chi ti\u1ebft c\xf4ng n\u1ee3",children:(0,m.jsx)(s.Suspense,{fallback:(0,m.jsx)(a.default,{}),children:(0,m.jsx)(Pe,{initCustomerAccount:n})})};r((0,Fe.dn)(e))},nn=C?(0,m.jsx)(Pe,{customerAccountId:C}):(0,m.jsx)(ve.Z,{isDebts:!0,onClickCustomerItem:$}),en=function(){switch(p.code){case t[0].code:return nn;case t[1].code:return(0,m.jsx)(m.Fragment,{children:k.map((function(n,e){return(0,m.jsx)(le,{debtItem:n.node},e)}))});default:return null}}();return(0,m.jsxs)(De,{isDisplay:e,children:[(0,m.jsxs)(ye,{children:[(0,m.jsx)("h5",{children:"C\xd4NG N\u1ee2"}),(0,m.jsxs)(Ce,{children:[(0,m.jsx)(we,{children:T&&(0,m.jsx)(u.Z,{label:"+ Thu ti\u1ec1n",onClick:function(){var n={title:"Thu ti\u1ec1n",children:(0,m.jsx)(s.Suspense,{fallback:(0,m.jsx)(a.default,{}),children:(0,m.jsx)(Ue,{})})};r((0,Fe.dn)(n))}})}),(0,m.jsx)(we,{children:S&&(0,m.jsx)(u.Z,{label:"+ Nh\u1eadp c\xf4ng n\u1ee3",onClick:function(){var n={title:"Nh\u1eadp c\xf4ng n\u1ee3",children:(0,m.jsx)(s.Suspense,{fallback:(0,m.jsx)(a.default,{}),children:(0,m.jsx)(Ne,{})})};r((0,Fe.dn)(n))}})})]})]}),(0,m.jsx)(G.Z,{showDateTimeInputs:!1,children:(0,m.jsxs)(m.Fragment,{children:[!!C&&K,J]}),onClickSelectResultItem:function(n){var e=(n&&n.node||{})._id;w(e)},searchPlaceholder:"T\u1ea5t c\u1ea3",canSearchCustomer:!0}),S&&(0,m.jsx)(Ee,{children:t.map((function(n,e){return(0,m.jsx)(_e,{activeColor:f(n),onClick:function(){return x(n)},borderLeftColor:e>0?Z.Z.primary:"transparent",children:n.label},e)}))}),en]})}},2180:function(n,e,r){r.d(e,{Z:function(){return d}});r(7313);var t,i=r(168),o=r(3115).ZP.p(t||(t=(0,i.Z)(["\n  font-size: 13px;\n  font-weight: 500;\n"]))),s=r(6417),d=function(n){var e=n.label;return(0,s.jsx)(o,{children:e})}},9673:function(n,e,r){r.d(e,{Z:function(){return h}});var t,i,o=r(1413),s=(r(7313),r(2180)),d=r(6947),c=r(168),a=r(3115),l=r(1237),u=a.ZP.div(t||(t=(0,c.Z)(["\n  height: 26px;\n  display: inline-block;\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width?n.width:"100%"}),(function(n){return n.margin?n.margin:"0 0 0 5px"})),p=a.ZP.input(i||(i=(0,c.Z)(["\n  width: 100%;\n  border: none;\n  font-size: 12px;\n  font-weight: 300;\n  padding: ",";\n  line-height: ",";\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  font-style: ",";\n  text-align: ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    box-shadow: none;\n  }\n  &:focus-visible {\n    outline: none;\n    box-shadow: none;\n  }\n"])),(function(n){return n.padding}),(function(n){return n.lineHeight}),l.Z.lightWhite,l.Z.secondary,(function(n){return n.fontStyle?n.fontStyle:""}),(function(n){return n.textAlign?n.textAlign:"left"})),x=r(6417),f=function(n){var e=n.label,r=n.name,t=n.isError,i=n.errorMessage,c=n.register,a=n.validations,l=n.isInline,f=n.width,h=n.margin,g=l?"auto":f;return(0,x.jsxs)(u,{width:g,margin:h,children:[e&&(0,x.jsx)(s.Z,{label:e}),(0,x.jsx)(p,(0,o.Z)((0,o.Z)({},c(r,a)),n)),(0,x.jsx)(d.Z,{isError:t,errorMessage:i})]})};f.defaultProps={type:"text",validations:{},padding:"2px 5px",register:function(){},lineHeight:"20px"};var h=f},3163:function(n,e,r){r.d(e,{Fb:function(){return C},I4:function(){return v},PP:function(){return w},VL:function(){return _},hv:function(){return D},uB:function(){return y},uF:function(){return E}});var t,i,o,s,d,c,a,l,u,p,x,f,h,g,Z,b,j=r(168),m=r(9237),P=r(9384),v=(0,m.Ps)(t||(t=(0,j.Z)(["\n  subscription SUB_ADDED_NOTIFICATION {\n    addedNewNotification {\n      ...basicNotificationFields\n    }\n  }\n  ","\n"])),P.Y4),D=(0,m.Ps)(i||(i=(0,j.Z)(["\n  subscription SUB_ADDED_ORDER {\n    addedNewOrder {\n      ...basicOrderFields\n    }\n  }\n  ","\n"])),P.dL),y=(0,m.Ps)(o||(o=(0,j.Z)(["\n  subscription SUB_UPDATED_ORDER {\n    updatedAnOrder {\n      ...basicOrderFields\n    }\n  }\n  ","\n"])),P.dL),E=(0,m.Ps)(s||(s=(0,j.Z)(["\n  subscription SUB_ADDED_DISCOUNT_PROMOTION {\n    addedNewDiscountPromotion {\n      ...basicDiscountPromotionFields\n      customerDiaryInfo {\n        diaryCount\n        diaryInfo {\n          ...basicDiscountPromotionDiaryFields\n        }\n        totalBePaidMoneyValue\n      }\n    }\n  }\n  ","\n  ","\n"])),P.MM,P.xC),_=((0,m.Ps)(d||(d=(0,j.Z)(["\n  subscription SUB_UPDATED_DISCOUNT_PROMOTION {\n    updatedDiscountPromotion {\n      ...basicDiscountPromotionFields\n    }\n  }\n  ","\n"])),P.MM),(0,m.Ps)(c||(c=(0,j.Z)(["\n  subscription SUB_ADDED_DISCOUNT_PROMOTION_DIARY {\n    addedNewDiscountPromotionDiary {\n      ...basicDiscountPromotionDiaryFields\n    }\n  }\n  ","\n"])),P.xC)),C=((0,m.Ps)(a||(a=(0,j.Z)(["\n  subscription SUB_UPDATED_DISCOUNT_PROMOTION_DIARY {\n    updatedDiscountPromotionDiary {\n      ...basicDiscountPromotionDiaryFields\n    }\n  }\n  ","\n"])),P.xC),(0,m.Ps)(l||(l=(0,j.Z)(["\n  subscription SUB_ADDED_DEBT {\n    addedNewDebt {\n      ...basicDebtFields\n    }\n  }\n  ","\n"])),P.l3)),w=((0,m.Ps)(u||(u=(0,j.Z)(["\n  subscription SUB_UPDATED_DEBT {\n    updatedDebt {\n      ...basicDebtFields\n    }\n  }\n  ","\n"])),P.l3),(0,m.Ps)(p||(p=(0,j.Z)(["\n  subscription SUB_ADDED_PRODUCT {\n    addedNewProduct {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),P.UW));(0,m.Ps)(x||(x=(0,j.Z)(["\n  subscription SUB_UPDATED_PRODUCT {\n    updatedProduct {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),P.UW),(0,m.Ps)(f||(f=(0,j.Z)(["\n  subscription SUB_IMPORTED_PRODUCTS {\n    importedProducts {\n      ...basicProductFields\n    }\n  }\n  ","\n"])),P.UW),(0,m.Ps)(h||(h=(0,j.Z)(["\n  subscription SUB_DESTROYED_PRODUCT {\n    destroyedProduct {\n      ...basicDestroyedProductFields\n    }\n  }\n  ","\n"])),P.zY),(0,m.Ps)(g||(g=(0,j.Z)(["\n  subscription SUB_UPDATED_DESTROYED_PRODUCT {\n    updatedDestroyedProduct {\n      ...basicDestroyedProductFields\n    }\n  }\n  ","\n"])),P.zY),(0,m.Ps)(Z||(Z=(0,j.Z)(["\n  subscription SUB_ADDED_WAREHOUSE_BALANCE {\n    addedWarehouseBalance {\n      ...basicWarehouseBalanceFields\n    }\n  }\n  ","\n"])),P.ms),(0,m.Ps)(b||(b=(0,j.Z)(["\n  subscription SUB_ADDED_WAREHOUSE_BALANCE_DIARY {\n    addedWarehouseBalanceDiary {\n      ...basicWarehouseBalanceDiaryFields\n    }\n  }\n  ","\n"])),P.lH)},6881:function(n,e,r){var t=r(8098);e.Z=function(n){if(Array.isArray(n)){var e,r=n||[],i=t.t.getState().commonReducer,o=i&&(null===(e=i.activeLanguage)||void 0===e?void 0:e.locale)||"vi";return(r.find((function(n){return n&&n.locale===o}))||{}).showText||""}return""}}}]);