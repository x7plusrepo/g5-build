"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[2247],{2247:function(n,e,t){t.r(e),t.d(e,{default:function(){return U}});var i,r,o,c,a,d,l,s,p,x,u,f,h,g,j,m,v=t(885),Z=t(1413),y=t(2982),b=t(7313),T=t(3222),C=t(2668),P=t(324),S=t(6881),k=t(9829),M=t(6580),_=t(168),I=t(3115),w=t(1237),F=I.ZP.div(i||(i=(0,_.Z)(["\n  padding: 0;\n  font-size: 12px;\n"]))),E=I.ZP.div(r||(r=(0,_.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),K=I.ZP.div(o||(o=(0,_.Z)([""]))),L=(I.ZP.div(c||(c=(0,_.Z)(["\n  text-align: right;\n"]))),I.ZP.div(a||(a=(0,_.Z)(["\n  display: flex;\n  margin: 15px auto;\n  width: fit-content;\n  justify-content: center;\n  border: solid 1px ",";\n"])),w.Z.primary),I.ZP.div(d||(d=(0,_.Z)(["\n  padding: 5px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),I.ZP.div(l||(l=(0,_.Z)(["\n  margin: 20px 10px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),I.ZP.div(s||(s=(0,_.Z)([""]))),I.ZP.div(p||(p=(0,_.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"])))),V=I.ZP.div(x||(x=(0,_.Z)(["\n  text-align: center;\n"]))),B=(I.ZP.div(u||(u=(0,_.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),I.ZP.p(f||(f=(0,_.Z)(["\n  padding: 0;\n  margin: 5px 0;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  border-radius: 5px;\n  color: ",";\n"])),w.Z.primary)),O=I.ZP.span(h||(h=(0,_.Z)(["\n  font-weight: 500;\n  font-style: italic;\n  color: ",";\n"])),w.Z.secondary),A=(I.ZP.div(g||(g=(0,_.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),I.ZP.div(j||(j=(0,_.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),I.ZP.span(m||(m=(0,_.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),t(7123)),R=t(3070),Y=t(2153),z=t(4641),D=t(6417),G=(0,b.lazy)((function(){return t.e(4495).then(t.bind(t,4495))})),N=function(n){var e=n.statisticalData,t=void 0===e?[]:e,i=(0,T.I0)(),r=t.find((function(n){return n._id.paymentTypeCode===R.ad.TAX_OFFSET})),o=t.find((function(n){return n._id.paymentTypeCode===R.ad.MONEY_TYPE})),c=t.find((function(n){return n._id.paymentTypeCode===R.ad.GIFT_TYPE})),a=t.find((function(n){return n._id.paymentTypeCode===R.ad.PRODUCT_TYPE})),d=r&&r.totalBePaidMoneyValue||0,l=o&&o.totalBePaidMoneyValue||0,s=c&&c.totalBePaidMoneyValue||0,p=a&&a.totalBePaidMoneyValue||0,x=d+l+s+p,u=function(){for(var n=(c||{}).promotionGifts,e=void 0===n?[]:n,t=[],i=function(n){var i=e[n],r=i.description,o=i.moneyValue,c=t.findIndex((function(n){return n.description===r}));if(-1===c)t=[].concat((0,y.Z)(t),[(0,Z.Z)((0,Z.Z)({},i),{},{totalMoneyValue:o,count:1})]);else{var a=t[c],d=a.count,l=a.totalMoneyValue;t[c].count=d+1,t[c].totalMoneyValue=l+o}},r=0;r<e.length;r++)i(r);return t}(),f=function(){for(var n=(a||{}).promotionProducts,e=(void 0===n?[]:n).flat(),t=[],i=function(n){var i=e[n],r=i.code,o=t.findIndex((function(n){return n.code===r}));if(-1===o)t=[].concat((0,y.Z)(t),[(0,Z.Z)((0,Z.Z)({},i),{},{count:1})]);else{var c=t[o].count;t[o].count=c+1}},r=0;r<e.length;r++)i(r);return t}();D.Fragment,u.map((function(n,e){return(0,D.jsxs)(L,{children:[(0,D.jsxs)("p",{children:["\u2002+ ",n.description," ",n.count," x"," ",n.moneyValue.toLocaleString()]}),(0,D.jsxs)("p",{children:[n.totalMoneyValue.toLocaleString()," \u0111"]})]},e)})),D.Fragment,f.map((function(n,e){var t;return(0,D.jsxs)(L,{children:[(0,D.jsxs)("p",{children:["\u2002+ ",(0,S.Z)(null===(t=n.productInfo)||void 0===t?void 0:t.name)," ",n.count," x"," ",n.price.toLocaleString()," \u0111"]}),(0,D.jsxs)("p",{children:[(n.price*n.count).toLocaleString()," \u0111"]})]},e)}));return(0,D.jsxs)(E,{children:[(0,D.jsxs)(L,{children:[(0,D.jsx)("p",{children:"T\u1ed5ng gi\xe1 tr\u1ecb"}),(0,D.jsxs)(B,{children:[x.toLocaleString()," ",(0,D.jsx)(O,{children:"\u0111"})]})]}),(0,D.jsxs)(L,{children:[(0,D.jsxs)(V,{children:[(0,D.jsx)("p",{children:"Ti\u1ec1n m\u1eb7t"}),(0,D.jsxs)(B,{onClick:function(){var n={title:"B\xe1o c\xe1o CK/KM ti\u1ec1n m\u1eb7t",children:(0,D.jsx)(b.Suspense,{fallback:(0,D.jsx)(D.Fragment,{children:"..."}),children:(0,D.jsx)(G,{paymentTypeCode:R.ad.MONEY_TYPE})})};i((0,Y.dn)(n))},children:[l.toLocaleString()," ",(0,D.jsx)(O,{children:"\u0111"})]})]}),(0,D.jsxs)(V,{children:[(0,D.jsx)("p",{children:"Hi\u1ec7n v\u1eadt"}),(0,D.jsxs)(B,{onClick:function(){var n={title:"B\xe1o c\xe1o CK/KM hi\u1ec7n v\u1eadt",children:(0,D.jsx)(b.Suspense,{fallback:(0,D.jsx)(D.Fragment,{children:"..."}),children:(0,D.jsx)(G,{paymentTypeCode:R.ad.GIFT_TYPE})})};i((0,Y.dn)(n))},children:[s.toLocaleString()," ",(0,D.jsx)(O,{children:"\u0111"})]})]}),(0,D.jsxs)(V,{children:[(0,D.jsx)("p",{children:"S\u1ea3n ph\u1ea9m t\u1eb7ng"}),(0,D.jsxs)(B,{onClick:function(){var n={title:"B\xe1o c\xe1o CK/KM hi\u1ec7n v\u1eadt",children:(0,D.jsx)(b.Suspense,{fallback:(0,D.jsx)(D.Fragment,{children:"..."}),children:(0,D.jsx)(G,{paymentTypeCode:R.ad.PRODUCT_TYPE})})};i((0,Y.dn)(n))},children:[p.toLocaleString()," ",(0,D.jsx)(O,{children:"\u0111"})]})]}),(0,D.jsxs)(V,{children:[(0,D.jsx)("p",{children:"C\u1ea5n tr\u1eeb thu\u1ebf"}),(0,D.jsxs)(B,{onClick:function(){var n={title:"B\xe1o c\xe1o CK/KM hi\u1ec7n v\u1eadt",children:(0,D.jsx)(b.Suspense,{fallback:(0,D.jsx)(D.Fragment,{children:"..."}),children:(0,D.jsx)(G,{paymentTypeCode:R.ad.TAX_OFFSET})})};i((0,Y.dn)(n))},children:[d.toLocaleString()," ",(0,D.jsx)(O,{children:"\u0111"})]})]})]})]})},U=function(n){var e=(0,T.I0)(),t=(0,T.v9)((function(n){return n.authReducer})).viewerQuery||{},i=t._id,r=t.roles.includes(R.If.CUSTOMER)?i:"",o=(0,b.useState)("2012/01/01"),c=(0,v.Z)(o,2),a=c[0],d=c[1],l=(0,b.useState)("2100/01/01"),s=(0,v.Z)(l,2),p=s[0],x=s[1],u=(0,b.useState)(r),f=(0,v.Z)(u,2),h=f[0],g=f[1],j={customerAccountId:h},m=(0,C.a)(A.Kw,{variables:{filter:j}}).data,Z=m&&m.discountPromotionStatistical||[],y=function(n){var t={title:"B\xe1o c\xe1o CK/KM c\u1ee7a kh\xe1ch h\xe0ng",children:(0,D.jsx)(b.Suspense,{fallback:(0,D.jsx)(D.Fragment,{children:"..."}),children:(0,D.jsx)(G,{initCustomerAccount:n})})};e((0,Y.dn)(t))},S=h?(0,D.jsx)(G,{customerAccountId:h,startOfTimeRange:a,endOfTimeRange:p}):(0,D.jsx)(M.Z,{onClickCustomerItem:y});return(0,D.jsx)(F,{children:(0,D.jsxs)(K,{children:[(0,D.jsx)("div",{style:{textAlign:"right",margin:"12px 15px 15px"},children:(0,D.jsx)(z.Z,{label:(0,D.jsxs)(D.Fragment,{children:["IN ",(0,D.jsx)(P.Z,{style:{fontSize:18}})]})})}),(0,D.jsx)(k.Z,{inputStartTime:a,setInputStartTime:d,inputEndTime:p,setInputEndTime:x,onClickSelectResultItem:function(n){var e=(n&&n.node)._id;g(e),d("2012/01/01"),x("2100/01/01")},searchPlaceholder:"T\u1ea5t c\u1ea3"}),(0,D.jsx)(N,{statisticalData:Z}),S]})})}},6881:function(n,e,t){var i=t(2163);e.Z=function(n){if(Array.isArray(n)){var e,t=n||[],r=i.t.getState().commonReducer,o=r&&(null===(e=r.activeLanguage)||void 0===e?void 0:e.locale)||"vi";return(t.find((function(n){return n&&n.locale===o}))||{}).showText||""}return""}}}]);