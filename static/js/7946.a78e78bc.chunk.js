"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[7946],{3354:function(n,r,t){t.d(r,{Z:function(){return s}});var e,o=t(1413),a=(t(7313),t(168)),i=t(3115).ZP.div(e||(e=(0,a.Z)(["\n  width: 100%;\n  margin: 10px 0;\n  background-color: #fff;\n  padding: 20px 10px 20px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),p=t(6417),s=function(n){var r=n.children;return(0,p.jsx)(i,(0,o.Z)((0,o.Z)({},n),{},{children:r}))}},7946:function(n,r,t){t.r(r),t.d(r,{default:function(){return dn}});var e,o,a,i,p,s,c,d,x,u,l,g,h,f,Z,m,v,b,y,w,P,j,k,C,B,W=t(4165),S=t(1413),E=t(5861),A=t(885),R=t(7313),z=t(3222),D=t(790),I=t(2668),M=t(5414),T=t(6173),N=t(3354),O=t(6069),H=t(168),L=t(3115),_=t(1237),U=L.ZP.div(e||(e=(0,H.Z)(["\n  font-size: 12px;\n  padding: 40px 0 120px;\n"]))),K=(L.ZP.div(o||(o=(0,H.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),L.ZP.div(a||(a=(0,H.Z)(["\n  margin: 0 10px;\n  text-align: right;\n"]))),L.ZP.p(i||(i=(0,H.Z)(["\n  font-size: 11px;\n  font-weight: 600;\n  margin: 50px 0 15px 6px;\n  color: ",";\n"])),_.Z.lightBlack)),Q=(L.ZP.div(p||(p=(0,H.Z)(["\n  display: flex;\n  margin: 15px auto;\n  width: fit-content;\n  justify-content: center;\n  border: solid 1px ",";\n"])),_.Z.primary),L.ZP.div(s||(s=(0,H.Z)(["\n  padding: 5px 10px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),L.ZP.div(c||(c=(0,H.Z)(["\n  padding: 10px;\n  margin: 10px 5px;\n  position: relative;\n  border-radius: 4px;\n  background-color: #fff;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"])))),Y=(L.ZP.img(d||(d=(0,H.Z)(["\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  margin: 0 10px 0 0;\n  border-radius: 5px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),L.ZP.div(x||(x=(0,H.Z)(["\n  cursor: pointer;\n"])))),F=(L.ZP.div(u||(u=(0,H.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgb(0 0 0 / 12%);\n"]))),L.ZP.div(l||(l=(0,H.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"])))),G=L.ZP.span(g||(g=(0,H.Z)(["\n  color: ",";\n"])),_.Z.primary),J=L.ZP.span(h||(h=(0,H.Z)(["\n  color: ",";\n"])),_.Z.secondary),X=L.ZP.span(f||(f=(0,H.Z)(["\n  font-weight: 700;\n  color: ",";\n"])),_.Z.red),$=L.ZP.p(Z||(Z=(0,H.Z)(["\n  font-style: italic;\n  color: ",";\n"])),_.Z.secondary),q=(L.ZP.div(m||(m=(0,H.Z)(["\n  text-align: center;\n  width: ","%;\n"])),100/3),L.ZP.p(v||(v=(0,H.Z)(["\n  margin: 0 0 5px;\n"]))),L.ZP.span(b||(b=(0,H.Z)(["\n  color: #fff;\n  padding: 3px 5px;\n  font-size: 12px;\n  border-radius: 5px;\n  background-color: ",";\n"])),(function(n){return n.backgroundColor})),L.ZP.div(y||(y=(0,H.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),L.ZP.span(w||(w=(0,H.Z)(["\n  font-size: 13px;\n  font-weight: 700;\n  border-radius: 5px;\n  width: fit-content;\n  color: ",";\n"])),_.Z.primary),L.ZP.div(P||(P=(0,H.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),L.ZP.div(j||(j=(0,H.Z)(["\n  top: 20px;\n  z-index: 7;\n  right: 10px;\n  cursor: pointer;\n  padding: 5px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),L.ZP.p(k||(k=(0,H.Z)(["\n  padding: 5px;\n  font-size: 12px;\n  &:hover {\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  }\n  &:nth-child(3): {\n    color: red;\n  }\n"]))),L.ZP.p(C||(C=(0,H.Z)(["\n  font-size: 25px;\n  cursor: pointer;\n"]))),L.ZP.input(B||(B=(0,H.Z)(["\n  border: none;\n  padding: 0 5px;\n  margin: 0 10px;\n  border-bottom: 1px solid ",";\n  @media (max-width: 768px) {\n    width: 105px;\n    margin: 0 3px;\n    padding: 0 3px;\n  }\n"])),_.Z.secondary)),V=t(2153),nn=t(5164),rn=t(2206),tn=t(3454),en=t(7123),on=t(3070),an=t(7119),pn=t(6417),sn=(0,R.lazy)((function(){return Promise.all([t.e(5627),t.e(5957),t.e(4224)]).then(t.bind(t,4224))})),cn=function(n){var r=n.diaryItem,t=n.isWarehouseBalancing,e=r&&r.node,o=e||{},a=o.isApproved,i=o.implementationAt,p=o.implementerFullName,s=o.changedProductCount,c=o.totalCheckedProducts,d=(0,O.dh)(i,!0),x=(0,z.I0)(),u=(0,D.D)(tn.eQ),l=(0,A.Z)(u,1)[0],g=a?(0,pn.jsx)(G,{children:"\u0110\xe3 c\xe2n b\u1eb1ng kho"}):(0,pn.jsx)(X,{children:"/Ch\u1edd Duy\u1ec7t/"}),h=function(){var n=(0,E.Z)((0,W.Z)().mark((function n(){var r,o;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&!a){n.next=9;break}if(x((0,nn.S$)()),a){n.next=5;break}return n.next=5,l({variables:{data:{isWarehouseBalancing:!0}}});case 5:setTimeout((function(){x((0,nn.S4)())}),500),r=function(){l({variables:{data:{isWarehouseBalancing:!1}}})},o=(0,S.Z)((0,S.Z)({title:"Chi ti\u1ebft ki\u1ec3m kho"},!a&&{customCloseAction:r}),{},{children:(0,pn.jsx)(R.Suspense,{fallback:(0,pn.jsx)(T.default,{}),children:(0,pn.jsx)(sn,{diaryItem:e,totalCheckedProducts:c})})}),x((0,V.dn)(o));case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,pn.jsx)(Q,{children:(0,pn.jsxs)(Y,{onClick:h,children:[(0,pn.jsxs)(F,{children:[(0,pn.jsx)(M.Z,{fontSize:12,fontWeight:700,children:d}),(0,pn.jsx)($,{children:p})]}),(0,pn.jsxs)(F,{children:[(0,pn.jsxs)("p",{children:["L\u1ec7ch: \u2002\u2002",(0,pn.jsx)(G,{children:s}),"/",c," ",(0,pn.jsx)(J,{children:"SP \u0111\xe3 ki\u1ec3m"})]}),g]})]})})},dn=function(n){var r=n.isStockChecking,t=n.isWarehouseBalancing,e=((0,z.I0)(),((0,z.v9)((function(n){return n.authReducer})).viewerQuery||{}).permissions,an.gz.CAN_EXCUTE_WAREHOUSE_BALANCE,(0,R.useState)("")),o=(0,A.Z)(e,2),a=o[0],i=o[1],p=(0,R.useState)(""),s=(0,A.Z)(p,2),c=s[0],d=s[1],x=(0,I.a)(en.f0,{variables:{filter:(0,S.Z)((0,S.Z)({},a&&{startOfTimeRange:new Date(a)}),c&&{endOfTimeRange:new Date(c)})},fetchPolicy:"cache-and-network"}),u=x.data,l=x.refetch,g=x.fetchMore,h=u&&u.warehouseBalanaceDiaries.edges||[],f=u&&u.warehouseBalanaceDiaries.pageInfo||{},Z=f.hasNextPage,m=(0,pn.jsxs)(N.Z,{children:["Th\u1eddi gian:"," ",(0,pn.jsx)(q,{type:"date",value:a,onChange:function(n){return i(n.target.value)}})," ","-"," ",(0,pn.jsx)(q,{type:"date",value:c,onChange:function(n){return d(n.target.value)}})]});return(0,R.useEffect)((function(){l()}),[r]),(0,R.useEffect)((function(){var n=function(n){var r=document.getElementById(on.pD.WAREHOUSE.DIARY);(r&&r.getBoundingClientRect().bottom)<=window.innerHeight&&Z&&g({variables:{cursor:f.endCursor},updateQuery:function(n,r){var t=r.fetchMoreResult;return(0,rn.d0)("warehouseBalanaceDiaries",t,n)}})};return window.addEventListener("scroll",n),function(){return window.removeEventListener("scroll",n)}}),[Z]),(0,pn.jsxs)(U,{id:on.pD.WAREHOUSE.DIARY,children:[m,(0,pn.jsx)(K,{children:"NH\u1eacT K\xdd KI\u1ec2M KHO"}),h.map((function(n,r){return(0,pn.jsx)(cn,{diaryItem:n,isWarehouseBalancing:t},r)}))]})}},5414:function(n,r,t){t.d(r,{Z:function(){return j}});var e=t(3366),o=t(7462),a=t(7313),i=t(3061),p=t(2982),s=t(3019),c=t(3103),d=["sx"];function x(n){var r,t=n.sx,a=function(n){var r={systemProps:{},otherProps:{}};return Object.keys(n).forEach((function(t){c.Gc[t]?r.systemProps[t]=n[t]:r.otherProps[t]=n[t]})),r}((0,e.Z)(n,d)),i=a.systemProps,x=a.otherProps;return r=Array.isArray(t)?[i].concat((0,p.Z)(t)):"function"===typeof t?function(){var n=t.apply(void 0,arguments);return(0,s.P)(n)?(0,o.Z)({},i,n):i}:(0,o.Z)({},i,t),(0,o.Z)({},x,{sx:r})}var u=t(1921),l=t(6749),g=t(3729),h=t(8170),f=t(7430),Z=t(2298);function m(n){return(0,Z.Z)("MuiTypography",n)}(0,f.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var v=t(6417),b=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],y=(0,l.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(n,r){var t=n.ownerState;return[r.root,t.variant&&r[t.variant],"inherit"!==t.align&&r["align".concat((0,h.Z)(t.align))],t.noWrap&&r.noWrap,t.gutterBottom&&r.gutterBottom,t.paragraph&&r.paragraph]}})((function(n){var r=n.theme,t=n.ownerState;return(0,o.Z)({margin:0},t.variant&&r.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})})),w={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},P={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},j=a.forwardRef((function(n,r){var t=(0,g.Z)({props:n,name:"MuiTypography"}),a=function(n){return P[n]||n}(t.color),p=x((0,o.Z)({},t,{color:a})),s=p.align,c=void 0===s?"inherit":s,d=p.className,l=p.component,f=p.gutterBottom,Z=void 0!==f&&f,j=p.noWrap,k=void 0!==j&&j,C=p.paragraph,B=void 0!==C&&C,W=p.variant,S=void 0===W?"body1":W,E=p.variantMapping,A=void 0===E?w:E,R=(0,e.Z)(p,b),z=(0,o.Z)({},p,{align:c,color:a,className:d,component:l,gutterBottom:Z,noWrap:k,paragraph:B,variant:S,variantMapping:A}),D=l||(B?"p":A[S]||w[S])||"span",I=function(n){var r=n.align,t=n.gutterBottom,e=n.noWrap,o=n.paragraph,a=n.variant,i=n.classes,p={root:["root",a,"inherit"!==n.align&&"align".concat((0,h.Z)(r)),t&&"gutterBottom",e&&"noWrap",o&&"paragraph"]};return(0,u.Z)(p,m,i)}(z);return(0,v.jsx)(y,(0,o.Z)({as:D,ref:r,ownerState:z,className:(0,i.Z)(I.root,d)},R))}))}}]);