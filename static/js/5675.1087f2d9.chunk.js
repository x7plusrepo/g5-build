"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[5675,4641],{1300:function(n,e,r){r.d(e,{Z:function(){return p}});var t,i,s=r(1413),o=r(5987),a=(r(7313),r(168)),c=r(3115),u=c.ZP.div(t||(t=(0,a.Z)(["\n  display: flex;\n  margin: 5px 0;\n  justify-content: center;\n  width: ",";\n"])),(function(n){return n.width?n.width:"50%"})),d=c.ZP.button(i||(i=(0,a.Z)(["\n  width: 90%;\n  color: #fff;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 600;\n  padding: 5px 20px;\n  border-radius: 20px;\n  border: 2px solid #fff;\n  text-transform: uppercase;\n  background-color: transparent;\n"]))),l=r(6417),f=["label","width"],h=function(n){var e=n.label,r=n.width,t=(0,o.Z)(n,f);return(0,l.jsx)(u,{width:r,children:(0,l.jsx)(d,(0,s.Z)((0,s.Z)({},t),{},{children:e}))})};h.defaultProps={onClick:function(){}};var p=h},2397:function(n,e,r){r.d(e,{Z:function(){return p}});var t,i,s=r(1413),o=r(5987),a=(r(7313),r(168)),c=r(3115),u=c.ZP.div(t||(t=(0,a.Z)(["\n  display: flex;\n  margin: 5px 0;\n  justify-content: center;\n  width: ",";\n"])),(function(n){return n.width?n.width:"50%"})),d=c.ZP.button(i||(i=(0,a.Z)(["\n  color: #fff;\n  border: none;\n  font-size: 12px;\n  cursor: pointer;\n  font-weight: 600;\n  padding: 5px 20px;\n  text-transform: uppercase;\n  background-color: transparent;\n"]))),l=r(6417),f=["label","width"],h=function(n){var e=n.label,r=n.width,t=(0,o.Z)(n,f);return(0,l.jsx)(u,{width:r,children:(0,l.jsx)(d,(0,s.Z)((0,s.Z)({},t),{},{children:e}))})};h.defaultProps={onClick:function(){}};var p=h},4641:function(n,e,r){r.d(e,{Z:function(){return l}});var t,i=r(1413),s=(r(7313),r(168)),o=r(3115),a=r(1237),c=o.ZP.button(t||(t=(0,s.Z)(["\n  padding: 0;\n  border: none;\n  margin: 5px 0;\n  font-size: 12px;\n  cursor: pointer;\n  color: ",";\n  background-color: transparent;\n"])),a.Z.primary),u=r(6417),d=function(n){var e=n.label;return(0,u.jsx)(c,(0,i.Z)((0,i.Z)({},n),{},{children:e}))};d.defaultProps={onClick:function(){}};var l=d},5222:function(n,e,r){r.d(e,{Z:function(){return p}});var t,i,s,o=r(1413),a=(r(7313),r(168)),c=r(3115),u=r(1237),d=c.ZP.div(t||(t=(0,a.Z)(["\n  position: relative;\n  margin: 0 0 20px;\n"]))),l=c.ZP.div(i||(i=(0,a.Z)(["\n  font-weight: 600;\n  margin: 0 0 10px;\n  text-transform: uppercase;\n  color: ",";\n"])),u.Z.lightBlack),f=c.ZP.div(s||(s=(0,a.Z)(["\n  padding: 10px;\n  margin: 0 0 20px;\n  border-radius: 4px;\n  background-color: #fff;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),h=r(6417),p=function(n){var e=n.title,r=n.children;return(0,h.jsxs)(d,(0,o.Z)((0,o.Z)({},n),{},{children:[(0,h.jsx)(l,{children:e}),(0,h.jsx)(f,{children:r})]}))}},2180:function(n,e,r){r.d(e,{Z:function(){return a}});r(7313);var t,i=r(168),s=r(3115).ZP.p(t||(t=(0,i.Z)(["\n  font-size: 13px;\n  font-weight: 500;\n"]))),o=r(6417),a=function(n){var e=n.label;return(0,o.jsx)(s,{children:e})}},9673:function(n,e,r){r.d(e,{Z:function(){return x}});var t,i,s=r(1413),o=(r(7313),r(2180)),a=r(6947),c=r(168),u=r(3115),d=r(1237),l=u.ZP.div(t||(t=(0,c.Z)(["\n  height: 26px;\n  display: inline-block;\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width?n.width:"100%"}),(function(n){return n.margin?n.margin:"0 0 0 5px"})),f=u.ZP.input(i||(i=(0,c.Z)(["\n  width: 100%;\n  border: none;\n  font-size: 12px;\n  font-weight: 300;\n  padding: ",";\n  line-height: ",";\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  font-style: ",";\n  text-align: ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    box-shadow: none;\n  }\n  &:focus-visible {\n    outline: none;\n    box-shadow: none;\n  }\n"])),(function(n){return n.padding}),(function(n){return n.lineHeight}),d.Z.lightWhite,d.Z.secondary,(function(n){return n.fontStyle?n.fontStyle:""}),(function(n){return n.textAlign?n.textAlign:"left"})),h=r(6417),p=function(n){var e=n.label,r=n.name,t=n.isError,i=n.errorMessage,c=n.register,u=n.validations,d=n.isInline,p=n.width,x=n.margin,m=d?"auto":p;return(0,h.jsxs)(l,{width:m,margin:x,children:[e&&(0,h.jsx)(o.Z,{label:e}),(0,h.jsx)(f,(0,s.Z)((0,s.Z)({},c(r,u)),n)),(0,h.jsx)(a.Z,{isError:t,errorMessage:i})]})};p.defaultProps={type:"text",validations:{},padding:"2px 5px",register:function(){},lineHeight:"20px"};var x=p},5675:function(n,e,r){r.r(e),r.d(e,{default:function(){return ln}});var t,i,s,o,a,c,u,d,l,f,h,p,x,m,g,Z=r(1413),b=r(4165),j=r(5861),v=r(2982),w=r(885),y=r(7313),C=r(5627),P=r(3222),N=r(790),k=r(2668),A=r(6618),S=r(1359),E=r(4641),I=r(5222),O=r(2262),q=r(4214),_=r(1677),T=r(9673),M=r(1300),D=r(2397),F=r(6947),U=r(168),H=r(3115),Q=r(1237),B=H.ZP.div(t||(t=(0,U.Z)(["\n  font-size: 12px;\n  padding: 10px 10px 120px;\n"]))),V=H.ZP.div(i||(i=(0,U.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin: 10px 20px 15px 0;\n"]))),z=H.ZP.div(s||(s=(0,U.Z)(["\n  display: flex;\n  margin: 10px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),G=H.ZP.div(o||(o=(0,U.Z)(["\n  width: 80px;\n"]))),R=(H.ZP.input(a||(a=(0,U.Z)(["\n  width: 60%;\n"]))),H.ZP.span(c||(c=(0,U.Z)(["\n  font-weight: 700;\n"])))),L=H.ZP.p(u||(u=(0,U.Z)(["\n  font-weight: 700;\n"]))),X=H.ZP.p(d||(d=(0,U.Z)(["\n  margin: 0 0 20px;\n  font-style: italic;\n  color: ",";\n"])),Q.Z.lightRed),$=H.ZP.p(l||(l=(0,U.Z)(["\n  font-weight: 700;\n  color: ",";\n"])),Q.Z.lightBlack),K=H.ZP.div(f||(f=(0,U.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n"]))),W=H.ZP.p(h||(h=(0,U.Z)(["\n  width: 50%;\n  margin: 8px 0;\n  display: flex;\n  algin-items: center;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),J=H.ZP.div(p||(p=(0,U.Z)(["\n  top: 5px;\n  right: 10px;\n  color: #777;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),Y=H.ZP.div(x||(x=(0,U.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),nn=H.ZP.span(m||(m=(0,U.Z)(["\n  margin: 5px;\n  padding: 0 10px;\n  font-size: 12px;\n  cursor: pointer;\n  color: ",";\n"])),Q.Z.red),en=H.ZP.div(g||(g=(0,U.Z)(["\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  padding: 10px;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ",";\n"])),Q.Z.rgbaBlack),rn=r(2153),tn=r(3454),sn=(r(3070),r(7119)),on=r(7123),an=r(6417),cn=function(n){var e=n.setIsAddingCustomerStaff,r=n.customerStaffAccounts,t=n.setCustomerStaffAccounts,i=(0,C.cI)({defaultValues:{}}),s=i.register,o=i.setValue,a=i.setError,c=i.clearErrors,u=i.handleSubmit,d=i.formState.errors;s("staffAccountPermissions",{required:!0});var l=(0,y.useState)(!1),f=(0,w.Z)(l,2),h=f[0],p=f[1],x=(0,y.useState)([]),m=(0,w.Z)(x,2),g=m[0],Z=m[1],b=(0,y.useRef)(null),j=(0,y.useState)(!1),P=(0,w.Z)(j,2),N=P[0],k=P[1],S=N?"block":"none",E=(0,an.jsx)(Y,{display:S,ref:b,children:(0,an.jsx)(nn,{onClick:function(){return e(!1)},children:"Hu\u1ef7"})});return(0,y.useEffect)((function(){var n=function(n){b.current&&!b.current.contains(n.target)&&k(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[b]),(0,an.jsxs)(I.Z,{children:[(0,an.jsx)(J,{onClick:function(){return k(!N)},children:(0,an.jsx)(A.Z,{})}),E,(0,an.jsxs)(V,{children:[(0,an.jsx)(T.Z,{name:"staffPhoneNumber",register:s,isError:!!d.staffPhoneNumber,validations:{required:!0,pattern:{value:/^[0-9]{10}$/}},margin:"5px 10px 0 0",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",errorMessage:"*Ch\u1ec9 g\u1ed3m 10 s\u1ed1"}),(0,an.jsx)(T.Z,{type:"password",name:"staffPassword",register:s,isError:!!d.staffPassword,validations:{required:!0},placeholder:"M\u1eadt kh\u1ea9u",margin:"5px 0 0 10px"})]}),(0,an.jsx)(V,{children:"Quy\u1ec1n s\u1eed d\u1ee5ng:"}),(0,an.jsx)(K,{children:sn.Sr.map((function(n,e){return(0,an.jsxs)(W,{children:["0",e+1,".",(0,an.jsx)("input",{type:"checkbox",value:n.code,style:{margin:"0 3px"},onChange:function(n){return function(n){var e=n.target.value;if(n.target.checked){o("staffAccountPermissions",e),c("staffAccountPermissions");var r=[].concat((0,v.Z)(g),[e]);Z(r)}else{var t=g.filter((function(n){return n!==e}));Z(t),0===t.length&&(a("staffAccountPermissions"),o("staffAccountPermissions",void 0))}}(n)}}),n.label]},e)}))}),(0,an.jsx)(F.Z,{isError:!!d.staffAccountPermissions,errorMessage:"*B\u1eaft bu\u1ed9c ch\u1ecdn 1 trong c\xe1c quy\u1ec1n"}),h&&(0,an.jsx)(X,{children:"L\u1ed7i tr\xf9ng t\xean \u0111\u0103ng nh\u1eadp v\u1edbi nh\xe2n vi\xean kh\xe1c!"}),(0,an.jsx)(_.Z,{label:"X\xe1c nh\u1eadn",onClick:u((function(n){var i=n.staffPhoneNumber,s=n.staffPassword,o={staffPhoneNumber:i,staffPassword:s,subCustomerPermissions:g};if(-1===r.findIndex((function(n){return n.staffPhoneNumber===i}))){var a=[].concat((0,v.Z)(r),[o]);p(!1),e(!1),t(a)}else p(!0)}))})]})},un=function(n){var e=n.staffOfCustomerAccount||{},r=e._id,t=e.phoneNumber,i=(0,P.I0)(),s=(0,N.D)(tn.$E,{refetchQueries:[{query:on.q6},"GET_ACCOUNTS",{query:on.Qf},"GET_STAFF_OF_CUSTOMER_ACCOUNTS"]}),o=(0,w.Z)(s,1)[0],a=function(){var n=(0,j.Z)((0,b.Z)().mark((function n(){var e,s;return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={accountId:r},s={isDeleted:!0,phoneNumber:"".concat(t,"_deleted")},n.next=4,o({variables:{data:s,where:e}});case 4:n.sent.data&&i((0,rn._w)());case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,an.jsxs)(an.Fragment,{children:[(0,an.jsx)("p",{style:{margin:10,textAlign:"center"},children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 t\xe0i kho\u1ea3n n\xe0y?"}),(0,an.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:[(0,an.jsx)(O.Z,{label:"\u0110\xd3NG L\u1ea0I",fontWeight:"700",padding:"7px 10px",onClick:function(){return i((0,rn._w)())}}),(0,an.jsx)(q.Z,{label:"X\xc1C NH\u1eacN",fontWeight:"700",padding:"7px 10px",onClick:a})]})]})},dn=function(n){var e=n.staffAccount,r=n.isUpdatingStaffOfCustomer,t=n.setIsUpdatingStaffOfCustomer,i=e._id,s=e.fullName,o=e.phoneNumber,a=e.customerStaffPermissions,c=(0,C.cI)({defaultValues:{staffPhoneNumber:o,staffFullName:s,staffAccountPermissions:a}}),u=c.reset,d=c.register,l=c.setValue,f=c.setError,h=c.clearErrors,p=c.handleSubmit,x=c.formState.errors;d("staffAccountPermissions",{required:!0});var m=(0,P.I0)(),g=(0,N.D)(tn.$E,{onError:function(){var n={title:"L\u1ed7i",children:(0,an.jsx)("p",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 c\xf3 ng\u01b0\u1eddi \u0111\u0103ng k\xfd ho\u1eb7c m\xe1y ch\u1ee7 \u0111ang b\u1ea3o tr\xec. Vui l\xf2ng li\xean h\u1ec7 qu\u1ea3n tr\u1ecb h\u1ec7 th\u1ed1ng!"})};m((0,rn.om)(n))},refetchQueries:[{query:on.q6},"GET_ACCOUNTS",{query:on.Qf},"GET_STAFF_OF_CUSTOMER_ACCOUNTS"]}),k=(0,w.Z)(g,1)[0],A=(0,y.useState)(!1),S=(0,w.Z)(A,2),E=S[0],M=S[1],D=(0,y.useState)(!1),U=(0,w.Z)(D,2),H=U[0],Q=U[1],B=(0,y.useState)(a),G=(0,w.Z)(B,2),L=G[0],X=G[1],$=function(n){var e=sn.Sr.find((function(e){return e.code===n}));return e&&e.label||""},J=function(){var n=(0,j.Z)((0,b.Z)().mark((function n(e){var r,a,c,u,d;return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.staffFullName,a=e.staffPhoneNumber,c=e.staffPassword,u={accountId:i},d=(0,Z.Z)((0,Z.Z)((0,Z.Z)((0,Z.Z)({},r!==s&&{fullName:r}),a!==o&&{phoneNumber:a}),!!c.trim()&&{password:c.trim()}),H&&{customerStaffPermissions:L}),!!!Object.keys(d).length){n.next=11;break}return n.next=7,k({variables:{data:d,where:u}});case 7:n.sent.data&&(M(!1),t(!1)),n.next=13;break;case 11:M(!1),t(!1);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,an.jsxs)(I.Z,{children:[(0,an.jsx)(R,{children:s}),(0,an.jsxs)("span",{children:["\u2002- S\u0110T: ",o]}),(0,an.jsx)(z,{children:(0,an.jsx)("p",{children:"Quy\u1ec1n s\u1eed d\u1ee5ng:"})}),a.map((function(n,e){return(0,an.jsxs)("p",{children:["0",e+1,". ",$(n)]},e)})),!E&&!r&&(0,an.jsx)(_.Z,{label:"S\u1eeda",margin:"10px 0",onClick:function(){M(!0),t(!0)}}),!E&&!r&&(0,an.jsx)(q.Z,{label:"Xo\xe1",margin:"10px",onClick:function(){var n={title:"X\xe1c nh\u1eadn xo\xe1 t\xe0i kho\u1ea3n",children:(0,an.jsx)(un,{staffOfCustomerAccount:e})};m((0,rn.om)(n))}}),E&&r&&(0,an.jsxs)(an.Fragment,{children:[(0,an.jsx)("hr",{}),(0,an.jsxs)(V,{children:[(0,an.jsx)(T.Z,{name:"staffPhoneNumber",register:d,isError:!!x.staffPhoneNumber,validations:{required:!0,pattern:{value:/^[0-9]{10}$/}},margin:"5px 10px 0 0",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i m\u1edbi",errorMessage:"*Ch\u1ec9 g\u1ed3m 10 s\u1ed1"}),(0,an.jsx)(T.Z,{type:"password",name:"staffPassword",register:d,isError:!!x.staffPassword,placeholder:"M\u1eadt kh\u1ea9u m\u1edbi",margin:"5px 0 0 10px"})]}),(0,an.jsx)(V,{children:(0,an.jsx)(T.Z,{width:"48%",name:"staffFullName",register:d,isError:!!x.staffFullName,margin:"5px 10px 0 0",validations:{required:!0},placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i m\u1edbi",errorMessage:"*Ch\u1ec9 g\u1ed3m 10 s\u1ed1"})}),(0,an.jsx)(V,{children:"Quy\u1ec1n s\u1eed d\u1ee5ng:"}),(0,an.jsx)(K,{children:sn.Sr.map((function(n,e){return(0,an.jsxs)(W,{children:["0",e+1,".",(0,an.jsx)("input",{type:"checkbox",value:n.code,style:{margin:"0 3px"},onChange:function(n){return function(n){Q(!0);var e=n.target.value;if(n.target.checked){l("staffAccountPermissions",e),h("staffAccountPermissions");var r=[].concat((0,v.Z)(L),[e]);X(r)}else{var t=L.filter((function(n){return n!==e}));X(t),0===t.length&&(f("staffAccountPermissions"),l("staffAccountPermissions",void 0))}}(n)},checked:!!L.includes(n.code)}),n.label]},e)}))}),(0,an.jsx)(F.Z,{isError:!!x.staffAccountPermissions,errorMessage:"*B\u1eaft bu\u1ed9c ch\u1ecdn 1 trong c\xe1c quy\u1ec1n"}),(0,an.jsx)(_.Z,{label:"X\xc1C NH\u1eacN",padding:"5px 10px",onClick:p(J)}),(0,an.jsx)(O.Z,{label:"HU\u1ef6",padding:"5px 10px",onClick:function(){u(),M(!1),t(!1),X(a)}})]})]})},ln=function(n){var e=n.customerAccount||{},r=e._id,t=e.idCode,i=e.fullName,s=e.phoneNumber,o=e.address,a=e.applyingDiscount,c=e.debtOverdueDays,u=e.saleStaffInfo,d=e.fatherChildrenAccountIds,l=(0,C.cI)({defaultValues:{idCode:t,fullName:i,phoneNumber:s,address:o,applyingDiscount:a,debtOverdueDays:c,staffAccount:u}}),f=l.register,h=l.setValue,p=l.clearErrors,x=l.handleSubmit,m=l.formState.errors,g=(0,k.a)(on.Qf,{variables:{where:{fatherChildrenAccountIds:d}},fetchPolicy:"cache-and-network"}).data,v=g&&g.staffOfCustomerAccounts||[];f("staffAccount",{required:!0});var A=(0,P.I0)(),q=(0,y.useState)(u),F=(0,w.Z)(q,2),U=F[0],H=F[1],Q=(0,y.useState)(!1),X=(0,w.Z)(Q,2),K=X[0],W=X[1],J=(0,y.useState)([]),Y=(0,w.Z)(J,2),nn=Y[0],un=Y[1],ln=(0,y.useState)(!1),fn=(0,w.Z)(ln,2),hn=fn[0],pn=fn[1],xn=((0,P.v9)((function(n){return n.authReducer})).viewerQuery||{}).permissions,mn=(void 0===xn?[]:xn).includes(sn.gz.CAN_CREATE_CUSTOMER),gn=(0,N.D)(tn.$E,{onError:function(){var n={title:"L\u1ed7i",children:(0,an.jsx)("p",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 c\xf3 ng\u01b0\u1eddi \u0111\u0103ng k\xfd ho\u1eb7c m\xe1y ch\u1ee7 \u0111ang b\u1ea3o tr\xec. Vui l\xf2ng li\xean h\u1ec7 qu\u1ea3n tr\u1ecb h\u1ec7 th\u1ed1ng!"})};A((0,rn.om)(n))},refetchQueries:[{query:on.q6},"GET_ACCOUNTS"]}),Zn=(0,w.Z)(gn,1)[0],bn=U?(0,an.jsxs)(z,{style:{width:"100%"},children:[(0,an.jsxs)(L,{children:[U.fullName," - ",U.phoneNumber]}),(0,an.jsx)(_.Z,{label:"\u0110\u1ed5i",onClick:function(){H(void 0),h("staffAccount",void 0)}})]}):(0,an.jsx)(S.Z,{isSelectOne:!0,notBeCustomer:!0,isError:!!m.staffAccount,onClickSelectResultItem:function(n){p("staffAccount"),H(n.node),h("staffAccount",n.node)}}),jn=nn.map((function(n,e){return(0,an.jsxs)(I.Z,{children:[(0,an.jsxs)(z,{children:[(0,an.jsxs)("p",{children:["T\xean \u0111\u0103ng nh\u1eadp: \u2002",(0,an.jsx)(R,{children:n.staffPhoneNumber})]}),(0,an.jsx)(O.Z,{label:"Xo\xe1",onClick:function(){return function(n){var e=nn.filter((function(e){return e.staffPhoneNumber!==n}));un(e)}(n.staffPhoneNumber)}})]}),(0,an.jsxs)(V,{children:[(0,an.jsx)("p",{children:"M\u1eadt kh\u1ea9u: \u2002"}),(0,an.jsx)(L,{children:"******"})]}),(0,an.jsx)(L,{children:"Quy\u1ec1n s\u1eed d\u1ee5ng:"}),n.subCustomerPermissions.map((function(n,e){var r=sn.Sr.find((function(e){return e.code===n}));return(0,an.jsxs)("p",{children:["- ",r.label]},e)}))]},e)})),vn=function(){var n=(0,j.Z)((0,b.Z)().mark((function n(e){var d,l,f,h,p,x,m,g,j,v,w,y,C,P,N,k;return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d=e.idCode,l=e.password,f=e.phoneNumber,h=e.fullName,p=e.address,x=e.staffAccount,m=e.applyingDiscount,g=e.debtOverdueDays,v=(j=x||{})._id,w=j.managerAccountId,y=j.directorAccountId,C=(u||{})._id,P=C!==v,N=(0,Z.Z)((0,Z.Z)((0,Z.Z)((0,Z.Z)((0,Z.Z)((0,Z.Z)((0,Z.Z)((0,Z.Z)((0,Z.Z)({},d.trim()!==t&&{idCode:d}),f.trim()!==s&&{phoneNumber:f}),!!l.trim()&&{password:l.trim()}),h.trim()!==i&&{fullName:h}),p.trim()!==o&&{address:p}),Number(m)!==a&&{applyingDiscount:Number(m)}),Number(g)!==c&&{debtOverdueDays:Number(g)}),P&&{staffAccountId:v,managerAccountId:w,directorAccountId:y}),nn.length&&{customerStaffAccounts:nn}),!!!Object.keys(N).length){n.next=11;break}return n.next=9,Zn({variables:{data:N,where:{accountId:r}}});case 9:n.sent.data&&(k={title:"C\u1eadp nh\u1eadt kh\xe1ch h\xe0ng",children:(0,an.jsx)("p",{children:"C\u1eadp nh\u1eadt kh\xe1ch h\xe0ng th\xe0nh c\xf4ng!"})},A((0,rn.om)(k)),A((0,rn.Ay)()));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,an.jsxs)(B,{children:[(0,an.jsxs)(I.Z,{children:[(0,an.jsxs)(V,{children:[(0,an.jsx)(T.Z,{name:"idCode",width:"30%",register:f,isError:!!m.idCode,validations:{required:!0},placeholder:"M\xe3 kh\xe1ch h\xe0ng"}),(0,an.jsx)(T.Z,{name:"fullName",width:"70%",margin:"5px 0 5px 20px",register:f,isError:!!m.fullName,validations:{required:!0},placeholder:"H\u1ecd t\xean Kh\xe1ch h\xe0ng"})]}),(0,an.jsxs)(V,{children:[(0,an.jsx)(T.Z,{name:"phoneNumber",register:f,isError:!!m.phoneNumber,validations:{required:!0,pattern:{value:/^[0-9]{10}$/}},margin:"5px 10px 0 0",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",errorMessage:"*Ch\u1ec9 g\u1ed3m 10 s\u1ed1"}),(0,an.jsx)(T.Z,{type:"password",name:"password",register:f,isError:!!m.password,placeholder:"M\u1eadt kh\u1ea9u",margin:"5px 0 0 10px"})]}),(0,an.jsxs)(V,{children:[(0,an.jsx)(G,{children:"\u0110\u1ecba ch\u1ec9:"}),(0,an.jsx)(T.Z,{name:"address",register:f,isError:!!m.address,validations:{required:!0}})]}),(0,an.jsxs)(V,{children:[(0,an.jsx)(G,{style:{width:125},children:"Gi\xe1 t\xednh tr\xean ho\xe1 \u0111\u01a1n"}),":",(0,an.jsx)(T.Z,{min:0,width:"70px",type:"number",textAlign:"right",name:"applyingDiscount",register:f,validations:{required:!0,min:0},isError:!!m.applyingDiscount,errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0"}),(0,an.jsx)("p",{style:{width:100},children:"% B\u1ea3ng gi\xe1"})]}),(0,an.jsxs)(V,{children:[(0,an.jsx)(G,{style:{width:125},children:"Th\u1eddi h\u1ea1n n\u1ee3"}),":",(0,an.jsx)(T.Z,{min:0,width:"70px",type:"number",textAlign:"right",register:f,margin:"5px 5px 0 5px",name:"debtOverdueDays",validations:{required:!0,min:0},isError:!!m.debtOverdueDays,errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0"}),(0,an.jsx)("p",{children:"ng\xe0y"})]}),(0,an.jsxs)(V,{children:[(0,an.jsx)(G,{style:{width:175},children:"Nh\xe2n vi\xean ph\u1ee5 tr\xe1ch"}),":\u2002",bn]})]}),!!v.length&&(0,an.jsxs)(an.Fragment,{children:[(0,an.jsx)($,{children:"T\xc0I KHO\u1ea2N NH\xc2N VI\xcaN:"}),v.map((function(n,e){return(0,an.jsx)(dn,{staffAccount:n,isUpdatingStaffOfCustomer:hn,setIsUpdatingStaffOfCustomer:pn},"".concat(n.code,"-").concat(e))}))]}),(0,an.jsx)($,{children:"NH\xc2N VI\xcaN TH\xcaM M\u1edaI:"}),jn,K&&(0,an.jsx)(cn,{setIsAddingCustomerStaff:W,customerStaffAccounts:nn,setCustomerStaffAccounts:un}),!K&&mn&&(0,an.jsx)(E.Z,{label:"+ Nh\xe2n vi\xean c\u1ee7a Kh\xe1ch",onClick:function(){return W(!0)}}),!hn&&(0,an.jsxs)(en,{children:[(0,an.jsx)(D.Z,{label:"\u0110\xd3NG L\u1ea0I",onClick:function(){return A((0,rn.Ay)())}}),(0,an.jsx)(M.Z,{label:"X\xc1C NH\u1eacN",onClick:x(vn)})]})]})}}}]);