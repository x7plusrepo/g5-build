"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[5201],{2447:function(n,t,r){r.d(t,{Z:function(){return U}});var e,o,i,c,a,u,l,d,s,p,f,x,g,h=r(885),v=r(7313),m=r(3222),Z=r(2669),E=r(6618),j=r(6881),y=r(6069),b=r(168),C=r(3115),P=r(1237),T=(C.ZP.div(e||(e=(0,b.Z)(["\n  padding: 0;\n  font-size: 12px;\n"]))),C.ZP.div(o||(o=(0,b.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),C.ZP.div(i||(i=(0,b.Z)([""]))),C.ZP.div(c||(c=(0,b.Z)(["\n  display: flex;\n  margin: 15px auto;\n  width: fit-content;\n  justify-content: center;\n  border: solid 1px ",";\n"])),P.Z.primary),C.ZP.div(a||(a=(0,b.Z)(["\n  padding: 5px 10px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),C.ZP.div(u||(u=(0,b.Z)(["\n  cursor: pointer;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  margin: ",";\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"])),(function(n){return n.customerMargin}))),_=C.ZP.div(l||(l=(0,b.Z)([""]))),I=(C.ZP.div(d||(d=(0,b.Z)(["\n  display: flex;\n  margin: 10px 0 5px;\n  align-items: center;\n  justify-content: space-between;\n"]))),C.ZP.span(s||(s=(0,b.Z)(["\n  font-size: 12px;\n  font-style: italic;\n  color: ",";\n"])),P.Z.secondary)),w=C.ZP.p(p||(p=(0,b.Z)(["\n  font-size: 12px;\n  width: fit-content;\n  font-style: italic;\n  color: ",";\n"])),P.Z.secondary),M=C.ZP.div(f||(f=(0,b.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),S=C.ZP.div(x||(x=(0,b.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),k=C.ZP.div(g||(g=(0,b.Z)(["\n  padding: 3px 5px;\n  font-size: 12px;\n  &:hover {\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  }\n"]))),O=r(2153),R=r(3070),N=r(6524),Y=r(6417),F=R.fH.MONEY_FIXED_VALUE,H=R.fH.MONEY_PERCENT_OF_ORDER_VALUE,D=R.fH.MONEY_PERCENT_OF_DIFFERENCE_ORDER_VALUE,K=R.fH.MONEY_ORDER_QUANTITY,z=R.fH.MONEY_DIFFERENCE_ORDER_QUANTITY,A=R.fH.MONEY_ORDER_WEIGHT,L=R.fH.MONEY_DIFFERENCE_ORDER_WEIGHT,V=(0,v.lazy)((function(){return r.e(5364).then(r.bind(r,7471))})),Q=function(n){var t,r=n.customerMargin,e=n.discountPromotionItem,o=(0,m.I0)(),i=(0,v.useRef)(null),c=(0,v.useState)(!1),a=(0,h.Z)(c,2),u=a[0],l=a[1],d=u?"block":"none",s=e||{},p=s._id,f=(s.code,s.typeCode),x=s.startTime,g=s.endTime,b=s.title,C=s.conditions,P=s.detail,Q=s.payWhenCreateOrder,U=P.moneyMethodCode,B=P.products,J=P.value,W=P.giftDescription,q=P.paymentTypeCode,G=f===R.t_.OTHER,X=(0,y.dh)(x),$=(0,y.dh)(g),nn=b&&(null===(t=b[0])||void 0===t?void 0:t.showText),tn=Q?"Tr\u1ea3 ngay khi \u0111\u1eb7t h\xe0ng":"Tr\u1ea3 sau",rn=function(n,t){var r=1===n.length,e=function(){switch(t){case R.rh.MONEY_ACHIEVE_TYPE:return"\u0111";case R.rh.QUANTITY_ACHIEVE_TYPE:return"bao";case R.rh.WEIGHT_ACHIEVE_TYPE:return"".concat(n[0].netUnitValue).concat(n[0].unitString)}}(),o=function(n,t){var o=n.minRequireValue,i=(n.productInfo||{}).name;r||"".concat(t+1,". ");return(0,Y.jsxs)("p",{children:[(0,Y.jsx)(I,{children:"- Khi mua"})," ",(0,j.Z)(i)," - S\u1ed1 l\u01b0\u1ee3ng: \u2265 ",o," (",e,")"," "]})};return n.map((function(n,t){return(0,Y.jsx)(v.Fragment,{children:o(n,t)},t)}))},en=(0,Y.jsx)(Y.Fragment,{children:C.map((function(n,t){var r=n.products,e=n.productConditionType,o=n.minTotalRequireValue,i=(0,y.RX)(e,r[0].netUnitValue,r[0].unitString);return(0,Y.jsxs)(v.Fragment,{children:[rn(r,e),(0,Y.jsxs)("p",{children:["T\u1ed5ng ",i.type," c\u1ea7n \u0111\u1ea1t: ",o," ",i.unit]}),(0,Y.jsx)("hr",{})]},t)}))}),on=(0,Y.jsx)(Y.Fragment,{children:function(){var n=[F,H,D,K,z,A,L];switch(q){case R.ad.MONEY_TYPE:var t=n.find((function(n){return n.value===U}));return"T\u1eb7ng/CKKM: ".concat(function(n){if(n.value===F.value)return"Ti\u1ec1n m\u1eb7t ".concat(J.toLocaleString()," \u0111");var t=n.value.includes("percent_of")?"%":"\u0111";return"Ti\u1ec1n = ".concat(J.toLocaleString()).concat(t)+n.label.slice(12)}(t));case R.ad.GIFT_TYPE:return"T\u1eb7ng/CKKM: ".concat(W," tr\u1ecb gi\xe1 ").concat(J.toLocaleString()," \u0111");case R.ad.TAX_OFFSET:return"C\u1ea5n tr\u1eeb: ".concat(W," ").concat(J.toLocaleString()," \u0111");case R.ad.PRODUCT_TYPE:return function(n){var t=1===n.length,r=function(n,r){var e,o=n.quantity,i=(n.productInfo||{}).name,c=t?"T\u1eb7ng/CKKM:":"".concat(r+1,". ");return(0,Y.jsxs)("p",{children:[c,"T\u1eb7ng ",o," ",i&&(null===(e=i[0])||void 0===e?void 0:e.showText)]})};return(0,Y.jsxs)(Y.Fragment,{children:[!t&&(0,Y.jsx)("p",{children:"T\u1eb7ng/CKKM:"}),n.map((function(n,t){return(0,Y.jsx)(v.Fragment,{children:r(n,t)},t)}))]})}(B);default:return null}}()}),cn=(0,Y.jsx)(S,{display:d,ref:i,children:(0,Y.jsx)(k,{onClick:function(){var n={title:"Tr\u1ea3 CK/KM cho ch\u01b0\u01a1ng tr\xecnh d\u1ea1ng kh\xe1c",children:(0,Y.jsx)(v.Suspense,{fallback:(0,Y.jsx)(Y.Fragment,{children:"..."}),children:(0,Y.jsx)(N.default,{discountPromotionId:p})})};o((0,O.dn)(n))},children:"Tr\u1ea3 CK/KM"})}),an=(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(M,{onClick:function(){return l(!u)},children:(0,Y.jsx)(E.Z,{})}),cn]});return(0,v.useEffect)((function(){var n=function(n){i.current&&!i.current.contains(n.target)&&l(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[i]),(0,Y.jsxs)(T,{customerMargin:r,children:[G&&an,(0,Y.jsxs)(_,{onClick:function(){var n={title:"Chi ti\u1ebft chi\u1ebft kh\u1ea5u/khuy\u1ebfn m\u1ea1i",children:(0,Y.jsx)(v.Suspense,{fallback:(0,Y.jsx)(Y.Fragment,{children:"..."}),children:(0,Y.jsx)(V,{discountPromotionItem:e})})};o((0,O.FV)(n))},children:[(0,Y.jsxs)(Z.Z,{fontSize:12,fontWeight:700,children:[X," - ",$,": ",nn]}),en,on,(0,Y.jsx)(w,{children:tn})]})]})};Q.defaultProps={customerMargin:"15px 10px"};var U=Q},9373:function(n,t,r){r.r(t),r.d(t,{default:function(){return G}});var e,o,i,c,a,u,l,d,s,p,f,x,g,h,v,m,Z=r(2982),E=r(1413),j=r(885),y=r(7313),b=r(3222),C=r(1677),P=r(2262),T=r(1300),_=r(2447),I=r(168),w=r(3115),M=r(1237),S=w.ZP.div(e||(e=(0,I.Z)(["\n  font-size: 12px;\n  padding: 20px 20px 50px;\n"]))),k=w.ZP.div(o||(o=(0,I.Z)([""]))),O=w.ZP.img(i||(i=(0,I.Z)(["\n  width: 100%;\n"]))),R=w.ZP.div(c||(c=(0,I.Z)(["\n  width: 100%;\n"]))),N=w.ZP.h3(a||(a=(0,I.Z)(["\n  font-weight: 600;\n"]))),Y=w.ZP.p(u||(u=(0,I.Z)(["\n  font-size: 12px;\n  font-style: italic;\n  text-decoration: line-through;\n"]))),F=w.ZP.p(l||(l=(0,I.Z)(["\n  font-weight: 600;\n  color: ",";\n"])),M.Z.primary),H=w.ZP.div(d||(d=(0,I.Z)(["\n  margin: 20px 0;\n"]))),D=w.ZP.div(s||(s=(0,I.Z)(["\n  display: flex;\n  margin: 15px auto;\n  justify-content: center;\n  border: solid 1px ",";\n"])),M.Z.primary),K=w.ZP.div(p||(p=(0,I.Z)(["\n  width: 50%;\n  padding: 5px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),z=w.ZP.div(f||(f=(0,I.Z)(["\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  padding: 10px;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: space-around;\n  background-color: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),M.Z.rgbaBlack),A=w.ZP.div(x||(x=(0,I.Z)(["\n  width: 50%;\n  color: #fff;\n  display: flex;\n  font-size: 15px;\n  font-weight: 600;\n  align-items: center;\n  justify-content: flex-start;\n"]))),L=w.ZP.div(g||(g=(0,I.Z)(["\n  width: 50%;\n  display: flex;\n  justify-content: center;\n"]))),V=w.ZP.h3(h||(h=(0,I.Z)(["\n  margin: 5px 0;\n  font-size: 13px;\n  font-weight: 700;\n  color: ",";\n"])),M.Z.secondary),Q=(w.ZP.div(v||(v=(0,I.Z)(["\n  padding: 10px;\n  cursor: pointer;\n  margin: 0 0 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),w.ZP.h5(m||(m=(0,I.Z)(["\n  font-weight: 700;\n"]))),r(2153)),U=r(3070),B=r(5222),J=r(6417),W=function(n){var t=n.productItem,r=t.detailDescription,e=t.discountPromotions,o=[{code:"discount_promotion",label:"Chi\u1ebft kh\u1ea5u/Khuy\u1ebfn m\u1ea1i"},{code:"detail_description",label:"M\xf4 t\u1ea3 chi ti\u1ebft"}],i=(0,y.useState)(o[0]),c=(0,j.Z)(i,2),a=c[0],u=c[1],l=(0,y.useRef)(null),d=function(n){return n.code===a.code?{backgroundColor:M.Z.primary,textColor:"#fff"}:{backgroundColor:"transparent",textColor:""}},s=(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(V,{children:"CKKM li\xean quan:"}),!e.length&&(0,J.jsx)(B.Z,{children:(0,J.jsx)("p",{children:"Hi\u1ec7n kh\xf4ng c\xf3 CK/KM n\xe0o li\xean quan"})}),e.map((function(n,t){return(0,J.jsx)(_.Z,{discountPromotionItem:n,customerMargin:"margin: 0"},t)}))]}),p=a.code===o[0].code?s:null;return(0,y.useEffect)((function(){var n,t=r&&(null===(n=r[0])||void 0===n?void 0:n.showText);l.current&&(l.current.innerHTML=t)}),[]),(0,y.useEffect)((function(){var n=a.code===o[1].code?"block":"none";l.current&&(l.current.style.display=n)}),[a.code]),(0,J.jsxs)(H,{children:[(0,J.jsx)(D,{children:o.map((function(n,t){return(0,J.jsx)(K,{activeColor:d(n),onClick:function(){return u(n)},borderLeftColor:t>0?M.Z.primary:"transparent",children:n.label},t)}))}),p,(0,J.jsx)("div",{ref:l})]})},q=function(n){var t=n.productItem,r=n.selectedProducts,e=n.setSelectedProducts,o=t.code,i=t.name,c=t.price,a=t.imgUri,u=t.shortDescription,l=1-.01*((0,b.v9)((function(n){return n.authReducer})).viewerQuery||{}).applyingDiscount,d=r.find((function(n){return n.code===o})),s=d&&d.orderQty||0,p=(0,b.I0)(),f=(0,y.useState)(s),x=(0,j.Z)(f,2),g=x[0],h=x[1];return(0,J.jsxs)(S,{children:[(0,J.jsxs)(k,{children:[(0,J.jsx)(O,{src:a,alt:"product-detail"}),(0,J.jsxs)(R,{children:[(0,J.jsxs)(N,{children:[o," - ",i[0].showText]}),(0,J.jsxs)(Y,{children:[c.toLocaleString(),"\u0111"]}),(0,J.jsxs)(F,{children:[(c*l).toLocaleString(),"\u0111"]}),(0,J.jsx)("hr",{}),(0,J.jsx)("p",{children:u[0].showText})]})]}),(0,J.jsx)(W,{productItem:t}),(0,J.jsxs)(z,{children:[(0,J.jsxs)(A,{children:[(0,J.jsx)("span",{children:"S\u1ed1 l\u01b0\u1ee3ng \u0111\u1eb7t: "}),(0,J.jsx)(P.Z,{onClick:function(){var n=g-1;if(n>0&&d){h(n);var t=r.map((function(t){return t.code===o?(t.orderQty=n,t):t}));e(t),localStorage.setItem(U.B,JSON.stringify(t))}else if(0===n&&d){h(n);var i=r.filter((function(n){return n.code!==o}));e(i),localStorage.setItem(U.B,JSON.stringify(i))}},label:"-"}),(0,J.jsx)("input",{min:0,type:"number",value:g,onChange:function(n){var i=parseInt(n.target.value,10),c=0===i||isNaN(i);if(i>0&&d){h(i);var a=r.map((function(n){return n.code===o?(n.orderQty=i,n):n}));e(a),localStorage.setItem(U.B,JSON.stringify(a))}else if(i>0&&!d){h(i);var u=(0,E.Z)((0,E.Z)({},t),{},{orderQty:i}),l=[].concat((0,Z.Z)(r),[u]);e(l),localStorage.setItem(U.B,JSON.stringify(l))}else if(c&&d){h(0);var s=r.filter((function(n){return n.code!==o}));e(s),localStorage.setItem(U.B,JSON.stringify(s))}},style:{width:50,margin:"0 5px",padding:"0 0 0 7px"}}),(0,J.jsx)(C.Z,{label:"+",onClick:function(){var n=g+1;if(h(n),d){var i=r.map((function(t){return t.code===o?(t.orderQty=n,t):t}));e(i),localStorage.setItem(U.B,JSON.stringify(i))}else{var c=(0,E.Z)((0,E.Z)({},t),{},{orderQty:n}),a=[].concat((0,Z.Z)(r),[c]);e(a),localStorage.setItem(U.B,JSON.stringify(a))}}})]}),(0,J.jsx)(L,{children:(0,J.jsx)(T.Z,{label:"OK",onClick:function(){p((0,Q.Ay)())}})})]})]})};q.defaultProps={productItem:{},selectedProducts:[],setSelectedProducts:function(){}};var G=q},6947:function(n,t,r){r.d(t,{Z:function(){return p}});r(7313);var e,o,i=r(168),c=r(3115),a=c.ZP.div(e||(e=(0,i.Z)(["\n  height: 14px;\n  overflow: hidden;\n"]))),u=c.ZP.p(o||(o=(0,i.Z)(["\n  color: #dc3545;\n  font-size: 10px;\n  line-height: 10px;\n  transition: all 0.5s;\n  margin: 3px 0 0 5px;\n  transform: ",";\n  opacity: ",";\n"])),(function(n){return n.textTransform}),(function(n){return n.isError?1:0})),l=r(3070),d=r(6417),s=function(n){var t=n.isError,r=n.errorMessage,e=t?"translateY(0)":"translateY(110%)";return(0,d.jsx)(a,{children:(0,d.jsx)(u,{isError:t,textTransform:e,children:r})})};s.defaultProps={isError:!1,errorMessage:l.ug.REQUIRED};var p=s},6881:function(n,t,r){var e=r(2163);t.Z=function(n){if(Array.isArray(n)){var t,r=n||[],o=e.t.getState().commonReducer,i=o&&(null===(t=o.activeLanguage)||void 0===t?void 0:t.locale)||"vi";return(r.find((function(n){return n&&n.locale===i}))||{}).showText||""}return""}},6069:function(n,t,r){r.d(t,{RX:function(){return c},dh:function(){return i},tO:function(){return o},zZ:function(){return a}});var e=r(3070),o=function(n,t){if(t){for(var r=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),e=0,o=r.length;e<o;++e){var i=r[e];if(!(i in n))return;n=n[i]}return n}},i=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Date(n),e=r.getFullYear(),o=r.getMonth()+1,i=r.getDate(),c=r.getHours(),a=r.getMinutes();return i=i<10?"0"+i:i,o=o<10?"0"+o:o,c=c<10?"0"+c:c,a=a<10?"0"+a:a,t?"".concat(i,"/").concat(o,"/").concat(e," - ").concat(c,":").concat(a):"".concat(i,"/").concat(o,"/").concat(e)},c=function(n,t,r){switch(n){case e.rh.MONEY_ACHIEVE_TYPE:return{unit:"\u0111",type:"T\u1ed5ng ti\u1ec1n"};case e.rh.QUANTITY_ACHIEVE_TYPE:return{unit:"bao",type:"S\u1ed1 l\u01b0\u1ee3ng"};case e.rh.WEIGHT_ACHIEVE_TYPE:return{unit:"".concat(t).concat(r),type:"Kh\u1ed1i l\u01b0\u1ee3ng"}}},a=function(n,t){return isNaN(t)?n:"string"===typeof n?n.split(" ").slice(0,parseInt(t,10)).join(" "):n}},2206:function(n,t,r){r.d(t,{d0:function(){return i}});var e=r(4942),o=r(2982);function i(n,t,r){var i=t[n],c=i.edges,a=i.pageInfo;return c.length?(0,e.Z)({},n,{__typename:r[n].__typename,edges:[].concat((0,o.Z)(r[n].edges),(0,o.Z)(c)),pageInfo:a}):r}},6618:function(n,t,r){var e=r(4836);t.Z=void 0;var o=e(r(5045)),i=r(6417),c=(0,o.default)((0,i.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.Z=c},790:function(n,t,r){r.d(t,{D:function(){return d}});var e=r(6797),o=r(7313),i=r(345),c=r(3301),a=r(8112),u=r(4624),l=r(1511);function d(n,t){var r=(0,l.x)(null===t||void 0===t?void 0:t.client);(0,a.Vp)(n,a.n_.Mutation);var d=(0,o.useState)({called:!1,loading:!1,client:r}),s=d[0],p=d[1],f=(0,o.useRef)({result:s,mutationId:0,isMounted:!0,client:r,mutation:n,options:t});Object.assign(f.current,{client:r,options:t,mutation:n});var x=(0,o.useCallback)((function(n){void 0===n&&(n={});var t=f.current,r=t.client,o=t.options,a=t.mutation,l=(0,e.pi)((0,e.pi)({},o),{mutation:a});f.current.result.loading||l.ignoreResults||!f.current.isMounted||p(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:r});var d=++f.current.mutationId,s=(0,i.J)(l,n);return r.mutate(s).then((function(t){var e,o,i,a=t.data,l=t.errors,x=l&&l.length>0?new u.c({graphQLErrors:l}):void 0;if(d===f.current.mutationId&&!s.ignoreResults){var g={called:!0,loading:!1,data:a,error:x,client:r};f.current.isMounted&&!(0,c.D)(f.current.result,g)&&p(f.current.result=g)}return null===(o=null===(e=f.current.options)||void 0===e?void 0:e.onCompleted)||void 0===o||o.call(e,t.data,s),null===(i=n.onCompleted)||void 0===i||i.call(n,t.data,s),t})).catch((function(t){var e,o,i,a;if(d===f.current.mutationId&&f.current.isMounted){var u={loading:!1,error:t,data:void 0,called:!0,client:r};(0,c.D)(f.current.result,u)||p(f.current.result=u)}if((null===(e=f.current.options)||void 0===e?void 0:e.onError)||s.onError)return null===(i=null===(o=f.current.options)||void 0===o?void 0:o.onError)||void 0===i||i.call(o,t,s),null===(a=n.onError)||void 0===a||a.call(n,t,s),{data:void 0,errors:t};throw t}))}),[]),g=(0,o.useCallback)((function(){f.current.isMounted&&p({called:!1,loading:!1,client:r})}),[]);return(0,o.useEffect)((function(){return f.current.isMounted=!0,function(){f.current.isMounted=!1}}),[]),[x,(0,e.pi)({reset:g},s)]}}}]);