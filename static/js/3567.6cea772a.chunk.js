"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[3567],{9146:function(e,n,t){t.d(n,{Z:function(){return u}});var i,r=t(1413),a=(t(7313),t(168)),o=t(3115),s=t(1237),l=o.ZP.button(i||(i=(0,a.Z)(["\n  left: 0;\n  bottom: 0;\n  z-index: 1;\n  width: 100%;\n  color: #fff;\n  border: none;\n  display: flex;\n  padding: 10px;\n  position: fixed;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  padding: 15px 20px;\n  align-items: center;\n  text-transform: uppercase;\n  justify-content: space-around;\n  background-color: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),s.Z.rgbaBlack),d=t(6417),c=function(e){var n=e.label;return(0,d.jsx)(l,(0,r.Z)((0,r.Z)({},e),{},{children:n}))};c.defaultProps={label:"N\xfat b\u1ea5m"};var u=c},8987:function(e,n,t){t.d(n,{Z:function(){return l}});t(7313);var i=t(7155),r=t(6417),a=window.matchMedia("(prefers-color-scheme: dark)").matches,o=function(e){var n=e.editorRef,t=e.initialValue,o=e.placeholder;return(0,r.jsx)(i.M,{apiKey:"yel23pvjfocsjnw7gyo8q7soxq14drlhhyjk46gstvymozel",onInit:function(e,t){return n.current=t},initialValue:t,init:{height:350,selector:"textarea#full-featured",plugins:"print preview importcss searchreplace autolink autosave save directionality visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount textpattern noneditable help charmap quickbars emoticons",menubar:!0,toolbar:"undo redo | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | numlist bullist | outdent indent | forecolor backcolor casechange | fontselect fontsizeselect formatselect | removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | a11ycheck ltr rtl | showcomments addcomment",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,link_list:[{title:"My page 1",value:"https://www.tiny.cloud"},{title:"My page 2",value:"http://www.moxiecode.com"}],image_list:[{title:"My page 1",value:"https://www.tiny.cloud"},{title:"My page 2",value:"http://www.moxiecode.com"}],image_class_list:[{title:"None",value:""},{title:"Some class",value:"class-name"}],importcss_append:!0,templates:[{title:"New Table",description:"creates a new table",content:'<div class="mceTmpl"><table width="98%%"  border="0" cellspacing="0" cellpadding="0"><tr><th scope="col"> </th><th scope="col"> </th></tr><tr><td> </td><td> </td></tr></table></div>'},{title:"Starting my story",description:"A cure for writers block",content:"Once upon a time..."},{title:"New list with dates",description:"New List with dates",content:'<div class="mceTmpl"><span class="cdate">cdate</span><br /><span class="mdate">mdate</span><h2>My List</h2><ul><li></li><li></li></ul></div>'}],template_cdate_format:"[Date Created (CDATE): %m/%d/%Y : %H:%M:%S]",template_mdate_format:"[Date Modified (MDATE): %m/%d/%Y : %H:%M:%S]",image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",noneditable_noneditable_class:"mceNonEditable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],contextmenu:"link image table configurepermanentpen",skin:a?"oxide-dark":"oxide",content_css:a?"dark":"default",placeholder:o||"",content_style:"body {font-size: 12pt;}"}})},s=function(e){var n=e.initValue,t=(e.title,e.editorRef),i=e.placeholder;return(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)(o,{editorRef:t,initialValue:n,placeholder:i})})};s.defaultProps={initValue:"",placeholder:"Nh\u1eadp n\u1ed9i dung..."};var l=s},3182:function(e,n,t){t.d(n,{Z:function(){return m}});var i,r,a=t(1413),o=(t(7313),t(2180)),s=t(6947),l=t(168),d=t(3115),c=t(1237),u=d.ZP.div(i||(i=(0,l.Z)(["\n  height: 30px;\n  margin: 0 10px 0 5px;\n  width: ",";\n"])),(function(e){return e.customerWidth})),p=d.ZP.select(r||(r=(0,l.Z)(["\n  width: 100%;\n  border: none;\n  font-size: 12px;\n  font-weight: 300;\n  padding: 4px 0 0;\n  height: ",";\n  border-bottom: 1px solid ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    outline: none;\n    box-shadow: none;\n  }\n"])),(function(e){return e.height}),c.Z.secondary),h=t(6417),g=function(e){var n=e.label,t=e.options,i=e.name,r=e.placeholder,l=e.validations,d=e.register,c=e.isDisabled,g=e.isError,m=e.onChange,x=e.errorMessage,f=e.setFieldValue,b=e.dependencyFieldName,Z=e.customerWidth;return(0,h.jsxs)(u,{customerWidth:Z,children:[n&&(0,h.jsx)(o.Z,{label:n}),(0,h.jsxs)(p,(0,a.Z)((0,a.Z)((0,a.Z)({},e),{},{disabled:c,onChange:function(e){m&&m(e),f&&(f(i,e.target.value),f(b,void 0))}},d(i,l)),{},{children:[(0,h.jsx)("option",{value:"",disabled:!0,children:r}),t.map((function(e,n){return(0,h.jsx)("option",{value:e.value,children:e.label},n)}))]})),(0,h.jsx)(s.Z,{isError:g,errorMessage:x})]})};g.defaultProps={label:"",options:[],height:"27px",isDisabled:!1,name:"selectName",validations:{},customerWidth:"100%",register:function(){},setFieldValue:function(e){},dependencyFieldName:"",placeholder:"-- Vui l\xf2ng ch\u1ecdn --"};var m=g},9673:function(e,n,t){t.d(n,{Z:function(){return m}});var i,r,a=t(1413),o=(t(7313),t(2180)),s=t(6947),l=t(168),d=t(3115),c=t(1237),u=d.ZP.div(i||(i=(0,l.Z)(["\n  height: 26px;\n  display: inline-block;\n  width: ",";\n  margin: ",";\n"])),(function(e){return e.width?e.width:"100%"}),(function(e){return e.margin?e.margin:"0 0 0 5px"})),p=d.ZP.input(r||(r=(0,l.Z)(["\n  width: 100%;\n  border: none;\n  font-size: 12px;\n  font-weight: 300;\n  padding: ",";\n  line-height: ",";\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  font-style: ",";\n  text-align: ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    box-shadow: none;\n  }\n  &:focus-visible {\n    outline: none;\n    box-shadow: none;\n  }\n"])),(function(e){return e.padding}),(function(e){return e.lineHeight}),c.Z.lightWhite,c.Z.secondary,(function(e){return e.fontStyle?e.fontStyle:""}),(function(e){return e.textAlign?e.textAlign:"left"})),h=t(6417),g=function(e){var n=e.label,t=e.name,i=e.isError,r=e.errorMessage,l=e.register,d=e.validations,c=e.isInline,g=e.width,m=e.margin,x=c?"auto":g;return(0,h.jsxs)(u,{width:x,margin:m,children:[n&&(0,h.jsx)(o.Z,{label:n}),(0,h.jsx)(p,(0,a.Z)((0,a.Z)({},l(t,d)),e)),(0,h.jsx)(s.Z,{isError:i,errorMessage:r})]})};g.defaultProps={type:"text",validations:{},padding:"2px 5px",register:function(){},lineHeight:"20px"};var m=g},7532:function(e,n,t){t.d(n,{Z:function(){return m}});var i,r,a,o=t(885),s=t(7313),l=t(168),d=t(3115),c=d.ZP.div(i||(i=(0,l.Z)(["\n  padding: ",";\n"])),(function(e){return e.padding})),u=d.ZP.input(r||(r=(0,l.Z)(["\n  width: 100%;\n"]))),p=d.ZP.img(a||(a=(0,l.Z)(["\n  display: block;\n  margin: 10px 0 0;\n"]))),h=t(6417),g=function(e){var n=e.padding,t=e.maxPixel,i=e.setResizedImageUri,r=(0,s.useRef)(null),a=(0,s.useState)(""),l=(0,o.Z)(a,2),d=l[0],g=l[1];return(0,h.jsxs)(c,{padding:n,children:[(0,h.jsx)(u,{type:"file",ref:r,placeholder:"Ch\u1ecdn \u1ea3nh",onChange:function(e){var n=new FileReader,r=new Image,a=document.getElementById("canvas"),o=a.getContext("2d");e.target.files[0]&&(n.readAsDataURL(e.target.files[0]),n.onload=function(e){r.src=e.target.result},r.onload=function(){a.width=t,a.height=a.width*(r.height/r.width);var e=document.createElement("canvas"),n=e.getContext("2d");e.width=a.width,e.height=a.height,n.drawImage(r,0,0,e.width,e.height),o.drawImage(e,0,0,e.width,e.height,0,0,e.width,e.height);var s=a.toDataURL("image/webp");g(s),i(s)})}}),(0,h.jsx)("canvas",{id:"canvas",style:{display:"none"}}),(0,h.jsx)(p,{src:d})]})};g.defaultProps={maxPixel:500,padding:"10px 10px 0",setResizedImageUri:function(){}};var m=g},2183:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var i,r,a,o,s,l,d,c=t(4165),u=t(1413),p=t(5861),h=t(885),g=t(7313),m=t(5627),x=t(3222),f=t(790),b=t(6881),Z=t(5222),v=t(8987),w=t(9146),j=t(9673),y=t(3182),k=t(7532),_=t(6947),E=t(168),N=t(3115),D=t(1237),q=N.ZP.div(i||(i=(0,E.Z)(["\n  font-size: 12px;\n  padding: 10px 5px 120px;\n"]))),M=N.ZP.div(r||(r=(0,E.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin: 5px 0 15px;\n"]))),P=N.ZP.div(a||(a=(0,E.Z)(["\n  margin: 0;\n  display: flex;\n  align-items: center;\n  margin: 5px 0 15px;\n  justify-content: space-between;\n"]))),S=N.ZP.div(o||(o=(0,E.Z)(["\n  width: 100px;\n"]))),C=(N.ZP.input(s||(s=(0,E.Z)(["\n  width: 60%;\n"]))),N.ZP.div(l||(l=(0,E.Z)(["\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  display: flex;\n  position: fixed;\n  padding: 10px 35%;\n  align-items: center;\n  justify-content: space-around;\n  background-color: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),D.Z.rgbaBlack),N.ZP.p(d||(d=(0,E.Z)(["\n  font-weight: 600;\n  color: ",";\n"])),D.Z.lightBlack)),T=t(3454),I=t(7123),W=t(2153),V=t(3070),R=t(6417),U=function(e){var n=e.productItem,t=e.isFromProductDetail,i=(n||{}).productInfo||{},r=i._id,a=i.name,o=i.code,s=i.price,l=i.netUnitValue,d=i.unitString,E=i.categories,N=i.quantityWarning,D=i.expirationDateWarning,U=i.labelCodes,z=i.shortDescription,A=i.detailDescription,H=i.isSold,B=(0,b.Z)(a),O=E&&E[0]||"",F=U&&U[0]||"",L=(0,b.Z)(z),G=(0,b.Z)(A),K=(0,m.cI)({defaultValues:{code:o,name:B,netUnitValue:l,unitString:d,price:s,quantityWarning:N,expirationDateWarning:D,categories:O,labelCodes:F,shortDescription:L}}),Q=K.register,Y=K.setValue,X=(K.clearErrors,K.handleSubmit),J=K.formState.errors,$=(0,x.I0)(),ee=(0,g.useRef)(null),ne=(0,g.useState)(""),te=(0,h.Z)(ne,2),ie=te[0],re=te[1],ae=(0,f.D)(T.Q7,{refetchQueries:[{query:I.ze},"GET_WAREHOUSE_INVENTORY",{query:I.BQ},"GET_IMPORTED_PRODUCTS"]}),oe=(0,h.Z)(ae,1)[0],se=function(){var e=(0,p.Z)((0,c.Z)().mark((function e(n){var i,a,p,h,g,m,x,f,b,Z,v,w,j;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.code,a=n.name,p=n.netUnitValue,h=n.unitString,g=n.price,m=n.quantityWarning,x=n.expirationDateWarning,f=n.categories,b=n.labelCodes,Z=n.shortDescription,v=ee.current.getContent(),w=(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({isSold:H},ie&&{imgUri:ie}),i!==o&&{code:i}),a!==B&&{name:[{showText:a,locale:"vi"}]}),Number(p)!==l&&{netUnitValue:Number(p)}),h!==d&&{unitString:h}),Number(g)!==s&&{price:Number(g)}),Number(m)!==N&&{quantityWarning:Number(m)}),Number(x)!==D&&{expirationDateWarning:Number(x)}),f!==O&&{categories:[f]}),b!==F&&{labelCodes:[b]}),Z!==L&&{shortDescription:[{showText:Z,locale:"vi"}]}),v!==G&&{detailDescription:[{showText:v,locale:"vi"}]}),!!!Object.keys(w).length){e.next=10;break}return j={productId:r},e.next=8,oe({variables:{data:w,where:j}});case 8:e.sent.data&&(t?($((0,W.mm)()),$((0,W.Ay)())):$((0,W.mm)()));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,g.useEffect)((function(){ie&&Y("imgUri",ie)}),[ie]),(0,R.jsxs)(q,{children:[(0,R.jsx)(C,{children:"TH\xd4NG TIN S\u1ea2N PH\u1ea8M"}),(0,R.jsxs)(Z.Z,{children:[!H&&(0,R.jsxs)(P,{children:[(0,R.jsx)(j.Z,{name:"code",width:"30%",register:Q,isError:!!J.code,validations:{required:!0},placeholder:"M\xe3 s\u1ea3n ph\u1ea9m"}),(0,R.jsx)(j.Z,{name:"name",width:"70%",register:Q,margin:"5px 0 5px 20px",isError:!!J.name,validations:{required:!0},placeholder:"T\xean s\u1ea3n ph\u1ea9m"})]}),!H&&(0,R.jsxs)(P,{children:[(0,R.jsx)(j.Z,{min:0,width:"30%",type:"number",name:"netUnitValue",register:Q,isError:!!J.netUnitValue,validations:{required:!0,min:0},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0",placeholder:"Kh\u1ed1i l\u01b0\u1ee3ng t\u1ecbnh"}),(0,R.jsx)(y.Z,{height:"27px",name:"unitString",register:Q,customerWidth:"50px",isError:!!J.unitString,validations:{required:!0},options:V.ZD}),(0,R.jsx)(j.Z,{min:0,name:"price",width:"48%",type:"number",textAlign:"right",register:Q,isError:!!J.price,validations:{required:!0,min:0},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0",placeholder:"\u0110\u01a1n gi\xe1"}),"\u0111"]}),!H&&(0,R.jsxs)(P,{children:[(0,R.jsx)(j.Z,{name:"categories",register:Q,isError:!!J.categories,validations:{required:!0},placeholder:"Danh m\u1ee5c"}),(0,R.jsx)(j.Z,{name:"labelCodes",register:Q,margin:"5px 0 5px 20px",placeholder:"Nh\xe3n s\u1ea3n ph\u1ea9m"})]}),H&&(0,R.jsxs)(P,{children:[(0,R.jsx)(j.Z,{min:0,name:"price",width:"47%",type:"number",textAlign:"right",margin:"0 5px 0 0",register:Q,isError:!!J.price,validations:{required:!0,min:0},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0",placeholder:"\u0110\u01a1n gi\xe1"}),(0,R.jsx)("p",{children:"\u0111"}),(0,R.jsx)(j.Z,{width:"46%",name:"labelCodes",margin:"0 0 0 30px",register:Q,placeholder:"Nh\xe3n s\u1ea3n ph\u1ea9m"})]})]}),(0,R.jsx)(C,{children:"C\u1ea2NH B\xc1O KHI"}),(0,R.jsxs)(Z.Z,{children:[(0,R.jsxs)(M,{children:[(0,R.jsx)("p",{style:{width:125},children:"Tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n"}),":",(0,R.jsx)(j.Z,{min:0,width:"70px",type:"number",textAlign:"right",register:Q,name:"expirationDateWarning",isError:!!J.expirationDateWarning,validations:{required:!0,min:0},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0"}),(0,R.jsx)("p",{children:"\u2002ng\xe0y"})]}),(0,R.jsxs)(M,{children:[(0,R.jsx)("p",{style:{width:125},children:"S\u1ed1 l\u01b0\u1ee3ng \u0111\u1ea1t t\u1ed1i thi\u1ec3u"}),":",(0,R.jsx)(j.Z,{min:0,width:"70px",type:"number",textAlign:"right",register:Q,name:"quantityWarning",isError:!!J.quantityWarning,validations:{required:!0,min:0},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0"}),(0,R.jsx)("p",{children:"\u2002s\u1ea3n ph\u1ea9m"})]})]}),(0,R.jsx)(C,{children:"CHI TI\u1ebeT S\u1ea2N PH\u1ea8M"}),(0,R.jsxs)(Z.Z,{children:[(0,R.jsx)(M,{children:(0,R.jsx)(j.Z,{maxlength:"70",padding:"10px",margin:"0 0 15px",fontStyle:"italic",register:Q,name:"shortDescription",isError:!!J.shortDescription,validations:{required:!0,maxLength:50},errorMessage:"*Tr\u01b0\u1eddng b\u1eaft bu\u1ed9c d\u01b0\u1edbi 50 k\xfd t\u1ef1",placeholder:"C\xf4ng d\u1ee5ng s\u1ea3n ph\u1ea9m..."})}),(0,R.jsxs)(M,{style:{alignItems:"flex-start"},children:[(0,R.jsxs)("div",{style:{marginTop:10},children:[(0,R.jsx)(S,{children:"\u1ea2nh s\u1ea3n ph\u1ea9m:"}),(0,R.jsx)(_.Z,{isError:!!J.imgUri})]}),(0,R.jsx)(k.Z,{setResizedImageUri:re})]}),(0,R.jsx)(S,{children:"M\xf4 t\u1ea3 chi ti\u1ebft:"}),(0,R.jsx)(v.Z,{editorRef:ee,initValue:G})]}),(0,R.jsx)(w.Z,{label:"X\xc1C NH\u1eacN",onClick:X(se)})]})}}}]);