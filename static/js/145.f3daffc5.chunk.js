"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[145,9724],{9146:function(e,t,n){n.d(t,{Z:function(){return u}});var i,r=n(1413),a=(n(7313),n(168)),o=n(3115),s=n(1237),l=o.ZP.button(i||(i=(0,a.Z)(["\n  left: 0;\n  bottom: 0;\n  z-index: 1;\n  width: 100%;\n  color: #fff;\n  border: none;\n  display: flex;\n  padding: 10px;\n  position: fixed;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  padding: 15px 20px;\n  align-items: center;\n  text-transform: uppercase;\n  justify-content: space-around;\n  background-color: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),s.Z.rgbaBlack),d=n(6417),c=function(e){var t=e.label;return(0,d.jsx)(l,(0,r.Z)((0,r.Z)({},e),{},{children:t}))};c.defaultProps={label:"N\xfat b\u1ea5m"};var u=c},8987:function(e,t,n){n.d(t,{Z:function(){return l}});n(7313);var i=n(7155),r=n(6417),a=window.matchMedia("(prefers-color-scheme: dark)").matches,o=function(e){var t=e.editorRef,n=e.initialValue,o=e.placeholder;return(0,r.jsx)(i.M,{apiKey:"yel23pvjfocsjnw7gyo8q7soxq14drlhhyjk46gstvymozel",onInit:function(e,n){return t.current=n},initialValue:n,init:{height:350,selector:"textarea#full-featured",branding:!1,plugins:"print preview importcss searchreplace autolink autosave save directionality visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists textpattern noneditable help charmap quickbars emoticons",menubar:!0,toolbar:"undo redo | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | numlist bullist | outdent indent | forecolor backcolor casechange | fontselect fontsizeselect formatselect | removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | a11ycheck ltr rtl | showcomments addcomment",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,link_list:[{title:"My page 1",value:"https://www.tiny.cloud"},{title:"My page 2",value:"http://www.moxiecode.com"}],image_list:[{title:"My page 1",value:"https://www.tiny.cloud"},{title:"My page 2",value:"http://www.moxiecode.com"}],image_class_list:[{title:"None",value:""},{title:"Some class",value:"class-name"}],importcss_append:!0,templates:[{title:"New Table",description:"creates a new table",content:'<div class="mceTmpl"><table width="98%%"  border="0" cellspacing="0" cellpadding="0"><tr><th scope="col"> </th><th scope="col"> </th></tr><tr><td> </td><td> </td></tr></table></div>'},{title:"Starting my story",description:"A cure for writers block",content:"Once upon a time..."},{title:"New list with dates",description:"New List with dates",content:'<div class="mceTmpl"><span class="cdate">cdate</span><br /><span class="mdate">mdate</span><h2>My List</h2><ul><li></li><li></li></ul></div>'}],template_cdate_format:"[Date Created (CDATE): %m/%d/%Y : %H:%M:%S]",template_mdate_format:"[Date Modified (MDATE): %m/%d/%Y : %H:%M:%S]",image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",noneditable_noneditable_class:"mceNonEditable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],contextmenu:"link image table configurepermanentpen",skin:a?"oxide-dark":"oxide",content_css:a?"dark":"default",placeholder:o||"",content_style:"body {font-size: 12pt;}"}})},s=function(e){var t=e.initValue,n=(e.title,e.editorRef),i=e.placeholder;return(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)(o,{editorRef:n,initialValue:t,placeholder:i})})};s.defaultProps={initValue:"",placeholder:"Nh\u1eadp n\u1ed9i dung..."};var l=s},2180:function(e,t,n){n.d(t,{Z:function(){return s}});n(7313);var i,r=n(168),a=n(3115).ZP.p(i||(i=(0,r.Z)(["\n  font-size: 13px;\n  font-weight: 500;\n"]))),o=n(6417),s=function(e){var t=e.label;return(0,o.jsx)(a,{children:t})}},3182:function(e,t,n){n.d(t,{Z:function(){return m}});var i,r,a=n(1413),o=(n(7313),n(2180)),s=n(6947),l=n(168),d=n(3115),c=n(1237),u=d.ZP.div(i||(i=(0,l.Z)(["\n  height: 30px;\n  margin: 0 10px 0 5px;\n  width: ",";\n"])),(function(e){return e.customerWidth})),p=d.ZP.select(r||(r=(0,l.Z)(["\n  width: 100%;\n  border: none;\n  font-size: 12px;\n  font-weight: 300;\n  padding: 4px 0 0;\n  height: ",";\n  border-bottom: 1px solid ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    outline: none;\n    box-shadow: none;\n  }\n"])),(function(e){return e.height}),c.Z.secondary),h=n(6417),g=function(e){var t=e.label,n=e.options,i=e.name,r=e.placeholder,l=e.validations,d=e.register,c=e.isDisabled,g=e.isError,m=e.onChange,x=e.errorMessage,f=e.setFieldValue,b=e.dependencyFieldName,v=e.customerWidth;return(0,h.jsxs)(u,{customerWidth:v,children:[t&&(0,h.jsx)(o.Z,{label:t}),(0,h.jsxs)(p,(0,a.Z)((0,a.Z)((0,a.Z)({},e),{},{disabled:c,onChange:function(e){m&&m(e),f&&(f(i,e.target.value),f(b,void 0))}},d(i,l)),{},{children:[(0,h.jsx)("option",{value:"",disabled:!0,children:r}),n.map((function(e,t){return(0,h.jsx)("option",{value:e.value,children:e.label},t)}))]})),(0,h.jsx)(s.Z,{isError:g,errorMessage:x})]})};g.defaultProps={label:"",options:[],height:"27px",isDisabled:!1,name:"selectName",validations:{},customerWidth:"100%",register:function(){},setFieldValue:function(e){},dependencyFieldName:"",placeholder:"-- Vui l\xf2ng ch\u1ecdn --"};var m=g},9673:function(e,t,n){n.d(t,{Z:function(){return m}});var i,r,a=n(1413),o=(n(7313),n(2180)),s=n(6947),l=n(168),d=n(3115),c=n(1237),u=d.ZP.div(i||(i=(0,l.Z)(["\n  height: 26px;\n  display: inline-block;\n  width: ",";\n  margin: ",";\n"])),(function(e){return e.width?e.width:"100%"}),(function(e){return e.margin?e.margin:"0 0 0 5px"})),p=d.ZP.input(r||(r=(0,l.Z)(["\n  width: 100%;\n  border: none;\n  font-size: 12px;\n  font-weight: 300;\n  padding: ",";\n  line-height: ",";\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  font-style: ",";\n  text-align: ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    box-shadow: none;\n  }\n  &:focus-visible {\n    outline: none;\n    box-shadow: none;\n  }\n"])),(function(e){return e.padding}),(function(e){return e.lineHeight}),c.Z.lightWhite,c.Z.secondary,(function(e){return e.fontStyle?e.fontStyle:""}),(function(e){return e.textAlign?e.textAlign:"left"})),h=n(6417),g=function(e){var t=e.label,n=e.name,i=e.isError,r=e.errorMessage,l=e.register,d=e.validations,c=e.isInline,g=e.width,m=e.margin,x=c?"auto":g;return(0,h.jsxs)(u,{width:x,margin:m,children:[t&&(0,h.jsx)(o.Z,{label:t}),(0,h.jsx)(p,(0,a.Z)((0,a.Z)({},l(n,d)),e)),(0,h.jsx)(s.Z,{isError:i,errorMessage:r})]})};g.defaultProps={type:"text",validations:{},padding:"2px 5px",register:function(){},lineHeight:"20px"};var m=g},7532:function(e,t,n){n.d(t,{Z:function(){return m}});var i,r,a,o=n(885),s=n(7313),l=n(168),d=n(3115),c=d.ZP.div(i||(i=(0,l.Z)(["\n  padding: ",";\n"])),(function(e){return e.padding})),u=d.ZP.input(r||(r=(0,l.Z)(["\n  width: 100%;\n"]))),p=d.ZP.img(a||(a=(0,l.Z)(["\n  display: block;\n  margin: 10px 0 0;\n"]))),h=n(6417),g=function(e){var t=e.padding,n=e.maxPixel,i=e.setResizedImageUri,r=(0,s.useRef)(null),a=(0,s.useState)(""),l=(0,o.Z)(a,2),d=l[0],g=l[1];return(0,h.jsxs)(c,{padding:t,children:[(0,h.jsx)(u,{type:"file",ref:r,placeholder:"Ch\u1ecdn \u1ea3nh",onChange:function(e){var t=new FileReader,r=new Image,a=document.getElementById("canvas"),o=a.getContext("2d");e.target.files[0]&&(t.readAsDataURL(e.target.files[0]),t.onload=function(e){r.src=e.target.result},r.onload=function(){a.width=n,a.height=a.width*(r.height/r.width);var e=document.createElement("canvas"),t=e.getContext("2d");e.width=a.width,e.height=a.height,t.drawImage(r,0,0,e.width,e.height),o.drawImage(e,0,0,e.width,e.height,0,0,e.width,e.height);var s=a.toDataURL("image/webp");g(s),i(s)})}}),(0,h.jsx)("canvas",{id:"canvas",style:{display:"none"}}),(0,h.jsx)(p,{src:d})]})};g.defaultProps={maxPixel:500,padding:"10px 10px 0",setResizedImageUri:function(){}};var m=g},9724:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var i,r,a,o,s,l,d,c=n(4165),u=n(5861),p=n(885),h=n(7313),g=n(5627),m=n(3222),x=n(567),f=n(3532),b=n(790),v=n(6069),w=n(5222),y=n(8987),Z=n(9673),j=n(9146),k=n(3182),D=n(6947),E=n(7532),S=n(168),_=n(3115),q=n(1237),M=_.ZP.div(i||(i=(0,S.Z)(["\n  font-size: 12px;\n  padding: 10px 5px 120px;\n"]))),P=_.ZP.div(r||(r=(0,S.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin: 5px 0 15px;\n"]))),T=_.ZP.div(a||(a=(0,S.Z)(["\n  margin: 0;\n  display: flex;\n  align-items: center;\n  margin: 5px 0 15px;\n  justify-content: space-between;\n"]))),N=_.ZP.div(o||(o=(0,S.Z)(["\n  width: 100px;\n"]))),C=(_.ZP.input(s||(s=(0,S.Z)(["\n  width: 60%;\n"]))),_.ZP.div(l||(l=(0,S.Z)(["\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  display: flex;\n  position: fixed;\n  padding: 10px 35%;\n  align-items: center;\n  justify-content: space-around;\n  background-color: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),q.Z.rgbaBlack),_.ZP.p(d||(d=(0,S.Z)(["\n  font-weight: 600;\n  color: ",";\n"])),q.Z.lightBlack)),I=n(3454),O=n(7123),R=n(5164),U=n(2153),V=n(3070),W=n(6417),z=function(e){var t=(0,g.cI)({defaultValues:{unitString:""}}),n=t.register,i=t.setValue,r=(t.clearErrors,t.handleSubmit),a=t.formState.errors,o=(0,m.I0)(),s=(0,h.useRef)(null),l=(0,h.useState)(""),d=(0,p.Z)(l,2),S=d[0],_=d[1],q=(0,b.D)(I.l9),z=(0,p.Z)(q,1)[0],B=(0,b.D)(I.qe,{refetchQueries:[{query:O.ze},"GET_WAREHOUSE_INVENTORY",{query:O.BQ},"GET_IMPORTED_PRODUCTS"]}),A=(0,p.Z)(B,1)[0];n("imgUri",{required:!S});var H=new Date((0,v.xE)()),F=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t){var n,i,r,a,l,d,u,p,h,g,m,x,f,b,v,w,y,Z,j,k,D;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o((0,R.S$)()),n=t.code,i=t.name,r=t.netUnitValue,a=t.unitString,l=t.price,d=t.quantityWarning,u=t.expirationDateWarning,p=t.categories,h=t.labelCodes,g=t.shortDescription,m=t.quantity,x=t.expirationDate,f=t.dateOfManufacture,b=s.current.getContent(),v={imgUri:S,code:n.trim(),name:[{showText:i.trim(),locale:"vi"}],netUnitValue:Number(r),unitString:a,price:Number(l),quantityWarning:Number(d),expirationDateWarning:Number(u),categories:[p.trim()],labelCodes:[h.trim()],shortDescription:[{showText:g,locale:"vi"}],detailDescription:[{showText:b,locale:"vi"}]},e.next=6,z({variables:{data:v}});case 6:if(!(w=e.sent).data){e.next=15;break}return y=w.data.createProduct,Z=y.code,j=y.orderNumber,k={quantity:Number(m),orderNumber:j,productCode:Z,netUnitValue:Number(r),unitString:a,productName:[{showText:i,locale:"vi"}],expirationDate:x,dateOfManufacture:f},D={beImportedProducts:[k],importedDate:(new Date).toISOString()},e.next=13,A({variables:{data:D}});case 13:e.sent.data&&(setTimeout((function(){o((0,R.S4)())}),500),o((0,U.mm)()));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){S&&i("imgUri",S)}),[S]),(0,W.jsxs)(M,{children:[(0,W.jsxs)(w.Z,{children:[(0,W.jsxs)(T,{children:[(0,W.jsx)(Z.Z,{name:"code",width:"30%",register:n,isError:!!a.code,validations:{required:!0},placeholder:"M\xe3 s\u1ea3n ph\u1ea9m"}),(0,W.jsx)(Z.Z,{name:"name",width:"70%",register:n,margin:"5px 0 5px 20px",isError:!!a.name,validations:{required:!0},placeholder:"T\xean s\u1ea3n ph\u1ea9m"})]}),(0,W.jsxs)(T,{children:[(0,W.jsx)(Z.Z,{min:0,width:"30%",type:"number",pattern:"[0-9]*",inputmode:"numeric",name:"netUnitValue",register:n,isError:!!a.netUnitValue,validations:{required:!0,min:0},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0",placeholder:"Kh\u1ed1i l\u01b0\u1ee3ng t\u1ecbnh"}),(0,W.jsx)(k.Z,{height:"27px",name:"unitString",placeholder:"Ch\u1ecdn",register:n,customerWidth:"55px",isError:!!a.unitString,validations:{required:!0},options:V.ZD,errorMessage:"*B\u1eaft bu\u1ed9c"}),(0,W.jsx)(Z.Z,{min:0,name:"price",width:"48%",type:"number",pattern:"[0-9]*",inputmode:"numeric",textAlign:"right",register:n,isError:!!a.price,validations:{required:!0,min:0},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0",placeholder:"\u0110\u01a1n gi\xe1"}),"\u0111"]}),(0,W.jsxs)(T,{children:[(0,W.jsx)(Z.Z,{name:"categories",register:n,isError:!!a.categories,validations:{required:!0},placeholder:"Danh m\u1ee5c"}),(0,W.jsx)(Z.Z,{name:"labelCodes",register:n,margin:"5px 0 5px 20px",placeholder:"Nh\xe3n s\u1ea3n ph\u1ea9m"})]}),(0,W.jsxs)(P,{children:[(0,W.jsx)("p",{style:{width:90},children:"S\u1ed1 l\u01b0\u1ee3ng"}),":",(0,W.jsx)(Z.Z,{width:"115px",type:"number",pattern:"[0-9]*",inputmode:"numeric",name:"quantity",textAlign:"right",register:n,isError:!!a.quantity,validations:{required:!0,min:0},errorMessage:"*Tr\u01b0\u1eddng b\u1eaft bu\u1ed9c \u2265 0"})]}),(0,W.jsxs)(P,{children:[(0,W.jsx)("p",{style:{width:90},children:"Ng\xe0y s\u1ea3n xu\u1ea5t"}),":",(0,W.jsx)(Z.Z,{type:"date",width:"115px",register:n,name:"dateOfManufacture",max:(0,v.xE)(),isError:!!a.dateOfManufacture,validations:{required:!0,validate:function(e,t){var n=new Date(e);return!(0,x.Z)(n,H)}},errorMessage:"*B\u1eaft bu\u1ed9c \u2264 h\xf4m nay"})]}),(0,W.jsxs)(P,{children:[(0,W.jsx)("p",{style:{width:90},children:"H\u1ea1n s\u1eed d\u1ee5ng"}),":",(0,W.jsx)(Z.Z,{isInline:!0,type:"date",name:"expirationDate",register:n,min:(0,v.xE)(),isError:!!a.expirationDate,validations:{required:!0,validate:function(e,t){var n=new Date(e);return!(0,f.Z)(n,H)}},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 h\xf4m nay"})]})]}),(0,W.jsx)(C,{children:"C\u1ea2NH B\xc1O KHI"}),(0,W.jsxs)(w.Z,{children:[(0,W.jsxs)(P,{children:[(0,W.jsx)("p",{style:{width:125},children:"Tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n"}),":",(0,W.jsx)(Z.Z,{min:0,width:"70px",type:"number",pattern:"[0-9]*",inputmode:"numeric",textAlign:"right",register:n,name:"expirationDateWarning",isError:!!a.expirationDateWarning,validations:{required:!0,min:0},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0"}),(0,W.jsx)("p",{children:"\u2002ng\xe0y"})]}),(0,W.jsxs)(P,{children:[(0,W.jsx)("p",{style:{width:125},children:"S\u1ed1 l\u01b0\u1ee3ng \u0111\u1ea1t t\u1ed1i thi\u1ec3u"}),":",(0,W.jsx)(Z.Z,{min:0,width:"70px",type:"number",pattern:"[0-9]*",inputmode:"numeric",textAlign:"right",register:n,name:"quantityWarning",isError:!!a.quantityWarning,validations:{required:!0,min:0},errorMessage:"*B\u1eaft bu\u1ed9c \u2265 0"}),(0,W.jsx)("p",{children:"\u2002s\u1ea3n ph\u1ea9m"})]})]}),(0,W.jsxs)(w.Z,{children:[(0,W.jsx)(P,{children:(0,W.jsx)(Z.Z,{maxlength:"70",padding:"10px",margin:"0 0 15px",fontStyle:"italic",register:n,name:"shortDescription",isError:!!a.shortDescription,validations:{required:!0,maxLength:50},errorMessage:"*Tr\u01b0\u1eddng b\u1eaft bu\u1ed9c d\u01b0\u1edbi 50 k\xfd t\u1ef1",placeholder:"C\xf4ng d\u1ee5ng s\u1ea3n ph\u1ea9m..."})}),(0,W.jsxs)(P,{style:{alignItems:"flex-start"},children:[(0,W.jsxs)("div",{style:{marginTop:10},children:[(0,W.jsx)(N,{children:"\u1ea2nh s\u1ea3n ph\u1ea9m:"}),(0,W.jsx)(D.Z,{isError:!!a.imgUri})]}),(0,W.jsx)(E.Z,{setResizedImageUri:_})]}),(0,W.jsx)(N,{children:"M\xf4 t\u1ea3 chi ti\u1ebft:"}),(0,W.jsx)(y.Z,{editorRef:s})]}),(0,W.jsx)(j.Z,{label:"Th\xeam m\u1edbi",onClick:r(F)})]})}},4800:function(e,t,n){function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return i}})},567:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(3601),r=n(4800);function a(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),a=(0,i.Z)(t);return n.getTime()>a.getTime()}},3532:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(3601),r=n(4800);function a(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),a=(0,i.Z)(t);return n.getTime()<a.getTime()}},3601:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(4800);function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===r(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},5987:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(3366);function r(e,t){if(null==e)return{};var n,r,a=(0,i.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}}}]);