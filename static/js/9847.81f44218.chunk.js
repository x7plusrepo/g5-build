"use strict";(self.webpackChunkproject_g5=self.webpackChunkproject_g5||[]).push([[9847,4641],{4214:function(n,e,r){r.d(e,{Z:function(){return p}});var t,i=r(1413),o=(r(7313),r(168)),a=r(3115),s=r(1237),c=a.ZP.button(t||(t=(0,o.Z)(["\n  color: #fff;\n  border: none;\n  font-size: 12px;\n  cursor: pointer;\n  border-radius: 5px;\n  margin: ",";\n  padding: ",";\n  font-weight: ",";\n  background-color: ",";\n"])),(function(n){return n.margin}),(function(n){return n.padding}),(function(n){return n.fontWeight}),s.Z.lightRed),d=r(6417),l=function(n){var e=n.label;return(0,d.jsx)(c,(0,i.Z)((0,i.Z)({},n),{},{children:e}))};l.defaultProps={margin:"5px",label:"N\xfat b\u1ea5m",onClick:function(){},padding:"2px 7px"};var p=l},2262:function(n,e,r){r.d(e,{Z:function(){return p}});var t,i=r(1413),o=(r(7313),r(168)),a=r(3115),s=r(1237),c=a.ZP.button(t||(t=(0,o.Z)(["\n  border: none;\n  font-size: 12px;\n  cursor: pointer;\n  border-radius: 5px;\n  height: fit-content;\n  color: ",";\n  margin: ",";\n  padding: ",";\n  font-weight: ",";\n  background-color: ",";\n"])),s.Z.black,(function(n){return n.margin}),(function(n){return n.padding}),(function(n){return n.fontWeight}),(function(n){return n.bgColor?n.bgColor:s.Z.secondary})),d=r(6417),l=function(n){var e=n.label;return(0,d.jsx)(c,(0,i.Z)((0,i.Z)({},n),{},{children:e}))};l.defaultProps={label:"N\xfat b\u1ea5m",onClick:function(){},margin:"5px",padding:"3px 7px"};var p=l},4641:function(n,e,r){r.d(e,{Z:function(){return p}});var t,i=r(1413),o=(r(7313),r(168)),a=r(3115),s=r(1237),c=a.ZP.button(t||(t=(0,o.Z)(["\n  padding: 0;\n  border: none;\n  margin: 5px 0;\n  font-size: 12px;\n  cursor: pointer;\n  color: ",";\n  background-color: transparent;\n"])),s.Z.primary),d=r(6417),l=function(n){var e=n.label;return(0,d.jsx)(c,(0,i.Z)((0,i.Z)({},n),{},{children:e}))};l.defaultProps={onClick:function(){}};var p=l},5789:function(n,e,r){r.r(e),r.d(e,{default:function(){return Me}});var t,i,o=r(885),a=r(7313),s=r(2668),c=r(3222),d=r(6173),l=r(1677),p=r(4641),x=(r(3354),r(9673),r(1413)),u=r(2180),h=r(6947),f=r(168),g=r(3115),Z=r(1237),m=g.ZP.div(t||(t=(0,f.Z)(["\n  margin: 0 5px;\n  display: inline-block;\n"]))),b=g.ZP.input(i||(i=(0,f.Z)(["\n  width: 100%;\n  border: none;\n  padding: 1px 5px;\n  font-size: 12px;\n  font-weight: 300;\n  border-bottom: 1px solid ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    box-shadow: none;\n  }\n  &:focus-visible {\n    outline: none;\n    box-shadow: none;\n  }\n"])),Z.Z.secondary),j=r(6417),v=function(n){var e=n.label,r=n.name,t=n.isError,i=n.errorMessage,o=n.register,a=n.validations;n.isInline;return(0,j.jsxs)(m,{children:[e&&(0,j.jsx)(u.Z,{label:e}),(0,j.jsx)(b,(0,x.Z)((0,x.Z)({},o(r,a)),n)),(0,j.jsx)(h.Z,{isError:t,errorMessage:i})]})};v.defaultProps={type:"date",validations:{},register:function(){}};var y,P,w,C,E,_,T,S,R,I,D,O,k,A,F,N,z,M,L,U,H,B,G,Q=r(9829),W=r(4165),Y=r(5861),X=r(790),V=r(4214),q=r(2262),J=r(6069),K=(g.ZP.div(y||(y=(0,f.Z)(["\n  font-size: 12px;\n  padding: 10px 10px 120px;\n"]))),g.ZP.p(P||(P=(0,f.Z)(["\n  font-weight: 700;\n"])))),$=g.ZP.p(w||(w=(0,f.Z)(["\n  font-weight: 700;\n  color: ",";\n"])),(function(n){return n.textColor})),nn=g.ZP.p(C||(C=(0,f.Z)(["\n  color: ",";\n"])),(function(n){return n.textColor})),en=(g.ZP.p(E||(E=(0,f.Z)(["\n  margin: 5px 0;\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: 5px;\n  width: fit-content;\n  color: ",";\n"])),Z.Z.primary),g.ZP.div(_||(_=(0,f.Z)(["\n  margin: 20px 5px;\n  border-radius: 4px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"])))),rn=(g.ZP.p(T||(T=(0,f.Z)(["\n  font-weight: 700;\n  margin: 30px 10px 0;\n  text-transform: uppercase;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(S||(S=(0,f.Z)([""])))),tn=g.ZP.div(R||(R=(0,f.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n"]))),on=g.ZP.div(I||(I=(0,f.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),an=g.ZP.p(D||(D=(0,f.Z)(["\n  width: 110px;\n  text-align: right;\n"]))),sn=(g.ZP.p(O||(O=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(k||(k=(0,f.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"])))),cn=g.ZP.div(A||(A=(0,f.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),dn=g.ZP.p(F||(F=(0,f.Z)(["\n  color: ",";\n"])),Z.Z.secondary),ln=g.ZP.span(N||(N=(0,f.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),pn=g.ZP.p(z||(z=(0,f.Z)(["\n  font-style: italic;\n"]))),xn=g.ZP.span(M||(M=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),un=(g.ZP.span(L||(L=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.green),g.ZP.span(U||(U=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.red),g.ZP.span(H||(H=(0,f.Z)(["\n  font-weight: 700;\n  font-style: italic;\n  color: ",";\n"])),Z.Z.green),g.ZP.span(B||(B=(0,f.Z)(["\n  width: 65px;\n  font-weight: 700;\n  display: inline-block;\n"])))),hn=g.ZP.span(G||(G=(0,f.Z)(["\n  font-weight: 700;\n  color: ",";\n"])),(function(n){return n.textColor})),fn=r(7123),gn=r(3454),Zn=r(3070),mn=r(7119),bn=r(5164),jn=(Zn.fH.MONEY_FIXED_VALUE,Zn.fH.MONEY_PERCENT_OF_ORDER_VALUE,Zn.fH.MONEY_PERCENT_OF_DIFFERENCE_ORDER_VALUE,Zn.fH.MONEY_ORDER_QUANTITY,Zn.fH.MONEY_DIFFERENCE_ORDER_QUANTITY,Zn.fH.MONEY_ORDER_WEIGHT,Zn.fH.MONEY_DIFFERENCE_ORDER_WEIGHT,function(n){var e=n.debtItem||{},r=e._id,t=e.mainReceiptCode,i=(e.isDeleted,e.isRejected),s=e.isApproved,d=e.orderCode,p=e.moneyValue,u=e.detailTypeCode,h=e.discountOfOrderCodes,f=e.discountPromotionInfo,g=e.updatedAt,m=e.note,b=e.debtCustomerInfo,v=e.currentDebtBalance,y=b||{},P=y.idCode,w=y.address,C=y.fullName,E=(y.saleStaffInfo||{}).fullName,_=(0,c.I0)(),T=(0,c.v9)((function(n){return n.authReducer})).viewerQuery||{},S=T.permissions,R=T.roles.some((function(n){return n===Zn.If.CUSTOMER||n===Zn.If.STAFF_OF_CUSTOMER})),I=mn.gz.CAN_APPROVE_RECEIPT,D=S.includes(I),O=(0,X.D)(gn.gF,{refetchQueries:[{query:fn.JH},"GET_DEBT_STATISTICAL",{query:fn.cX},"GET_DEBTS",{query:fn.f},"GET_IN_CHARGE_OF_CUSTOMERS"]}),k=(0,o.Z)(O,1)[0],A=(0,X.D)(gn.Iv,{refetchQueries:[{query:fn.JH},"GET_DEBT_STATISTICAL",{query:fn.cX},"GET_DEBTS",{query:fn.f},"GET_IN_CHARGE_OF_CUSTOMERS"]}),F=(0,o.Z)(A,1)[0],N=p>=0?Z.Z.linGreen:Z.Z.red,z=p>0?"+".concat(p.toLocaleString()):p.toLocaleString(),M=v>=0?Z.Z.linGreen:Z.Z.red,L=function(){var n=Zn.oQ.DETAIL_TYPE_CODES,e={type:Zn.n_[u],detail:null,conditionsDetail:null,promotionsDetail:null};if(u===n.DISCOUNT_OF_PAY_WHEN_CREATE_ORDER){var r=f||{},t=(r.title,r.conditions),i=r.detail||{},o=(i.moneyMethodCode,i.products,i.value,i.giftDescription,i.paymentTypeCode,function(n,e){var r,t=1===n.length;r=(0,J.RX)(e,n[0].netUnitValue,n[0].unitString);var i=function(n,e){var i,o,a=n.minRequireValue,s=(n.productInfo||{}).name,c=t?"":"- ",d=t?(0,j.jsxs)("p",{children:[(0,j.jsx)(un,{children:"\u0110i\u1ec1u ki\u1ec7n:"})," ",(0,j.jsx)(xn,{children:"Khi mua"})," ",s&&(null===(i=s[0])||void 0===i?void 0:i.showText)," - ",r.type]}):(0,j.jsxs)("p",{children:[(0,j.jsxs)(xn,{children:[c,"Khi mua"]})," ",s&&(null===(o=s[0])||void 0===o?void 0:o.showText)," - ",r.type,": \u2265"," ",a," ",r.unit]});return(0,j.jsx)(j.Fragment,{children:d})};return n.map((function(n,e){return(0,j.jsx)(a.Fragment,{children:i(n)},e)}))});t.map((function(n,e){var r=n.products,t=n.productConditionType,i=r.length>1;return(0,j.jsxs)(a.Fragment,{children:[i&&(0,j.jsx)(un,{children:"\u0110i\u1ec1u ki\u1ec7n:"}),o(r,t)]},e)}));return e.detail=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(un,{children:"\u0110\u01a1n h\xe0ng:"}),(0,j.jsx)(pn,{children:d})]}),e}if(u===n.DISCOUNT_FOR_EARLY_PAYMENT){var s=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(un,{children:"\u0110\u01a1n h\xe0ng:"}),h.map((function(n,e){return(0,j.jsxs)(pn,{children:["- ",n]},e)}))]});return e.detail=s,e}return u===n.UPDATE_DEBT||u===n.OLD_DEBT?(e.detail=m?(0,j.jsx)(xn,{children:m}):null,e):u===n.ORDER_PRODUCTS?(e.detail=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(un,{children:"\u0110\u01a1n h\xe0ng:"}),(0,j.jsx)(pn,{children:d})]}),e):u===n.RECEIPT?(e.detail=m?(0,j.jsx)(xn,{children:m}):null,e):u===n.RETURN_PRODUCT?(e.detail=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{children:"Nh\u1eadp l\u1ea1i h\xe0ng"}),(0,j.jsxs)(xn,{children:["M\xe3 \u0111\u01a1n: ",d]})]}),e):void 0}(),U=(0,a.useRef)(null),H=(0,a.useState)(!1),B=(0,o.Z)(H,2),G=B[0],Q=B[1],jn=G?"block":"none",vn=(0,j.jsxs)(cn,{display:jn,ref:U,children:[(0,j.jsx)(ln,{children:"Xo\xe1"}),(0,j.jsx)(ln,{children:"Hu\u1ef7"}),(0,j.jsx)(ln,{children:"S\u1eeda"})]}),yn=function(){var n=(0,Y.Z)((0,W.Z)().mark((function n(){return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return _((0,bn.S$)()),n.next=3,k({variables:{where:{debtId:r}}});case 3:n.sent.data&&setTimeout((function(){_((0,bn.S4)())}),500);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Pn=function(n){var e=n.isDeleted,t=n.isRejected,i=(0,x.Z)((0,x.Z)({},e&&{isDeleted:e}),t&&{isRejected:t});F({variables:{data:i,where:{debtId:r}}})},wn=i?(0,j.jsxs)("div",{children:[(0,j.jsx)(xn,{children:"\u0110\xe3 t\u1eeb ch\u1ed1i phi\u1ebfu thu"}),(0,j.jsx)(V.Z,{label:"Xo\xe1",margin:"0 0 0 10px",onClick:function(){return Pn({isDeleted:!0})}})]}):(0,j.jsx)("div",{children:!t&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(q.Z,{label:"T\u1eeb ch\u1ed1i",margin:"0 20px 0 0",onClick:function(){return Pn({isRejected:!0})}}),(0,j.jsx)(l.Z,{margin:"0",label:"X\xe1c nh\u1eadn",onClick:yn})]})}),Cn=(0,j.jsxs)(on,{children:[(0,j.jsxs)(dn,{children:["Ph\u1ee5 tr\xe1ch: ",E||"n/a"]}),D&&(0,j.jsx)(j.Fragment,{children:wn}),R&&(0,j.jsx)(pn,{children:"Ch\u1edd duy\u1ec7t"})]}),En=s?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(on,{style:{alignItems:"flex-end"},children:[(0,j.jsx)("div",{children:L.detail}),(0,j.jsx)(an,{children:"S\u1ed1 d\u01b0 (Balance)"})]}),(0,j.jsxs)(on,{children:[(0,j.jsxs)(on,{children:[(0,j.jsx)("p",{children:"Gi\xe1 tr\u1ecb t\xednh:\u2002"}),(0,j.jsxs)(nn,{textColor:N,children:[z," \u0111"]})]}),(0,j.jsxs)($,{textColor:M,children:[v.toLocaleString()," \u0111"]})]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(tn,{children:[(0,j.jsxs)(K,{children:[C,"\u2002"]}),(0,j.jsxs)("p",{children:[" - ",P]})]}),(0,j.jsx)(pn,{children:w})]}),_n=(0,j.jsxs)(hn,{textColor:N,children:[z," \u0111"]});return(0,a.useEffect)((function(){var n=function(n){U.current&&!U.current.contains(n.target)&&Q(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[U]),(0,j.jsxs)(en,{children:[(0,j.jsx)(sn,{onClick:function(){return Q(!G)}}),vn,(0,j.jsxs)(rn,{children:[(0,j.jsxs)(on,{children:[(0,j.jsx)("p",{children:(0,J.dh)(g,!0)}),(0,j.jsxs)("p",{children:[L.type,!s&&(0,j.jsxs)("span",{children:[": ",_n]})]})]}),(0,j.jsx)("hr",{}),En,!s&&Cn]})]})});jn.defaultProps={};var vn,yn,Pn,wn,Cn,En,_n,Tn,Sn,Rn,In,Dn,On,kn,An,Fn,Nn,zn,Mn,Ln,Un,Hn,Bn,Gn,Qn,Wn,Yn,Xn,Vn,qn,Jn,Kn,$n,ne,ee,re,te,ie,oe,ae,se,ce,de,le,pe=jn,xe=r(2206),ue=g.ZP.div(vn||(vn=(0,f.Z)(["\n  font-size: 12px;\n  padding: 0 0 120px;\n"]))),he=(g.ZP.div(yn||(yn=(0,f.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 7;\n  width: 100%;\n  display: flex;\n  padding: 10px;\n  position: fixed;\n  font-size: 15px;\n  margin: 0 0 10px 0;\n  align-items: center;\n  background-color: #fff;\n  justify-content: space-between;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  @media (min-width: 1200px) {\n    left: 25%;\n    width: 50%;\n  }\n"]))),g.ZP.div(Pn||(Pn=(0,f.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.div(wn||(wn=(0,f.Z)(["\n  display: flex;\n  padding: 0 20px 0 0;\n  justify-content: flex-end;\n"]))),g.ZP.div(Cn||(Cn=(0,f.Z)(["\n  margin: 0 0 0 20px;\n"]))),g.ZP.div(En||(En=(0,f.Z)(["\n  font-size: 12px;\n  padding: 0 10px;\n"]))),g.ZP.div(_n||(_n=(0,f.Z)(["\n  margin: 20px 10px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.p(Tn||(Tn=(0,f.Z)(["\n  font-weight: 700;\n  margin: 30px 10px 0;\n  text-transform: uppercase;\n  color: ",";\n"])),Z.Z.secondary)),fe=(g.ZP.div(Sn||(Sn=(0,f.Z)([""]))),g.ZP.div(Rn||(Rn=(0,f.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),g.ZP.p(In||(In=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(Dn||(Dn=(0,f.Z)(["\n  text-align: center;\n"])))),ge=g.ZP.p(On||(On=(0,f.Z)(["\n  margin: 0 5px 5px 0;\n"]))),Ze=g.ZP.span(kn||(kn=(0,f.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),Z.Z.primary),me=g.ZP.span(An||(An=(0,f.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),(function(n){return n.textColor})),be=g.ZP.span(Fn||(Fn=(0,f.Z)(["\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  border-radius: 5px;\n  color: ",";\n"])),Z.Z.secondary),je=g.ZP.div(Nn||(Nn=(0,f.Z)(["\n  display: flex;\n  margin: 20px 0 0;\n  justify-content: space-between;\n"]))),ve=(g.ZP.p(zn||(zn=(0,f.Z)(["\n  margin: 5px 0;\n  padding: 0 5px;\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: 5px;\n  width: fit-content;\n  color: ",";\n"])),Z.Z.primary),g.ZP.div(Mn||(Mn=(0,f.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),g.ZP.div(Ln||(Ln=(0,f.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),g.ZP.span(Un||(Un=(0,f.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),r(3163)),ye=function(n){var e=n.initCustomerAccount,r=n.customerAccountId,t=(0,c.v9)((function(n){return n.authReducer})).viewerQuery||{},i=t._id,d=t.roles.some((function(n){return n===Zn.If.CUSTOMER||n===Zn.If.STAFF_OF_CUSTOMER})),l=e&&e.node||{},p=l._id,u=l.fullName,h=(0,a.useState)(p),f=(0,o.Z)(h,2),g=f[0],m=f[1],b=e?g:r,v=localStorage.getItem(Zn.pP),y=(v&&JSON.parse(v)||{}).showUnapproveDebtsToCustomers,P=(0,s.a)(fn.JH,{variables:{where:{customerAccountId:b}},fetchPolicy:"cache-and-network"}).data,w=(0,s.a)(fn.cX,{variables:{filter:(0,x.Z)({customerAccountId:b},!y&&d&&{isApproved:!0})},fetchPolicy:"cache-and-network"}),C=w.loading,E=w.data,_=w.subscribeToMore,T=w.fetchMore,S=E&&E.debts.pageInfo||{},R=S.hasNextPage,I=P&&P.debtStatistical||{},D=I.totalDebts||0,O=I.totalPayments||0,k=D+O,A=I.totalOver30DaysDebts||0,F=I.totalOver60DaysDebts||0,N=I.totalOver90DaysDebts||0,z=I.totalCustomerIndueDebt||0,M=0!==D?(-D).toLocaleString():0,L=k>=0?Z.Z.linGreen:Z.Z.lightRed,U=E&&E.debts.edges||[],H=(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(je,{children:[(0,j.jsxs)(fe,{children:[(0,j.jsx)(ge,{children:"N\u1ee3 trong h\u1ea1n"}),(0,j.jsxs)(Ze,{backgroundColor:Z.Z.secondary,children:[z.toLocaleString()," ",(0,j.jsx)(be,{children:"\u0111"})]})]}),(0,j.jsxs)(fe,{children:[(0,j.jsx)(ge,{children:"Qu\xe1 \u2265 30 ng\xe0y"}),(0,j.jsxs)(Ze,{backgroundColor:Z.Z.secondary,children:[A.toLocaleString()," ",(0,j.jsx)(be,{children:"\u0111"})]})]}),(0,j.jsxs)(fe,{children:[(0,j.jsx)(ge,{children:"Qu\xe1 \u2265 60 ng\xe0y"}),(0,j.jsxs)(Ze,{backgroundColor:Z.Z.secondary,children:[F.toLocaleString()," ",(0,j.jsx)(be,{children:"\u0111"})]})]}),(0,j.jsxs)(fe,{children:[(0,j.jsx)(ge,{children:"Qu\xe1 \u2265 90 ng\xe0y"}),(0,j.jsxs)(Ze,{backgroundColor:Z.Z.secondary,children:[N.toLocaleString()," ",(0,j.jsx)(be,{children:"\u0111"})]})]})]})}),B=(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(je,{children:[!!e&&(0,j.jsxs)(fe,{children:[(0,j.jsx)(ge,{children:"Mua h\xe0ng"}),(0,j.jsxs)(Ze,{children:[M," ",(0,j.jsx)(be,{children:"\u0111"})]})]}),(0,j.jsxs)(fe,{children:[(0,j.jsx)(ge,{children:"\u0110\xe3 tr\u1ea3"}),(0,j.jsxs)(Ze,{children:[O.toLocaleString()," ",(0,j.jsx)(be,{children:"\u0111"})]})]}),(0,j.jsxs)(fe,{children:[(0,j.jsx)(ge,{children:"C\xf2n l\u1ea1i"}),(0,j.jsxs)(me,{textColor:L,children:[k.toLocaleString()," ",(0,j.jsx)(be,{children:"\u0111"})]})]})]})});return(0,a.useEffect)((function(){var n=function(n){var e=n||{},r=e.customerAccountId,t=e.staffAccountId,o=e.managerAccountId,a=e.directorAccountId;return i===r||i===t||i===o||i===a},e=_({document:ve.Fb,updateQuery:function(e,r){var t=r.subscriptionData;return(0,xe.FM)("debts","addedNewDebt",t,e,n,!0)}});return function(){return e()}}),[_]),(0,a.useEffect)((function(){var n=document.getElementById(Zn.Qk.GLOBAL);n.onscroll=function(e){var r=n.scrollHeight-window.innerHeight;n.scrollTop>=r&&R&&!C&&T({variables:{cursor:S.endCursor},updateQuery:function(n,e){var r=e.fetchMoreResult;return(0,xe.d0)("debts",r,n)}})}}),[R]),(0,j.jsxs)(ue,{id:"abcdef",children:[!!e&&(0,j.jsx)(Q.Z,{showDateTimeInputs:!1,showSelectAllButton:!1,children:(0,j.jsxs)(j.Fragment,{children:[B,H]}),searchPlaceholder:u,onClickSelectResultItem:function(n){var e=(n&&n.node||{})._id;m(e)},canSearchCustomer:!0}),(0,j.jsx)(he,{children:"NH\u1eacT K\xdd"}),U.map((function(n,e){return(0,j.jsx)(pe,{debtItem:n.node},e)}))]})},Pe=r(6580),we=g.ZP.div(Hn||(Hn=(0,f.Z)(["\n  font-size: 12px;\n  padding: 70px 0 120px;\n  display: ",";\n"])),(function(n){return n.isDisplay?"block":"none"})),Ce=g.ZP.div(Bn||(Bn=(0,f.Z)(["\n  top: 0;\n  left: 0;\n  z-index: 7;\n  width: 100%;\n  display: flex;\n  padding: 10px;\n  position: fixed;\n  font-size: 15px;\n  margin: 0 0 10px 0;\n  align-items: center;\n  background-color: #fff;\n  justify-content: space-between;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  & h5 {\n    font-size: 13px;\n    font-weight: 700;\n  }\n  @media (min-width: 1200px) {\n    left: 25%;\n    width: 50%;\n  }\n"]))),Ee=g.ZP.div(Gn||(Gn=(0,f.Z)(["\n  display: flex;\n  margin: 30px auto 15px;\n  width: fit-content;\n  justify-content: center;\n"]))),_e=g.ZP.div(Qn||(Qn=(0,f.Z)(["\n  padding: 5px;\n  cursor: pointer;\n  text-align: center;\n  color: ",";\n  border-left: 1px solid ",";\n  background-color: ",";\n"])),(function(n){return n.activeColor.textColor}),(function(n){return n.borderLeftColor}),(function(n){return n.activeColor.backgroundColor})),Te=(g.ZP.div(Wn||(Wn=(0,f.Z)(["\n  margin: 20px 0;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.div(Yn||(Yn=(0,f.Z)(["\n  display: flex;\n  justify-content: flex-end;\n"])))),Se=g.ZP.div(Xn||(Xn=(0,f.Z)(["\n  margin: 0 0 0 20px;\n"]))),Re=(g.ZP.div(Vn||(Vn=(0,f.Z)(["\n  font-size: 12px;\n  padding: 0 10px;\n"]))),g.ZP.div(qn||(qn=(0,f.Z)(["\n  margin: 20px 10px;\n  position: relative;\n  background-color: #fff;\n  padding: 15px 10px 10px;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%),\n    0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n"]))),g.ZP.p(Jn||(Jn=(0,f.Z)(["\n  font-weight: 700;\n  margin: 30px 10px 0;\n  text-transform: uppercase;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(Kn||(Kn=(0,f.Z)([""]))),g.ZP.div($n||($n=(0,f.Z)(["\n  display: flex;\n  margin: 5px 0;\n  align-items: center;\n  justify-content: space-between;\n"]))),g.ZP.p(ne||(ne=(0,f.Z)(["\n  font-style: italic;\n  color: ",";\n"])),Z.Z.secondary),g.ZP.div(ee||(ee=(0,f.Z)(["\n  text-align: center;\n"])))),Ie=g.ZP.p(re||(re=(0,f.Z)(["\n  margin: 0 5px 5px 0;\n"]))),De=g.ZP.span(te||(te=(0,f.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),Z.Z.primary),Oe=g.ZP.span(ie||(ie=(0,f.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  color: ",";\n"])),(function(n){return n.textColor})),ke=g.ZP.span(oe||(oe=(0,f.Z)(["\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  border-radius: 5px;\n  color: ",";\n"])),Z.Z.secondary),Ae=g.ZP.div(ae||(ae=(0,f.Z)(["\n  display: flex;\n  margin: 20px 0 0;\n  justify-content: space-between;\n"]))),Fe=(g.ZP.p(se||(se=(0,f.Z)(["\n  margin: 5px 0;\n  padding: 0 5px;\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: 5px;\n  width: fit-content;\n  color: ",";\n"])),Z.Z.primary),g.ZP.div(ce||(ce=(0,f.Z)(["\n  top: 0;\n  right: 10px;\n  color: #777;\n  font-size: 20px;\n  cursor: pointer;\n  width: fit-content;\n  position: absolute;\n"]))),g.ZP.div(de||(de=(0,f.Z)(["\n  top: 20px;\n  right: 10px;\n  padding: 5px 10px;\n  position: absolute;\n  border-radius: 5px;\n  background-color: #fff;\n  display: ",";\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(n){return n.display})),g.ZP.span(le||(le=(0,f.Z)(["\n  margin: 5px;\n  font-size: 12px;\n"]))),r(2153)),Ne=(0,a.lazy)((function(){return Promise.all([r.e(5627),r.e(8161)]).then(r.bind(r,760))})),ze=(0,a.lazy)((function(){return Promise.all([r.e(5627),r.e(2655)]).then(r.bind(r,2655))})),Me=function(n){var e=n.isDisplay,r=(0,c.I0)(),t=[{code:"all",label:"T\u1ea5t c\u1ea3"},{code:"waiting_for_approve",label:"Ch\u01b0a duy\u1ec7t"}],i=(0,a.useState)(t[0]),l=(0,o.Z)(i,2),x=l[0],u=l[1],h=function(n){return n.code===x.code?{backgroundColor:Z.Z.primary,textColor:Z.Z.white}:{backgroundColor:Z.Z.white,textColor:""}},f=(0,c.v9)((function(n){return n.authReducer})).viewerQuery||{},g=f._id,m=f.roles,b=f.permissions,v=void 0===b?[]:b,y=f.fatherChildrenAccountIds,P=m.includes(Zn.If.CUSTOMER)||m.includes(Zn.If.STAFF_OF_CUSTOMER),w=m.includes(Zn.If.STAFF_OF_CUSTOMER)?y[0]:P?g:void 0,C=(0,a.useState)(w),E=(0,o.Z)(C,2),_=E[0],T=E[1],S=v.some((function(n){return n===mn.gz.CAN_CREATE_RECEIPT_FOR_OWN_CUSTOMER||n===mn.gz.CAN_CREATE_RECEIPT_FOR_ANY_CUSTOMER})),R=v.includes(mn.gz.CAN_APPROVE_RECEIPT),I=(0,s.a)(fn.gG,{skip:P}).data,D=I&&I.viewerIndueDebts||0,O=(0,a.useState)(void 0),k=(0,o.Z)(O,2),A=k[0],F=k[1];(0,s.a)(fn.JH,{variables:{where:{customerAccountId:_}},fetchPolicy:"cache-and-network",onCompleted:function(n){F(n)}});var N=(0,s.a)(fn.cX,{variables:{filter:{isApproved:!1,customerAccountId:_}}}).data,z=N&&N.debts.edges||[],M=A&&A.debtStatistical||{},L=M.totalDebts||0,U=M.totalPayments||0,H=L+U,B=M.totalOver30DaysDebts||0,G=M.totalOver60DaysDebts||0,W=M.totalOver90DaysDebts||0,Y=M.totalCustomerIndueDebt||0,X=0!==L?(-L).toLocaleString():0,V=_?Y:D,q=H>=0?Z.Z.linGreen:Z.Z.lightRed,J=(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(Ae,{children:[(0,j.jsxs)(Re,{children:[(0,j.jsx)(Ie,{children:"N\u1ee3 trong h\u1ea1n"}),(0,j.jsxs)(De,{children:[V.toLocaleString()," ",(0,j.jsx)(ke,{children:"\u0111"})]})]}),(0,j.jsxs)(Re,{children:[(0,j.jsx)(Ie,{children:"Qu\xe1 \u2265 30 ng\xe0y"}),(0,j.jsxs)(De,{children:[B.toLocaleString()," ",(0,j.jsx)(ke,{children:"\u0111"})]})]}),(0,j.jsxs)(Re,{children:[(0,j.jsx)(Ie,{children:"Qu\xe1 \u2265 60 ng\xe0y"}),(0,j.jsxs)(De,{children:[G.toLocaleString()," ",(0,j.jsx)(ke,{children:"\u0111"})]})]}),(0,j.jsxs)(Re,{children:[(0,j.jsx)(Ie,{children:"Qu\xe1 \u2265 90 ng\xe0y"}),(0,j.jsxs)(De,{children:[W.toLocaleString()," ",(0,j.jsx)(ke,{children:"\u0111"})]})]})]})}),K=(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(Ae,{children:[(0,j.jsxs)(Re,{children:[(0,j.jsx)(Ie,{children:"Mua h\xe0ng"}),(0,j.jsxs)(De,{children:[X," ",(0,j.jsx)(ke,{children:"\u0111"})]})]}),(0,j.jsxs)(Re,{children:[(0,j.jsx)(Ie,{children:"\u0110\xe3 tr\u1ea3"}),(0,j.jsxs)(De,{children:[U.toLocaleString()," ",(0,j.jsx)(ke,{children:"\u0111"})]})]}),(0,j.jsxs)(Re,{children:[(0,j.jsx)(Ie,{children:"C\xf2n l\u1ea1i"}),(0,j.jsxs)(Oe,{textColor:q,children:[H.toLocaleString()," ",(0,j.jsx)(ke,{children:"\u0111"})]})]})]})}),$=function(n){var e={title:"Chi ti\u1ebft c\xf4ng n\u1ee3",children:(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)(d.default,{}),children:(0,j.jsx)(ye,{initCustomerAccount:n})})};r((0,Fe.dn)(e))},nn=_?(0,j.jsx)(ye,{customerAccountId:_}):(0,j.jsx)(Pe.Z,{isDebts:!0,onClickCustomerItem:$}),en=function(){switch(x.code){case t[0].code:return nn;case t[1].code:return(0,j.jsx)(j.Fragment,{children:z.map((function(n,e){return(0,j.jsx)(pe,{debtItem:n.node},e)}))});default:return null}}();return(0,j.jsxs)(we,{isDisplay:e,children:[(0,j.jsxs)(Ce,{children:[(0,j.jsx)("h5",{children:"C\xd4NG N\u1ee2"}),(0,j.jsxs)(Te,{children:[(0,j.jsx)(Se,{children:S&&(0,j.jsx)(p.Z,{label:"+ Thu ti\u1ec1n",onClick:function(){var n={title:"Thu ti\u1ec1n",children:(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)(d.default,{}),children:(0,j.jsx)(ze,{})})};r((0,Fe.dn)(n))}})}),(0,j.jsx)(Se,{children:R&&(0,j.jsx)(p.Z,{label:"+ Nh\u1eadp c\xf4ng n\u1ee3",onClick:function(){var n={title:"Nh\u1eadp c\xf4ng n\u1ee3",children:(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)(d.default,{}),children:(0,j.jsx)(Ne,{})})};r((0,Fe.dn)(n))}})})]})]}),(0,j.jsx)(Q.Z,{showDateTimeInputs:!1,children:(0,j.jsxs)(j.Fragment,{children:[!!_&&K,J]}),onClickSelectResultItem:function(n){var e=(n&&n.node||{})._id;T(e)},searchPlaceholder:"T\u1ea5t c\u1ea3",canSearchCustomer:!0}),R&&(0,j.jsx)(Ee,{children:t.map((function(n,e){return(0,j.jsx)(_e,{activeColor:h(n),onClick:function(){return u(n)},borderLeftColor:e>0?Z.Z.primary:"transparent",children:n.label},e)}))}),en]})}},2180:function(n,e,r){r.d(e,{Z:function(){return s}});r(7313);var t,i=r(168),o=r(3115).ZP.p(t||(t=(0,i.Z)(["\n  font-size: 13px;\n  font-weight: 500;\n"]))),a=r(6417),s=function(n){var e=n.label;return(0,a.jsx)(o,{children:e})}},9673:function(n,e,r){r.d(e,{Z:function(){return f}});var t,i,o=r(1413),a=(r(7313),r(2180)),s=r(6947),c=r(168),d=r(3115),l=r(1237),p=d.ZP.div(t||(t=(0,c.Z)(["\n  height: 26px;\n  display: inline-block;\n  width: ",";\n  margin: ",";\n"])),(function(n){return n.width?n.width:"100%"}),(function(n){return n.margin?n.margin:"0 0 0 5px"})),x=d.ZP.input(i||(i=(0,c.Z)(["\n  width: 100%;\n  border: none;\n  font-size: 12px;\n  font-weight: 300;\n  padding: ",";\n  line-height: ",";\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  font-style: ",";\n  text-align: ",";\n  &:hover {\n    box-shadow: none;\n  }\n  &:focus {\n    box-shadow: none;\n  }\n  &:focus-visible {\n    outline: none;\n    box-shadow: none;\n  }\n"])),(function(n){return n.padding}),(function(n){return n.lineHeight}),l.Z.lightWhite,l.Z.secondary,(function(n){return n.fontStyle?n.fontStyle:""}),(function(n){return n.textAlign?n.textAlign:"left"})),u=r(6417),h=function(n){var e=n.label,r=n.name,t=n.isError,i=n.errorMessage,c=n.register,d=n.validations,l=n.isInline,h=n.width,f=n.margin,g=l?"auto":h;return(0,u.jsxs)(p,{width:g,margin:f,children:[e&&(0,u.jsx)(a.Z,{label:e}),(0,u.jsx)(x,(0,o.Z)((0,o.Z)({},c(r,d)),n)),(0,u.jsx)(s.Z,{isError:t,errorMessage:i})]})};h.defaultProps={type:"text",validations:{},padding:"2px 5px",register:function(){},lineHeight:"20px"};var f=h},6618:function(n,e,r){var t=r(4836);e.Z=void 0;var i=t(r(5045)),o=r(6417),a=(0,i.default)((0,o.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");e.Z=a},5414:function(n,e,r){r.d(e,{Z:function(){return w}});var t=r(3366),i=r(7462),o=r(7313),a=r(3061),s=r(2982),c=r(3019),d=r(3103),l=["sx"];function p(n){var e,r=n.sx,o=function(n){var e={systemProps:{},otherProps:{}};return Object.keys(n).forEach((function(r){d.Gc[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]})),e}((0,t.Z)(n,l)),a=o.systemProps,p=o.otherProps;return e=Array.isArray(r)?[a].concat((0,s.Z)(r)):"function"===typeof r?function(){var n=r.apply(void 0,arguments);return(0,c.P)(n)?(0,i.Z)({},a,n):a}:(0,i.Z)({},a,r),(0,i.Z)({},p,{sx:e})}var x=r(1921),u=r(6749),h=r(3729),f=r(8170),g=r(7430),Z=r(2298);function m(n){return(0,Z.Z)("MuiTypography",n)}(0,g.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var b=r(6417),j=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,u.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(n,e){var r=n.ownerState;return[e.root,r.variant&&e[r.variant],"inherit"!==r.align&&e["align".concat((0,f.Z)(r.align))],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})((function(n){var e=n.theme,r=n.ownerState;return(0,i.Z)({margin:0},r.variant&&e.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})})),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},P={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},w=o.forwardRef((function(n,e){var r=(0,h.Z)({props:n,name:"MuiTypography"}),o=function(n){return P[n]||n}(r.color),s=p((0,i.Z)({},r,{color:o})),c=s.align,d=void 0===c?"inherit":c,l=s.className,u=s.component,g=s.gutterBottom,Z=void 0!==g&&g,w=s.noWrap,C=void 0!==w&&w,E=s.paragraph,_=void 0!==E&&E,T=s.variant,S=void 0===T?"body1":T,R=s.variantMapping,I=void 0===R?y:R,D=(0,t.Z)(s,j),O=(0,i.Z)({},s,{align:d,color:o,className:l,component:u,gutterBottom:Z,noWrap:C,paragraph:_,variant:S,variantMapping:I}),k=u||(_?"p":I[S]||y[S])||"span",A=function(n){var e=n.align,r=n.gutterBottom,t=n.noWrap,i=n.paragraph,o=n.variant,a=n.classes,s={root:["root",o,"inherit"!==n.align&&"align".concat((0,f.Z)(e)),r&&"gutterBottom",t&&"noWrap",i&&"paragraph"]};return(0,x.Z)(s,m,a)}(O);return(0,b.jsx)(v,(0,i.Z)({as:k,ref:e,ownerState:O,className:(0,a.Z)(A.root,l)},D))}))}}]);